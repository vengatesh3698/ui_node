{"version":3,"file":"vue3-side-panel.js","sources":["../src/components/SidePanelCloseButton.vue","../src/components/SidePanel.vue","../src/VueSidePanel.ts"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'SidePanelCloseButton',\n  emits: ['close'],\n});\n</script>\n\n<template>\n  <div class=\"vsp-close\" @click=\"$emit('close')\">\n    <span class=\"vsp-close__x\" />\n  </div>\n</template>\n\n<style lang=\"scss\">\n.vsp-close {\n  $this: &;\n\n  position: absolute;\n  top: 24px;\n  right: 24px;\n  display: inline-block;\n  width: 36px;\n  height: 36px;\n  text-align: center;\n  cursor: pointer;\n  background: white;\n  border-radius: 50%;\n  transition: background-color 0.1s;\n\n  &:hover {\n    background: #f7f7f7;\n  }\n\n  &__x {\n    position: relative;\n    top: 8px;\n    left: -1px;\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n\n    &::before,\n    &::after {\n      position: absolute;\n      width: 2px;\n      height: 20px;\n      content: ' ';\n      background-color: #777;\n    }\n\n    &::before {\n      transform: rotate(-45deg);\n    }\n\n    &::after {\n      transform: rotate(45deg);\n    }\n\n    #{$this}:active & {\n      top: 9px;\n      left: -1px;\n    }\n  }\n\n  &:active {\n    top: 23px;\n    right: 23px;\n    width: 38px;\n    height: 38px;\n    background: #f1f1f1;\n  }\n}\n</style>\n","<script lang=\"ts\">\nimport {\n  defineComponent,\n  onBeforeMount,\n  onBeforeUnmount,\n  PropType,\n  watch,\n  ref,\n  computed,\n  onMounted,\n  nextTick,\n} from 'vue';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport SidePanelCloseButton from './SidePanelCloseButton.vue';\n\nexport default defineComponent({\n  name: 'VueSidePanel',\n  components: {\n    SidePanelCloseButton,\n  },\n  props: {\n    idName: {\n      type: String as PropType<string>,\n      default: 'vsp-container',\n    },\n    hideCloseBtn: {\n      type: Boolean as PropType<boolean>,\n      default: false,\n    },\n    noClose: {\n      type: Boolean as PropType<boolean>,\n      default: false,\n    },\n    side: {\n      type: String as PropType<string>,\n      validator: (value: string) => ['top', 'right', 'bottom', 'left'].includes(value),\n      default: 'right',\n    },\n    rerender: {\n      type: Boolean as PropType<boolean>,\n      default: false,\n    },\n    zIndex: {\n      type: [Number, String] as PropType<number | 'auto' | undefined>,\n      default: 'auto',\n    },\n    width: {\n      type: String as PropType<string>,\n      default: 'auto',\n    },\n    height: {\n      type: String as PropType<string>,\n      default: 'auto',\n    },\n    lockScroll: {\n      type: Boolean as PropType<boolean>,\n      default: false,\n    },\n    lockScrollHtml: {\n      type: Boolean as PropType<boolean>,\n      default: true,\n    },\n    modelValue: {\n      type: Boolean as PropType<boolean>,\n      default: false,\n      required: true,\n    },\n    overlayColor: {\n      type: String as PropType<string>,\n      default: 'black',\n    },\n    overlayOpacity: {\n      type: Number as PropType<number>,\n      default: 0.5,\n    },\n    overlayDuration: {\n      type: Number as PropType<number>,\n      default: 500,\n    },\n    panelColor: {\n      type: String as PropType<string>,\n      default: 'white',\n    },\n    panelDuration: {\n      type: Number as PropType<number>,\n      default: 300,\n    },\n    transitionName: {\n      type: String as PropType<string>,\n      default: undefined,\n    },\n    headerClass: {\n      type: String as PropType<string>,\n      default: '',\n    },\n    bodyClass: {\n      type: String as PropType<string>,\n      default: '',\n    },\n    footerClass: {\n      type: String as PropType<string>,\n      default: '',\n    },\n  },\n  emits: ['update:modelValue'],\n  setup(props, { emit, attrs }) {\n    let teleportContainer = undefined as HTMLDivElement | undefined;\n    const panel = ref<HTMLElement | null>(null);\n    const overlay = ref<HTMLElement | null>(null);\n    const footer = ref<HTMLElement | null>(null);\n    const header = ref<HTMLElement | null>(null);\n    const body = ref<HTMLElement | null>(null);\n    const footerHeight = ref(0);\n    const bodyScrollHeight = ref(0);\n    const headerHeight = ref(0);\n    const panelHeight = ref(0);\n    const windowHeight = ref(0);\n    const zIndex = ref<number>();\n    const isBodyAlreadyLocked = ref(false);\n\n    const calculateRightSize = async () => {\n      if (window?.innerHeight > 0) windowHeight.value = window.innerHeight;\n\n      footerHeight.value = footer.value ? footer.value.clientHeight : 0;\n      headerHeight.value = header.value ? header.value.clientHeight : 0;\n      bodyScrollHeight.value = body.value ? body.value.scrollHeight : 0;\n      panelHeight.value = panel.value ? panel.value.clientHeight : 0;\n    };\n\n    const closePanel = () => emit('update:modelValue', false);\n\n    const lockUnlockBodyScroll = (elem: HTMLElement, lock: boolean) => {\n      if (lock) {\n        setTimeout(() => {\n          disableBodyScroll(elem, {reserveScrollBarGap: true});\n          if (props.lockScrollHtml) document.documentElement.style.overflow = 'hidden';\n        }, 0);\n        return;\n      }\n\n      enableBodyScroll(elem);\n      if (props.lockScrollHtml) document.documentElement.style.removeProperty('overflow');\n    };\n\n    const getMaxZIndex = () =>\n      Math.max(\n        ...Array.from(document.querySelectorAll('body *'), (el) =>\n          parseFloat(window.getComputedStyle(el).zIndex),\n        ).filter((zIndex) => !Number.isNaN(zIndex)),\n        0,\n      );\n\n    onMounted(() => {\n      zIndex.value = props.zIndex === 'auto' ? getMaxZIndex() : props.zIndex;\n    });\n\n    onBeforeMount(() => {\n      const alreadyCreatedTarget = document.getElementById(props.idName);\n      if (!!alreadyCreatedTarget) return;\n      teleportContainer = document.createElement('div');\n      teleportContainer.setAttribute('id', props.idName);\n      document.body.appendChild(teleportContainer);\n    });\n\n    onBeforeUnmount(() => {\n      const { modelValue, lockScroll } = props\n      if (lockScroll && panel.value && modelValue) lockUnlockBodyScroll(panel.value, false);\n      if (teleportContainer) document.body.removeChild(teleportContainer);\n      window.removeEventListener('resize', calculateRightSize);\n    });\n\n    watch(\n      () => [header.value, footer.value, props.height, props.width, props.side, props.modelValue],\n      () => {\n        nextTick(() => calculateRightSize());\n      },\n    );\n\n    watch(\n      () => [props.modelValue, panel.value],\n      (newP, oldP) => {\n        const wasShown = oldP ? (oldP[0] as boolean) : false;\n        const [isShown, panelEl] = newP as [boolean, HTMLElement | null];\n        const isOpening = isShown;\n        const isClosing = wasShown && !isShown;\n        if (!panelEl) return;\n        if (isOpening) isBodyAlreadyLocked.value = !!document.body.style.overflow;\n\n        if (isShown) {\n          if (props.lockScroll) lockUnlockBodyScroll(panelEl, true);\n          calculateRightSize();\n          window.addEventListener('resize', calculateRightSize);\n          return;\n        }\n\n        if (!props.lockScroll || !isClosing || isBodyAlreadyLocked.value) return;\n\n        setTimeout(() => {\n          if (panelEl) lockUnlockBodyScroll(panelEl, false);\n        }, props.panelDuration);\n        window.removeEventListener('resize', calculateRightSize);\n      },\n      { immediate: true },\n    );\n\n    const bodyHeight = computed<number | undefined>(() => {\n      if (!panelHeight.value) return;\n\n      const panelMaxHeight = bodyScrollHeight.value + headerHeight.value + footerHeight.value;\n      let height = panelHeight.value - headerHeight.value - footerHeight.value;\n\n      if (['top', 'bottom'].includes(props.side) && props.height === 'auto') {\n        height =\n          windowHeight.value >= panelMaxHeight\n            ? bodyScrollHeight.value\n            : windowHeight.value - headerHeight.value - footerHeight.value;\n      }\n\n      return height;\n    });\n\n    const overlayStyles = computed(() => ({\n      zIndex: zIndex.value,\n      animationDuration: `${props.overlayDuration}ms`,\n      '--overlay-opacity': props.overlayOpacity,\n      opacity: props.modelValue ? props.overlayOpacity : 0,\n      backgroundColor: props.overlayColor,\n      pointerEvents: !props.modelValue ? 'none' : 'all',\n    }));\n\n    const panelStyles = computed(() => ({\n      width: ['left', 'right'].includes(props.side) ? props.width : undefined,\n      maxWidth: '100%',\n\n      ...(['top', 'bottom'].includes(props.side)\n        ? {\n            // minHeight: props.height,\n            height: props.height,\n            maxHeight: '100%',\n          }\n        : {}),\n\n      zIndex: zIndex.value,\n      backgroundColor: props.panelColor,\n      animationDuration: `${props.panelDuration}ms`,\n\n      ...Object.assign({}, attrs.style),\n    }));\n\n    return {\n      body,\n      panel,\n      overlay,\n      overlayStyles,\n      header,\n      footer,\n      closePanel,\n      panelStyles,\n      bodyHeight,\n    };\n  },\n});\n</script>\n\n<template>\n  <teleport :to=\"`#${idName}`\">\n    <div class=\"vsp-wrapper\" :class=\"[modelValue && 'vsp-wrapper--active']\">\n      <Transition name=\"overlay\">\n        <div\n          v-show=\"modelValue\"\n          ref=\"overlay\"\n          class=\"vsp-overlay\"\n          :style=\"overlayStyles\"\n          @click=\"() => (noClose ? undefined : closePanel())\"\n        />\n      </Transition>\n      <Transition :name=\"transitionName || `slide-${side}`\">\n        <div\n          v-if=\"rerender ? modelValue : true\"\n          v-show=\"rerender ? true : modelValue\"\n          ref=\"panel\"\n          class=\"vsp\"\n          :class=\"[`vsp--${side}-side`, $attrs.class]\"\n          :style=\"panelStyles\"\n        >\n          <div v-if=\"!!$slots.header\" ref=\"header\" :class=\"[headerClass, 'vsp__header']\">\n            <slot name=\"header\" :close=\"closePanel\" />\n          </div>\n          <div ref=\"body\" :class=\"[bodyClass, 'vsp__body']\" :style=\"{ height: `${bodyHeight}px` }\">\n            <slot name=\"default\" :close=\"closePanel\" />\n            <SidePanelCloseButton v-if=\"!hideCloseBtn\" @close=\"closePanel\" />\n          </div>\n          <div v-if=\"!!$slots.footer\" ref=\"footer\" :class=\"[footerClass, 'vsp__footer']\">\n            <slot name=\"footer\" />\n          </div>\n        </div>\n      </Transition>\n    </div>\n  </teleport>\n</template>\n\n<style lang=\"scss\">\n.vsp-wrapper {\n  .vsp-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  .vsp {\n    position: fixed;\n\n    &--right-side,\n    &--left-side {\n      top: 0;\n      height: 100%;\n    }\n\n    &--right-side {\n      right: 0;\n      left: unset;\n    }\n\n    &--left-side {\n      right: unset;\n      left: 0;\n    }\n\n    &--bottom-side,\n    &--top-side {\n      left: 0;\n      width: 100%;\n    }\n\n    &--bottom-side {\n      bottom: 0;\n    }\n\n    &--top-side {\n      top: 0;\n    }\n\n    &__header,\n    &__body,\n    &__footer {\n      overflow: auto;\n    }\n\n    &__body {\n      position: relative;\n    }\n  }\n\n  .overlay-enter-active,\n  .overlay-leave-active {\n    animation: overlay-transition;\n  }\n\n  .overlay-leave-active {\n    animation-direction: reverse;\n  }\n\n  .slide-right-enter-active,\n  .slide-right-leave-active {\n    animation: slide-right;\n  }\n\n  .slide-right-leave-active {\n    animation-direction: reverse;\n  }\n\n  .slide-left-enter-active,\n  .slide-left-leave-active {\n    animation: slide-left;\n  }\n\n  .slide-left-leave-active {\n    animation-direction: reverse;\n  }\n\n  .slide-top-enter-active,\n  .slide-top-leave-active {\n    animation: slide-left;\n  }\n\n  .slide-top-leave-active {\n    animation-direction: reverse;\n  }\n\n  .slide-top-enter-active,\n  .slide-top-leave-active {\n    animation: slide-top;\n  }\n\n  .slide-top-leave-active {\n    animation-direction: reverse;\n  }\n\n  .slide-bottom-enter-active,\n  .slide-bottom-leave-active {\n    animation: slide-bottom;\n  }\n\n  .slide-bottom-leave-active {\n    animation-direction: reverse;\n  }\n\n  @keyframes slide-right {\n    0% {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    100% {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-left {\n    0% {\n      transform: translateX(-100%);\n      opacity: 0;\n    }\n    100% {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-bottom {\n    0% {\n      transform: translateY(100%);\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-top {\n    0% {\n      transform: translateY(-100%);\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-top {\n    0% {\n      transform: translateY(-100%);\n      opacity: 0;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes overlay-transition {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: var(--overlay-opacity);\n    }\n  }\n}\n</style>\n","import { Plugin } from 'vue';\nimport SidePanel from './components/SidePanel.vue';\n\nexport default {\n  install(app) {\n    app.component('VueSidePanel', SidePanel);\n  },\n} as Plugin;\n"],"names":["defineComponent","SidePanelCloseButton","ref","disableBodyScroll","enableBodyScroll","onMounted","onBeforeMount","onBeforeUnmount","watch","nextTick","computed","SidePanel"],"mappings":"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"}