{"version":3,"file":"VaForm.vue_vue_type_script_lang-19d28836.mjs","sources":["../../../../../src/components/va-form/VaForm.vue"],"sourcesContent":["<template>\n  <component\n    class=\"va-form\"\n    :is=\"tag\"\n    v-bind=\"$attrs\"\n  >\n    <slot v-bind=\"{ isValid, validate }\" />\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch, PropType, computed } from 'vue'\n\nimport { useComponentPresetProp } from '../../composables/useComponentPreset'\nimport { useFormParent } from '../../composables/useForm'\nimport { useLocalConfigProvider } from '../../composables/useLocalConfig'\n\nconst props = { stateful: true }\n\nconst statefulConfig = {\n  VaInput: props,\n  VaSelect: props,\n  VaCheckbox: props,\n  VaRadio: props,\n  VaDatePicker: props,\n  VaTimePicker: props,\n  VaColorPicker: props,\n  VaSlider: props,\n  VaSwitch: props,\n  VaFileUpload: props,\n  VaRating: props,\n  VaDateInput: props,\n  VaTimeInput: props,\n}\n\nexport default defineComponent({\n  name: 'VaForm',\n\n  props: {\n    ...useComponentPresetProp,\n    autofocus: { type: Boolean, default: false },\n    immediate: { type: Boolean, default: false },\n    tag: { type: String, default: 'div' },\n    trigger: { type: String as PropType<'blur' | 'change'>, default: 'blur' },\n    modelValue: { type: Boolean, default: true },\n    hideErrors: { type: Boolean, default: false },\n    hideErrorMessages: { type: Boolean, default: false },\n    hideLoading: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: false },\n  },\n\n  emits: ['update:modelValue'],\n\n  setup (props, { emit }) {\n    const context = useFormParent(props)\n\n    watch(context.isValid, (value) => {\n      emit('update:modelValue', value)\n    })\n\n    watch(() => props.autofocus, (value) => {\n      if (value) {\n        context.focus()\n      }\n    }, { immediate: true })\n\n    watch(context.fields, (newVal) => {\n      if (newVal.length && props.immediate) {\n        context.validate()\n      }\n    }, { immediate: true })\n\n    useLocalConfigProvider(computed(() => {\n      if (!props.stateful) { return {} }\n\n      return statefulConfig\n    }))\n\n    return {\n      ...context,\n      context: context,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n.va-form {\n  font-family: var(--va-font-family);\n}\n</style>\n"],"names":["props"],"mappings":";;;;AAiBA,MAAM,QAAQ,EAAE,UAAU;AAE1B,MAAM,iBAAiB;AAAA,EACrB,SAAS;AAAA,EACT,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,cAAc;AAAA,EACd,cAAc;AAAA,EACd,eAAe;AAAA,EACf,UAAU;AAAA,EACV,UAAU;AAAA,EACV,cAAc;AAAA,EACd,UAAU;AAAA,EACV,aAAa;AAAA,EACb,aAAa;AACf;AAEA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EAEN,OAAO;AAAA,IACL,GAAG;AAAA,IACH,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC3C,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC3C,KAAK,EAAE,MAAM,QAAQ,SAAS,MAAM;AAAA,IACpC,SAAS,EAAE,MAAM,QAAuC,SAAS,OAAO;AAAA,IACxE,YAAY,EAAE,MAAM,SAAS,SAAS,KAAK;AAAA,IAC3C,YAAY,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC5C,mBAAmB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACnD,aAAa,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC7C,UAAU,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,EAC5C;AAAA,EAEA,OAAO,CAAC,mBAAmB;AAAA,EAE3B,MAAOA,QAAO,EAAE,QAAQ;AAChB,UAAA,UAAU,cAAcA,MAAK;AAE7B,UAAA,QAAQ,SAAS,CAAC,UAAU;AAChC,WAAK,qBAAqB,KAAK;AAAA,IAAA,CAChC;AAED,UAAM,MAAMA,OAAM,WAAW,CAAC,UAAU;AACtC,UAAI,OAAO;AACT,gBAAQ,MAAM;AAAA,MAChB;AAAA,IAAA,GACC,EAAE,WAAW,KAAA,CAAM;AAEhB,UAAA,QAAQ,QAAQ,CAAC,WAAW;AAC5B,UAAA,OAAO,UAAUA,OAAM,WAAW;AACpC,gBAAQ,SAAS;AAAA,MACnB;AAAA,IAAA,GACC,EAAE,WAAW,KAAA,CAAM;AAEtB,2BAAuB,SAAS,MAAM;AAChC,UAAA,CAACA,OAAM,UAAU;AAAE,eAAO;MAAG;AAE1B,aAAA;AAAA,IACR,CAAA,CAAC;AAEK,WAAA;AAAA,MACL,GAAG;AAAA,MACH;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;"}