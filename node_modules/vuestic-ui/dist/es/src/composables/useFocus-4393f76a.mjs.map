{"version":3,"file":"useFocus-4393f76a.mjs","sources":["../../../../src/composables/useFocus.ts"],"sourcesContent":["import { unwrapEl } from './../utils/unwrapEl'\nimport { focusElement, blurElement } from './../utils/focus'\nimport { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport const useFocusEmits = ['focus', 'blur'] as const\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const isFocused = ref(false)\n\n  const onFocus = (e?: Event) => {\n    isFocused.value = true\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    isFocused.value = false\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    if (!el?.value) { return }\n    focusElement(unwrapEl(el?.value))\n  }\n\n  const blur = (): void => {\n    if (!el?.value) { return }\n    blurElement(unwrapEl(el?.value))\n  }\n\n  let element: any\n  onMounted(() => {\n    element = (el?.value as any)?.$el ?? el?.value\n    if (element) {\n      element.addEventListener('focus', onFocus)\n      element.addEventListener('blur', onBlur)\n    }\n  })\n  onBeforeUnmount(() => {\n    if (element) {\n      element.removeEventListener('focus', onFocus)\n      element.removeEventListener('blur', onBlur)\n    }\n  })\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"names":[],"mappings":";;;AAIa,MAAA,gBAAgB,CAAC,SAAS,MAAM;AAE7B,SAAA,SACd,IACA,MACA;AACM,QAAA,YAAY,IAAI,KAAK;AAErB,QAAA,UAAU,CAAC,MAAc;AAC7B,cAAU,QAAQ;AAClB,iCAAO,SAAS;AAAA,EAAC;AAGb,QAAA,SAAS,CAAC,MAAc;AAC5B,cAAU,QAAQ;AAClB,iCAAO,QAAQ;AAAA,EAAC;AAGlB,QAAM,QAAQ,MAAY;AACpB,QAAA,EAAC,yBAAI,QAAO;AAAE;AAAA,IAAO;AACZ,iBAAA,SAAS,yBAAI,KAAK,CAAC;AAAA,EAAA;AAGlC,QAAM,OAAO,MAAY;AACnB,QAAA,EAAC,yBAAI,QAAO;AAAE;AAAA,IAAO;AACb,gBAAA,SAAS,yBAAI,KAAK,CAAC;AAAA,EAAA;AAG7B,MAAA;AACJ,YAAU,MAAM;;AACH,gBAAA,8BAAI,UAAJ,mBAAmB,SAAO,yBAAI;AACzC,QAAI,SAAS;AACH,cAAA,iBAAiB,SAAS,OAAO;AACjC,cAAA,iBAAiB,QAAQ,MAAM;AAAA,IACzC;AAAA,EAAA,CACD;AACD,kBAAgB,MAAM;AACpB,QAAI,SAAS;AACH,cAAA,oBAAoB,SAAS,OAAO;AACpC,cAAA,oBAAoB,QAAQ,MAAM;AAAA,IAC5C;AAAA,EAAA,CACD;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}