{"version":3,"file":"useFormChild-62e9064d.mjs","sources":["../../../../../src/composables/useForm/useFormChild.ts"],"sourcesContent":["import { inject, ref, computed, onMounted, onBeforeUnmount } from 'vue'\nimport { useComponentUuid } from '../useComponentUuid'\nimport { FormServiceKey } from './consts'\nimport { type FormFiled } from './types'\n\nexport const useFormChild = (context: FormFiled) => {\n  const formContext = inject(FormServiceKey, null)\n\n  if (!formContext) {\n    return {\n      doShowError: ref(true),\n      doShowErrorMessages: ref(true),\n      doShowLoading: ref(true),\n    }\n  }\n\n  const uid = useComponentUuid()\n\n  onMounted(() => {\n    formContext.registerField(uid, context)\n  })\n\n  onBeforeUnmount(() => {\n    formContext.unregisterField(uid)\n  })\n\n  return {\n    doShowError: formContext.doShowError,\n    doShowErrorMessages: formContext.doShowErrorMessages,\n    doShowLoading: formContext.doShowLoading,\n  }\n}\n"],"names":[],"mappings":";;;AAKa,MAAA,eAAe,CAAC,YAAuB;AAC5C,QAAA,cAAc,OAAO,gBAAgB,IAAI;AAE/C,MAAI,CAAC,aAAa;AACT,WAAA;AAAA,MACL,aAAa,IAAI,IAAI;AAAA,MACrB,qBAAqB,IAAI,IAAI;AAAA,MAC7B,eAAe,IAAI,IAAI;AAAA,IAAA;AAAA,EAE3B;AAEA,QAAM,MAAM;AAEZ,YAAU,MAAM;AACF,gBAAA,cAAc,KAAK,OAAO;AAAA,EAAA,CACvC;AAED,kBAAgB,MAAM;AACpB,gBAAY,gBAAgB,GAAG;AAAA,EAAA,CAChC;AAEM,SAAA;AAAA,IACL,aAAa,YAAY;AAAA,IACzB,qBAAqB,YAAY;AAAA,IACjC,eAAe,YAAY;AAAA,EAAA;AAE/B;"}