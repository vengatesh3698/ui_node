{"version":3,"file":"index.mjs","sources":["../../../../../../src/components/va-modal/plugin/index.ts"],"sourcesContent":["import { App } from 'vue'\nimport { defineVuesticPlugin, defineGlobalProperty } from '../../../services/vue-plugin/utils'\nimport { createModalInstance } from '../modal'\nimport { ModalOptions } from '../types'\n\nconst createVaModalPlugin = (app: App) => ({\n  init (options: string | ModalOptions) {\n    return createModalInstance(options, app?._context)\n  },\n  confirm (options: string | ModalOptions) {\n    if (typeof options === 'string') {\n      return new Promise<boolean>((resolve) => {\n        createModalInstance({\n          message: options as string,\n          onOk () {\n            resolve(true)\n          },\n          onCancel () {\n            resolve(false)\n          },\n        }, app?._context)\n      })\n    }\n\n    return new Promise<boolean>((resolve) => {\n      createModalInstance({\n        ...options,\n        onOk () {\n          options?.onOk?.()\n          resolve(true)\n        },\n        onCancel () {\n          options?.onCancel?.()\n          resolve(false)\n        },\n      }, app?._context)\n    })\n  },\n})\n\nexport const VaModalPlugin = defineVuesticPlugin(() => ({\n  install (app) {\n    defineGlobalProperty(app, '$vaModal', createVaModalPlugin(app))\n  },\n}))\n\ndeclare module 'vue' {\n  export interface ComponentCustomProperties {\n    $vaModal: ReturnType<typeof createVaModalPlugin>\n  }\n}\n"],"names":[],"mappings":";;;AAKA,MAAM,sBAAsB,CAAC,SAAc;AAAA,EACzC,KAAM,SAAgC;AAC7B,WAAA,oBAAoB,SAAS,2BAAK,QAAQ;AAAA,EACnD;AAAA,EACA,QAAS,SAAgC;AACnC,QAAA,OAAO,YAAY,UAAU;AACxB,aAAA,IAAI,QAAiB,CAAC,YAAY;AACnB,4BAAA;AAAA,UAClB,SAAS;AAAA,UACT,OAAQ;AACN,oBAAQ,IAAI;AAAA,UACd;AAAA,UACA,WAAY;AACV,oBAAQ,KAAK;AAAA,UACf;AAAA,QAAA,GACC,2BAAK,QAAQ;AAAA,MAAA,CACjB;AAAA,IACH;AAEO,WAAA,IAAI,QAAiB,CAAC,YAAY;AACnB,0BAAA;AAAA,QAClB,GAAG;AAAA,QACH,OAAQ;;AACN,mDAAS,SAAT;AACA,kBAAQ,IAAI;AAAA,QACd;AAAA,QACA,WAAY;;AACV,mDAAS,aAAT;AACA,kBAAQ,KAAK;AAAA,QACf;AAAA,MAAA,GACC,2BAAK,QAAQ;AAAA,IAAA,CACjB;AAAA,EACH;AACF;AAEa,MAAA,gBAAgB,oBAAoB,OAAO;AAAA,EACtD,QAAS,KAAK;AACZ,yBAAqB,KAAK,YAAY,oBAAoB,GAAG,CAAC;AAAA,EAChE;AACF,EAAE;"}