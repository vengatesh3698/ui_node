{"version":3,"file":"VaTab.vue_vue_type_script_lang.mjs","sources":["../../../../../../../src/components/va-tabs/components/VaTab/VaTab.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tagComputed\"\n    ref=\"tabElement\"\n    class=\"va-tab\"\n    role=\"tab\"\n    :aria-selected=\"isActive\"\n    :aria-disabled=\"$props.disabled || parentDisabled\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"classComputed\"\n    :style=\"computedStyle\"\n    @mouseenter=\"updateHoverState(true)\"\n    @mouseleave=\"updateHoverState(false)\"\n  >\n    <div\n      class=\"va-tab__content\"\n      :tabindex=\"tabIndexComputed\"\n      @focus=\"onFocus\"\n      @click=\"onTabClick\"\n      @keydown.enter=\"onTabKeydown\"\n      v-on=\"keyboardFocusListeners\"\n    >\n      <slot>\n        <va-icon\n          v-if=\"icon\"\n          class=\"va-tab__icon\"\n          size=\"small\"\n          :name=\"icon\"\n        />\n        <span\n          class=\"va-tab__label\"\n          v-text=\"label\"\n        />\n      </slot>\n    </div>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, onBeforeUnmount, onMounted, ref, shallowRef } from 'vue'\n\nimport {\n  useComponentPresetProp,\n  useKeyboardOnlyFocus,\n  useRouterLink, useRouterLinkProps,\n  useColors,\n} from '../../../../composables'\n\nimport { TabsViewKey, TabsView, TabComponent } from '../../types'\n\nimport { VaIcon } from '../../../va-icon'\n\nexport default defineComponent({\n  name: 'VaTab',\n  components: { VaIcon },\n  emits: ['click', 'keydown-enter', 'focus'],\n\n  props: {\n    ...useRouterLinkProps,\n    ...useComponentPresetProp,\n    selected: { type: Boolean, default: false },\n    color: { type: String, default: '' },\n    icon: { type: String, default: '' },\n    label: { type: String, default: '' },\n    disabled: { type: Boolean },\n    name: { type: [String, Number] },\n    tag: { type: String, default: 'div' },\n  },\n\n  setup: (props, { emit }) => {\n    const tabElement = shallowRef<HTMLElement>()\n\n    const isActive = ref(false)\n    const hoverState = ref(false)\n    const rightSidePosition = ref(0)\n    const leftSidePosition = ref(0)\n\n    const { keyboardFocusListeners, hasKeyboardFocus } = useKeyboardOnlyFocus()\n\n    const { tagComputed, hrefComputed, isActiveRouterLink } = useRouterLink(props)\n    const classComputed = computed(() => ({ 'va-tab--disabled': props.disabled }))\n    const {\n      parentDisabled,\n      selectTab,\n      moveToTab,\n      registerTab,\n      unregisterTab,\n    } = inject<TabsView>(TabsViewKey, {\n      parentDisabled: false,\n      tabsList: [],\n      selectTab: (tab: TabComponent) => tab,\n      moveToTab: (tab: TabComponent) => tab,\n      registerTab: (tab: TabComponent) => tab,\n      unregisterTab: (tab: TabComponent) => tab,\n    })\n    const tabIndexComputed = computed(() => (props.disabled || parentDisabled) ? -1 : 0)\n\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const computedStyle = computed(() => ({\n      color: hoverState.value || isActive.value ? colorComputed.value : 'inherit',\n    }))\n\n    const updateHoverState = (isHover: boolean) => {\n      hoverState.value = isHover\n    }\n\n    const updateSidePositions = () => {\n      const componentOffsetLeft = tabElement.value?.offsetLeft || 0\n      const componentOffsetWidth = tabElement.value?.offsetWidth || 0\n\n      rightSidePosition.value = componentOffsetLeft + componentOffsetWidth\n      leftSidePosition.value = componentOffsetLeft\n    }\n\n    const onTabClick = () => {\n      selectTab(tabComponent)\n      emit('click')\n    }\n\n    const onTabKeydown = () => {\n      selectTab(tabComponent)\n      emit('keydown-enter')\n    }\n\n    const onFocus = () => {\n      if (hasKeyboardFocus.value) {\n        moveToTab(tabComponent)\n      }\n\n      emit('focus')\n    }\n\n    const tabComponent: TabComponent = {\n      name: computed(() => props.name),\n      id: null,\n      tabElement,\n      isActive,\n      tabIndexComputed,\n      isActiveRouterLink,\n      rightSidePosition,\n      leftSidePosition,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      updateSidePositions,\n    }\n\n    onMounted(() => {\n      registerTab(tabComponent)\n    })\n\n    onBeforeUnmount(() => {\n      unregisterTab(tabComponent)\n    })\n\n    return {\n      tabElement,\n      parentDisabled,\n      isActive,\n      hoverState,\n      tagComputed,\n      hrefComputed,\n      isActiveRouterLink,\n      colorComputed,\n      classComputed,\n      computedStyle,\n      tabIndexComputed,\n      rightSidePosition,\n      leftSidePosition,\n      updateHoverState,\n      updateSidePositions,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      keyboardFocusListeners,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../styles/resources\";\n@import 'variables';\n\n.va-tab {\n  align-items: var(--va-tab-align-items);\n  display: var(--va-tab-display);\n  flex: var(--va-tab-flex);\n  font-weight: var(--va-tab-font-weight);\n  line-height: var(--va-tab-line-height);\n  height: var(--va-tab-height);\n  max-width: var(--va-tab-max-width);\n  text-align: var(--va-tab-text-align);\n  vertical-align: var(--va-tab-vertical-align);\n  color: var(--va-tab-color);\n\n  &__content {\n    align-items: var(--va-tab-content-align-items);\n    color: var(--va-tab-content-color);\n    display: var(--va-tab-content-display);\n    flex: var(--va-tab-content-flex);\n    height: var(--va-tab-content-height);\n    justify-content: var(--va-tab-content-justify-content);\n    max-width: var(--va-tab-content-max-width);\n    text-decoration: var(--va-tab-content-text-decoration);\n    transition: var(--va-tab-content-transition);\n    user-select: var(--va-tab-content-user-select);\n    white-space: var(--va-tab-content-white-space);\n    padding: var(--va-tab-content-padding);\n    cursor: var(--va-tab-content-cursor);\n\n    @include keyboard-focus-outline($radius: 2px, $offset: -2px);\n  }\n\n  &__icon {\n    margin-right: var(--va-tab-icon-margin-right);\n  }\n\n  &.va-tab--disabled {\n    @include va-disabled();\n\n    pointer-events: none;\n  }\n}\n</style>\n"],"names":[],"mappings":"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"}