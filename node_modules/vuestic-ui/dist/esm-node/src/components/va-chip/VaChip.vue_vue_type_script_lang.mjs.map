{"version":3,"file":"VaChip.vue_vue_type_script_lang.mjs","sources":["../../../../../src/components/va-chip/VaChip.vue"],"sourcesContent":["<template>\n  <component\n    v-if=\"valueComputed\"\n    class=\"va-chip\"\n    :is=\"tagComputed\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <span\n      class=\"va-chip__inner\"\n      @focus=\"$emit('focus')\"\n      @mouseenter=\"onMouseEnter\"\n      @mouseleave=\"onMouseLeave\"\n      v-on=\"keyboardFocusListeners\"\n    >\n      <va-icon\n        v-if=\"icon\"\n        class=\"va-chip__icon\"\n        :name=\"icon\"\n        :size=\"iconSize\"\n      />\n      <span class=\"va-chip__content\">\n        <slot></slot>\n      </span>\n      <va-icon\n        v-if=\"closeable\"\n        role=\"button\"\n        name=\"va-close\"\n        class=\"va-chip__close-icon\"\n        :aria-label=\"tp($props.ariaCloseLabel)\"\n        :tabindex=\"tabIndexComputed\"\n        :size=\"iconSize\"\n        @click.stop=\"close\"\n        @keydown.enter.stop=\"close\"\n        @keydown.space.stop=\"close\"\n      />\n    </span>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, toRef } from 'vue'\nimport pick from 'lodash/pick'\n\nimport { getBoxShadowColor, getHoverColor, getFocusColor } from '../../services/color'\nimport {\n  useComponentPresetProp,\n  useKeyboardOnlyFocus,\n  useRouterLink, useRouterLinkProps,\n  useColors, useColorProps,\n  useStateful, useStatefulEmits, useStatefulProps,\n  useHover,\n  useTextColor,\n  useBem,\n  useTranslation,\n} from '../../composables'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaChip',\n\n  components: { VaIcon },\n\n  emits: [...useStatefulEmits, 'focus'],\n\n  props: {\n    ...useRouterLinkProps,\n    ...useColorProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: Boolean, default: true },\n    closeable: { type: Boolean, default: false },\n    outline: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    square: { type: Boolean, default: false },\n    shadow: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    icon: { type: String, default: '' },\n    tag: { type: String, default: 'span' },\n    size: {\n      type: String as PropType<'small' | 'medium' | 'large'>,\n      default: 'medium',\n      validator: (value: string) => ['small', 'medium', 'large'].includes(value),\n    },\n\n    ariaCloseLabel: { type: String, default: '$t:close' },\n  },\n\n  setup (props, { emit }) {\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n    const borderColor = computed(() => props.outline ? colorComputed.value : '')\n    const isTransparentBackground = computed(() => Boolean(props.outline || props.flat))\n    const { textColorComputed } = useTextColor(toRef(props, 'color'), isTransparentBackground)\n    const size = {\n      small: '0.875rem',\n      medium: '1rem',\n      large: '1.25rem',\n    } as Record<string, string>\n\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n    const shadowStyle = computed(() => {\n      if (!props.shadow || props.flat || props.outline || props.disabled || hasKeyboardFocus.value) {\n        return\n      }\n      return `0 0.125rem 0.19rem 0 ${getBoxShadowColor(colorComputed.value)}`\n    })\n\n    const { valueComputed } = useStateful(props, emit)\n    const { tagComputed, hrefComputed } = useRouterLink(props)\n    const { isHovered, onMouseEnter, onMouseLeave } = useHover()\n\n    return {\n      ...useTranslation(),\n      keyboardFocusListeners,\n      valueComputed,\n      hrefComputed,\n      tagComputed,\n      onMouseEnter,\n      onMouseLeave,\n      isHovered,\n\n      close: () => {\n        if (!props.disabled) {\n          valueComputed.value = false\n        }\n      },\n\n      iconSize: computed(() => size[props.size]),\n\n      tabIndexComputed: computed(() => props.disabled ? -1 : 0),\n\n      computedClass: useBem('va-chip', () => ({\n        ...pick(props, ['disabled', 'readonly', 'square']),\n        small: props.size === 'small',\n        large: props.size === 'large',\n      })),\n\n      computedStyle: computed(() => {\n        const result = {\n          color: textColorComputed.value,\n          borderColor: borderColor.value,\n          background: '',\n          boxShadow: shadowStyle.value,\n        }\n\n        if (props.outline || props.flat) {\n          if (hasKeyboardFocus.value) {\n            result.background = getFocusColor(colorComputed.value)\n          } else if (!props.readonly && isHovered.value) {\n            result.background = getHoverColor(colorComputed.value)\n          }\n        } else {\n          result.background = colorComputed.value\n        }\n\n        return result\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-chip {\n  display: var(--va-chip-display);\n  border: var(--va-chip-border, var(--va-control-border));\n  position: var(--va-chip-position);\n  border-radius: var(--va-chip-border-radius);\n  width: var(--va-chip-width);\n  height: var(--va-chip-height);\n  min-width: var(--va-chip-min-width);\n  min-height: var(--va-chip-min-height);\n  padding: var(--va-chip-padding);\n  color: var(--va-chip-color);\n  cursor: var(--va-chip-cursor);\n  font-size: var(--va-chip-font-size);\n  font-family: var(--va-font-family);\n  vertical-align: var(--va-chip-vertical-align);\n\n  &__inner {\n    display: var(--va-chip-inner-display);\n    align-items: var(--va-chip-inner-align-items);\n    width: var(--va-chip-inner-width);\n    vertical-align: inherit;\n  }\n\n  &:hover:not(&--readonly) {\n    opacity: var(--va-chip-hover-opacity);\n  }\n\n  &__content {\n    display: var(--va-chip-content-display);\n    justify-content: var(--va-chip-content-justify-content);\n    align-items: var(--va-chip-content-align-items);\n    padding: var(--va-chip-content-padding);\n    line-height: var(--va-chip-content-line-height);\n    width: var(--va-chip-content-width);\n  }\n\n  &__close-icon {\n    cursor: pointer;\n\n    @at-root {\n      .va-chip--disabled {\n        .va-chip__close-icon {\n          cursor: default !important;\n        }\n      }\n    }\n  }\n\n  &--square {\n    border-radius: var(--va-chip-square-border-radius, var(--va-square-border-radius));\n  }\n\n  &--small {\n    height: var(--va-chip-sm-height);\n    font-size: var(--va-chip-sm-font-size);\n  }\n\n  &--large {\n    height: var(--va-chip-lg-height);\n    font-size: var(--va-chip-lg-font-size);\n  }\n\n  &.va-chip--disabled {\n    @include va-disabled;\n  }\n}\n</style>\n"],"names":[],"mappings":"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"}