{"version":3,"file":"VaButtonToggle.mjs","sources":["../../../../../src/components/va-button-toggle/VaButtonToggle.vue"],"sourcesContent":["<template>\n  <va-button-group\n    class=\"va-button-toggle\"\n    v-bind=\"buttonGroupPropsComputed\"\n  >\n    <va-button\n      v-for=\"option in options\"\n      :key=\"getTrackBy(option)\"\n      :aria-pressed=\"isToggled(option)\"\n      v-bind.prop=\"getButtonProps(option)\"\n      @click=\"changeValue(option)\"\n    >\n      {{ getText(option) }}\n    </va-button>\n  </va-button-group>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\nimport omit from 'lodash/omit.js'\n\nimport { extractComponentProps } from '../../utils/component-options'\n\nimport { useComponentPresetProp, useColors, useSelectableList, useSelectableListProps } from '../../composables'\n\nimport { VaButton } from '../va-button'\nimport { VaButtonGroup } from '../va-button-group'\n\nimport type { ButtonOption } from './types'\nimport type { StringOrFunction } from '../../composables'\n\nconst VaButtonGroupProps = extractComponentProps(VaButtonGroup)\n\nexport default defineComponent({\n  name: 'VaButtonToggle',\n  components: {\n    VaButtonGroup,\n    VaButton,\n  },\n  emits: ['update:modelValue'],\n  props: {\n    ...VaButtonGroupProps,\n    ...useComponentPresetProp,\n    ...useSelectableListProps,\n    modelValue: { type: [String, Number, Boolean], default: '' },\n    options: {\n      type: Array as PropType<ButtonOption[]>,\n      required: true,\n    },\n    activeButtonTextColor: { type: String },\n    toggleColor: { type: String, default: '' },\n\n    textBy: { type: [String, Function] as PropType<StringOrFunction>, default: 'label' },\n    valueBy: { type: [String, Function] as PropType<StringOrFunction>, default: 'value' },\n  },\n\n  setup (props, { emit }) {\n    const { getText, getTrackBy } = useSelectableList(props)\n    const { getColor, shiftHSLAColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const isToggled = (value: any) => getTrackBy(value) === props.modelValue\n\n    const activeButtonColor = computed(() => {\n      if (props.toggleColor) { return getColor(props.toggleColor) }\n      return shiftHSLAColor(colorComputed.value, { l: props.plain ? -16 : -6 })\n    })\n\n    const activeButtonBackgroundOpacityComputed = computed(() => {\n      if (!props.preset || props.preset === 'default') { return {} }\n      return { backgroundOpacity: props.pressedOpacity }\n    })\n\n    const activeButtonPropsComputed = computed(() => ({\n      color: activeButtonColor.value,\n      textColor: props.activeButtonTextColor,\n      ...activeButtonBackgroundOpacityComputed.value,\n    }))\n\n    const getButtonProps = (option: ButtonOption = {} as ButtonOption) => {\n      const iconsProps = { icon: option.icon, iconRight: option.iconRight }\n\n      if (!isToggled(option)) { return iconsProps }\n      return {\n        ...(isToggled(option) && activeButtonPropsComputed.value),\n        ...iconsProps,\n      }\n    }\n\n    const buttonGroupPropsComputed = computed(() =>\n      omit(props, ['modelValue', 'options', 'activeButtonTextColor', 'toggleColor']),\n    )\n\n    const changeValue = (value: any) => emit('update:modelValue', getTrackBy(value))\n\n    return {\n      buttonGroupPropsComputed,\n      getButtonProps,\n      changeValue,\n      isToggled,\n      getText,\n      getTrackBy,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/resources';\n\n.va-button-toggle {\n  .va-button {\n    @include keyboard-focus-outline($offset: -2px);\n\n    height: auto;\n  }\n}\n</style>\n"],"names":["_resolveComponent","_mergeProps","_withCtx","_createElementBlock","_Fragment","_renderList","_openBlock"],"mappings":";;;;;;qCAcoBA,iBAblB,iBAAA;kCAIE,4BAQYC,WAPO,SAAO,mBAAX,GAAA,KAAA,wBAAA,GAAA;AAAA,IAAA,SAAAC,QAAA,MAAA;AAAA,iBACP,IAAiB,GAAAC,mBAAAC,UAAA,MAAAC,WAAA,KAAA,SAAA,CAAA,WAAA;AACtB,eAAAC,yBAAwB,sBAAML,WAAA;AAAA,UAAA,KAClB,gBAAe,MAAM;AAAA,UACjC,gBAAK,KAAE,UAAY,MAAA;AAAA,QAAA,GAAA,KAAA,eAAA,MAAA,GAAA;AAAA,UAEC,SAAA,CAAA,WAAA,KAAA,YAAA,MAAA;AAAA,QAAA,CAAA,GAAA;AAAA;;;;;;;;;;;"}