{"version":3,"file":"VaDataTableThRow.mjs","sources":["../../../../../../src/components/va-data-table/components/VaDataTableThRow.vue"],"sourcesContent":["<template>\n  <tr class=\"va-data-table__table-tr\">\n    <th\n      v-if=\"$props.selectable\"\n      scope=\"col\"\n      class=\"va-data-table__table-th va-data-table__table-cell-select\"\n    >\n      <va-checkbox\n        v-if=\"multiplySelectAvailable\"\n        class=\"va-data-table__table-cell-checkbox\"\n        :model-value=\"$props.severalRowsSelected ? 'idl' : $props.allRowsSelected\"\n        :aria-label=\"tp($props.ariaSelectAllRowsLabel)\"\n        :true-value=\"true\"\n        :false-value=\"false\"\n        :color=\"$props.selectedColor\"\n        indeterminate-value=\"idl\"\n        indeterminate\n        @update:model-value=\"toggleBulkSelection\"\n      />\n    </th>\n\n    <th\n      v-for=\"column in columns\"\n      :key=\"column.name\"\n      scope=\"col\"\n      class=\"va-data-table__table-th\"\n      :title=\"column.thTitle\"\n      :class=\"getClass(column.thClass)\"\n      :style=\"getColumnStyles(column)\"\n      v-bind=\"getAriaAttributes(column)\"\n      @click.exact=\"sortByColumn(column)\"\n      @keydown.enter.stop=\"sortByColumn(column)\"\n    >\n      <div class=\"va-data-table__table-th-wrapper\">\n        <span v-if=\"`${slotNameComputed}(${column.name})` in $slots\">\n          <slot\n            :name=\"`${slotNameComputed}(${column.name})`\"\n            v-bind=\"{ label: column.label, key: column.key }\"\n          />\n        </span>\n\n        <slot\n          v-else\n          :name=\"slotNameComputed\"\n          v-bind=\"{ label: column.label, key: column.key }\"\n        >\n          <span>{{ column.label }}</span>\n        </slot>\n\n          <va-icon\n            v-if=\"column.sortable\"\n            class=\"va-data-table__table-th-sorting-icon\"\n            :class=\"{ active: sortBySync === column.name && sortingOrderSync !== null }\"\n            size=\"small\"\n            :role=\"column.sortable ? 'button' : undefined\"\n            :tabindex=\"column.sortable ? 0 : -1\"\n            :name=\"sortingOrderIconName\"\n            @selectstart.prevent=\"() => {}\"\n          />\n        </div>\n    </th>\n  </tr>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\n\nimport { VaIcon } from '../../va-icon'\nimport { VaCheckbox } from '../../va-checkbox'\n\nimport { useStylable, useStylableProps } from '../hooks/useStylable'\n\nimport type { TSortIcon } from '../hooks/useSortable'\n\nimport { useTranslation } from '../../../composables'\n\nimport {\n  DataTableSortingOrder,\n  DataTableSelectMode,\n  DataTableColumnInternal,\n} from '../types'\n\nexport default defineComponent({\n  name: 'VaDataTableThRow',\n\n  components: { VaIcon, VaCheckbox },\n\n  props: {\n    ...useStylableProps,\n    selectMode: { type: String as PropType<DataTableSelectMode>, default: 'multiple' },\n    allRowsSelected: { type: Boolean, default: false },\n    severalRowsSelected: { type: Boolean, default: false },\n\n    columns: { type: Array as PropType<DataTableColumnInternal[]>, required: true },\n\n    isFooter: { type: Boolean, default: false },\n\n    sortBySync: { type: String, required: true },\n    sortingOrderIconName: { type: String as PropType<TSortIcon>, required: true },\n    sortingOrderSync: { type: String as PropType<DataTableSortingOrder | null>, default: null },\n\n    ariaSelectAllRowsLabel: { type: String, default: '$t:selectAllRows' },\n    ariaSortColumnByLabel: { type: String, default: '$t:sortColumnBy' },\n  },\n\n  emits: [\n    'toggleBulkSelection',\n    'toggleSorting',\n  ],\n\n  setup (props, { emit }) {\n    const { t, tp } = useTranslation()\n\n    const {\n      getFooterCSSVariables,\n      getHeaderCSSVariables,\n      getClass,\n      getStyle,\n    } = useStylable(props)\n\n    const getAriaAttributes = (column: DataTableColumnInternal) => {\n      const ariaSort = (props.sortingOrderSync && props.sortBySync === column.name\n        ? props.sortingOrderSync === 'asc' ? 'ascending' : 'descending'\n        : 'none') as 'none' | 'ascending' | 'descending'\n\n      const ariaLabel = column.sortable ? tp(props.ariaSortColumnByLabel, { name: column.label }) : undefined\n\n      return {\n        'aria-sort': ariaSort,\n        'aria-label': ariaLabel,\n      }\n    }\n\n    const sortByColumn = (column: DataTableColumnInternal) => {\n      if ((props.isFooter && !props.allowFooterSorting) || !column.sortable) { return }\n\n      emit('toggleSorting', column)\n    }\n\n    const toggleBulkSelection = () => emit('toggleBulkSelection')\n\n    const getColumnStyles = (column: DataTableColumnInternal) => {\n      return [props.isFooter ? getFooterCSSVariables(column) : getHeaderCSSVariables(column), getStyle(column.thStyle)]\n    }\n\n    const slotNameComputed = computed(() => props.isFooter ? 'footer' : 'header')\n\n    const multiplySelectAvailable = computed(() => props.selectMode === 'multiple')\n\n    return {\n      tp,\n      getClass,\n      sortByColumn,\n      getColumnStyles,\n      slotNameComputed,\n      getAriaAttributes,\n      toggleBulkSelection,\n      multiplySelectAvailable,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../styles/resources/index.scss\";\n@import \"../variables\";\n\n.va-data-table .va-data-table__table {\n  .va-data-table__table-th {\n    padding: var(--va-data-table-cell-padding);\n    width: var(--va-data-table-width);\n    min-width: var(--va-data-table-width);\n    text-align: var(--va-data-table-align);\n    vertical-align: var(--va-data-table-vertical-align);\n    font-size: var(--va-data-table-thead-font-size);\n    line-height: var(--va-data-table-thead-line-height);\n    font-weight: var(--va-data-table-thead-font-weight);\n    text-transform: var(--va-data-table-thead-text-transform);\n    letter-spacing: var(--va-data-table-thead-letter-spacing);\n    cursor: var(--va-data-table-cursor);\n\n    .va-data-table__table-th-wrapper {\n      display: flex;\n      align-items: center;\n\n      @include keyboard-focus-outline($offset: 2px);\n    }\n\n    .va-data-table__table-th-sorting-icon {\n      opacity: 0;\n      user-select: none;\n      pointer-events: none;\n\n      &.active {\n        opacity: 1;\n        pointer-events: initial;\n      }\n\n      &:focus-visible {\n        opacity: 1;\n      }\n    }\n\n    span {\n      flex-grow: 1;\n    }\n\n    &:hover {\n      .va-data-table__table-th-sorting-icon:not(.active, :focus-visible) {\n        opacity: var(--va-data-table-hover-th-opacity);\n      }\n    }\n  }\n}\n</style>\n"],"names":["_resolveComponent","_openBlock","_createElementBlock","_createBlock","_createCommentVNode","_Fragment","_renderList","_mergeProps","_withModifiers","_withKeys","_createElementVNode","_renderSlot","_normalizeProps","_guardReactiveProps","_toDisplayString","_normalizeClass"],"mappings":";;;;;MAIM,aAAW;AAAA,EACX,KAAK;AAAA,EAAA,OAAA;AAAA;;;;;;;AAJT,QAAA,qBAAAA,iBA4DK,SA5DL;AACE,SAAAC,UAAA,GAAAC,mBAiBK,MAjBL,YAiBK;AAAA,IAAA,KAAA,OAXK,cAUND,UAAA,GAAAC,mBAAA,MAAA,YAAA;AAAA,MAAA,KAAA,2BAAAD,aAT0CE,YAAA,wBAAA;AAAA,QACzC,KAAA;AAAA,QACA,OAAA;AAAA,QACA,eAAY,KAAI,OAAA,sBAAA,QAAA,KAAA,OAAA;AAAA,QAChB,cAAW,KAAE,GAAK,KAAA,OAAA,sBAAA;AAAA,QAClB,cAAO;AAAA,QACR,eAAA;AAAA,QACA,OAAa,KAAA,OAAA;AAAA,QACZ,uBAAoB;AAAA,QAAA,eAAA;AAAA;;IAIzB,CAAA,KAAAC,mBAAA,IAAA,IAAA;AAAA,KAAAH,UAEQ,IAAO,GAAIC,mBAAAG,UAAA,MAAAC,WAAA,KAAA,SAAA,CAAA,WAAA;aACZL,UAAM,GAAAC,mBAAA,MAAAK,WAAA;AAAA,QACX,KAAK,OAAC;AAAA,QACL,OAAO;AAAA,QAEP,OAAO,CAAsB,2BAAA,KAAA,SAAA,OAAA,OAAA,CAAA;AAAA,QACtB,OAAA,OAAA;AAAA,QACP,OAAK,KAAA,gBAAA,MAAA;AAAA,MAAA,GACL,KAAO,kBAAA,MAAA,GAAA;AAAA,QAAA,SAAAC,cAAA,CAAA,WAAA,KAAA,aAAA,MAAA,GAAA,CAAA,OAAA,CAAA;AAAA,QAER,WAAAC,SA0BQD,cA1BR,CA0BQ,WAAA,KAAA,aAAA,MAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,MAAA,CAAA,GAAA;AAAA,QAzBNE,mBAAA,OAAA,YAAA;AAAA,UAAA,GAAA,KACE,oBAGE,OAFU,WAAA,KAAA,UAAAT,UAAA,GAAAC,mBAAA,QAAA,YAAA;AAAA,YAKdS,WAMO,aAJE,GAAgB,KAAA,oBAAA,OAAA,SAAAC,eAAAC,mBACC,EAAK,OAAO,OAAO,OAAG,KAGzC,OAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UAAA,CAAA,KAAAF,WAAA,KAAA,QAAA,KAAA,kBAAAC,eAAAL,WAAA,EAAA,KAAA,EAAA,GAAA,EAAA,OAAA,OAAA,OAAA,KAAA,OAAA,KAAA,CAAA,GAAA,MAAA;AAAA,YAGGG,mBAAe,QAAA,MAAAI,gBAAA,OAAA,KAAA,GAAA,CAAA;AAAA,UAAA,CAAA;AAAA,0CACfX,YAAA,oBAAA;AAAA,YAEN,KAAI;AAAA,YACH,OAAMY,eAAe,CAAuB,wCAAA,EAAA,QAAA,KAAA,eAAA,OAAA,QAAA,KAAA,qBAAA,KAAA,CAAA,CAAA;AAAA,YAC5C,MAAA;AAAA,YACA,MAAM,OAAoB,WAAA,WAAA;AAAA,YAC1B,UAAW,OAAA,WAAA,IAAA;AAAA,YAAA,MAAA,KAAA;AAAA;;;;;;;;;"}