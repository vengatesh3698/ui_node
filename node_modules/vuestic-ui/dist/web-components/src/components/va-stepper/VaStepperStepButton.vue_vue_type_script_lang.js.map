{"version":3,"file":"VaStepperStepButton.vue_vue_type_script_lang.js","sources":["../../../../../src/components/va-stepper/VaStepperStepButton.vue"],"sourcesContent":["<template>\n  <li\n    ref=\"stepElement\"\n    class=\"va-stepper__step-button\"\n    :class=\"computedClass\"\n    @click=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    @keyup.enter=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    @keyup.space=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div class=\"va-stepper__step-button__icon\">\n      <va-icon\n        v-if=\"step.icon\"\n        :name=\"step.icon\"\n        size=\"1.3rem\"\n      />\n      <template v-else>\n        {{ $props.stepIndex + 1 }}\n      </template>\n    </div>\n    {{ step.label }}\n  </li>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, nextTick, PropType, shallowRef, watch } from 'vue'\nimport { VaIcon } from '../va-icon'\nimport { useBem, useColors, useTranslation } from '../../composables'\nimport type { Step, StepControls } from './types'\n\nexport default defineComponent({\n  name: 'VaStepperStepButton',\n  components: { VaIcon },\n  props: {\n    modelValue: { type: Number, required: true },\n    step: {\n      type: Object as PropType<Step>,\n      required: true,\n    },\n    color: { type: String, required: true },\n    stepIndex: { type: Number, required: true },\n    navigationDisabled: { type: Boolean, required: true },\n    nextDisabled: { type: Boolean, required: true },\n    focus: { type: Object, required: true },\n    stepControls: { type: Object as PropType<StepControls>, required: true },\n  },\n  emits: ['update:modelValue'],\n  setup (props) {\n    const stepElement = shallowRef<HTMLElement>()\n    const { getColor } = useColors()\n    const stepperColor = getColor(props.color)\n\n    const isNextStepDisabled = (index: number) => props.nextDisabled && index > props.modelValue\n\n    const { t } = useTranslation()\n\n    const computedClass = useBem('va-stepper__step-button', () => ({\n      active: props.modelValue >= props.stepIndex,\n      disabled: props.step.disabled || isNextStepDisabled(props.stepIndex),\n      'navigation-disabled': props.navigationDisabled,\n    }))\n\n    watch(() => props.focus, () => {\n      if (props.focus.trigger) {\n        nextTick(() => stepElement.value?.focus())\n      }\n    }, { deep: true })\n\n    return {\n      stepElement,\n      isNextStepDisabled,\n      stepperColor,\n      getColor,\n      computedClass,\n\n      ariaAttributesComputed: computed(() => ({\n        tabindex: props.focus.stepIndex === props.stepIndex && !props.navigationDisabled ? 0 : undefined,\n        'aria-disabled': props.step.disabled || isNextStepDisabled(props.stepIndex) ? true : undefined,\n        'aria-current': props.modelValue === props.stepIndex ? t('step') as 'step' : undefined,\n      })),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-stepper {\n  &__step-button {\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: var(--va-stepper-step-button-gap);\n    flex-shrink: 0;\n    padding: var(--va-stepper-step-button-padding);\n\n    @include keyboard-focus-outline($radius: var(--va-stepper-step-border-radius));\n\n    &::after {\n      content: \"\";\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: v-bind(stepperColor);\n      transition: opacity 0.3s;\n      opacity: 0;\n      border-radius: var(--va-stepper-step-border-radius);\n    }\n\n    &__icon {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: var(--va-stepper-step-button-icon-size);\n      width: var(--va-stepper-step-button-icon-size);\n      font-size: var(--va-stepper-step-button-number-size);\n      color: white;\n      background: var(--va-stepper-step-button-inactive-color);\n      border-radius: var(--va-stepper-step-button-icon-border-radius);\n    }\n\n    &--active {\n      color: v-bind(stepperColor);\n\n      .va-stepper__step-button__icon {\n        background: v-bind(stepperColor);\n      }\n    }\n\n    &--disabled {\n      opacity: var(--va-stepper-step-button-disabled-opacity);\n      pointer-events: none;\n    }\n\n    &:hover::after {\n      opacity: var(--va-stepper-step-button-hover-highlight-opacity);\n    }\n\n    &--navigation-disabled::after {\n      display: none;\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;AA6BA,MAAK,cAAe,gBAAW;AAAA,EAC7B,MAAM;AAAA,EACN,YAAY,EAAE,OAAO;AAAA,EACrB,OAAO;AAAA,IACL,YAAY,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IAC3C,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,IACA,OAAO,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IACtC,WAAW,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IAC1C,oBAAoB,EAAE,MAAM,SAAS,UAAU,KAAK;AAAA,IACpD,cAAc,EAAE,MAAM,SAAS,UAAU,KAAK;AAAA,IAC9C,OAAO,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IACtC,cAAc,EAAE,MAAM,QAAkC,UAAU,KAAK;AAAA,EACzE;AAAA,EACA,OAAO,CAAC,mBAAmB;AAAA,EAC3B,MAAO,OAAO;AACZ,UAAM,cAAc;AACd,UAAA,EAAE,aAAa;AACf,UAAA,eAAe,SAAS,MAAM,KAAK;AAEzC,UAAM,qBAAqB,CAAC,UAAkB,MAAM,gBAAgB,QAAQ,MAAM;AAE5E,UAAA,EAAE,MAAM;AAER,UAAA,gBAAgB,OAAO,2BAA2B,OAAO;AAAA,MAC7D,QAAQ,MAAM,cAAc,MAAM;AAAA,MAClC,UAAU,MAAM,KAAK,YAAY,mBAAmB,MAAM,SAAS;AAAA,MACnE,uBAAuB,MAAM;AAAA,IAC7B,EAAA;AAEI,UAAA,MAAM,MAAM,OAAO,MAAM;AACzB,UAAA,MAAM,MAAM,SAAS;AACvB,iBAAS,MAAA;;AAAM,mCAAY,UAAZ,mBAAmB;AAAA,SAAO;AAAA,MAC3C;AAAA,IAAA,GACC,EAAE,MAAM,KAAA,CAAM;AAEV,WAAA;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,wBAAwB,SAAS,OAAO;AAAA,QACtC,UAAU,MAAM,MAAM,cAAc,MAAM,aAAa,CAAC,MAAM,qBAAqB,IAAI;AAAA,QACvF,iBAAiB,MAAM,KAAK,YAAY,mBAAmB,MAAM,SAAS,IAAI,OAAO;AAAA,QACrF,gBAAgB,MAAM,eAAe,MAAM,YAAY,EAAE,MAAM,IAAc;AAAA,MAAA,EAC7E;AAAA,IAAA;AAAA,EAEN;AACF,CAAC;;;;;;;;;;;"}