{"ast":null,"code":"import { _ as _sfc_main } from \"./VaCollapse.vue_vue_type_script_lang-0bf9f475.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, withKeys, renderSlot, normalizeProps, guardReactiveProps, mergeProps, createBlock, createCommentVNode, toDisplayString, createVNode, normalizeStyle } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaCollapse_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = {\n  class: \"va-collapse__header__text\"\n};\nconst _hoisted_2 = [\"id\", \"aria-labelledby\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_icon = resolveComponent(\"va-icon\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-collapse\", _ctx.computedClasses])\n  }, [createElementVNode(\"div\", {\n    class: \"va-collapse__header-wrapper\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.toggle && _ctx.toggle(...args)),\n    onKeydown: [_cache[1] || (_cache[1] = withKeys((...args) => _ctx.toggle && _ctx.toggle(...args), [\"enter\"])), _cache[2] || (_cache[2] = withKeys((...args) => _ctx.toggle && _ctx.toggle(...args), [\"space\"]))]\n  }, [renderSlot(_ctx.$slots, \"header\", normalizeProps(guardReactiveProps({\n    value: _ctx.computedModelValue,\n    bind: _ctx.headerAttributes,\n    attributes: _ctx.headerAttributes\n  })), () => [createElementVNode(\"div\", mergeProps(_ctx.headerAttributes, {\n    class: \"va-collapse__header\",\n    style: _ctx.headerStyle\n  }), [_ctx.icon ? (openBlock(), createBlock(_component_va_icon, {\n    key: 0,\n    class: \"va-collapse__header__icon\",\n    name: _ctx.icon,\n    color: _ctx.textColorComputed\n  }, null, 8, [\"name\", \"color\"])) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"header-content\", normalizeProps(guardReactiveProps({\n    header: _ctx.header\n  })), () => [createElementVNode(\"div\", _hoisted_1, toDisplayString(_ctx.header), 1)]), createVNode(_component_va_icon, {\n    class: \"va-collapse__header__icon\",\n    name: _ctx.computedModelValue ? \"va-arrow-up\" : \"va-arrow-down\",\n    color: _ctx.textColorComputed\n  }, null, 8, [\"name\", \"color\"])], 16)])], 32), createElementVNode(\"div\", {\n    class: \"va-collapse__body-wrapper\",\n    style: normalizeStyle(_ctx.contentStyle)\n  }, [createElementVNode(\"div\", {\n    class: \"va-collapse__body\",\n    ref: \"body\",\n    role: \"region\",\n    id: _ctx.panelIdComputed,\n    \"aria-labelledby\": _ctx.headerIdComputed\n  }, [renderSlot(_ctx.$slots, \"default\")], 8, _hoisted_2)], 4)], 2);\n}\nconst _VaCollapse = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaCollapse as _ };","map":{"version":3,"names":["resolveComponent","class","normalizeClass","_ctx","computedClasses","createElementVNode","onClick","_cache","args","toggle","onKeydown","withKeys","renderSlot","$slots","normalizeProps","guardReactiveProps","value","computedModelValue","bind","headerAttributes","attributes","mergeProps","style","headerStyle","icon","openBlock","createBlock","_component_va_icon","key","name","color","textColorComputed","createCommentVNode","header","_hoisted_1","toDisplayString","createVNode","normalizeStyle","contentStyle","ref","role","id","panelIdComputed","headerIdComputed"],"sources":["../../../../../src/components/va-collapse/VaCollapse.vue"],"sourcesContent":["<template>\n  <div class=\"va-collapse\" :class=\"computedClasses\">\n    <div\n      class=\"va-collapse__header-wrapper\"\n      @click=\"toggle\"\n      @keydown.enter=\"toggle\"\n      @keydown.space=\"toggle\"\n    >\n      <slot\n        name=\"header\"\n        v-bind=\"{\n          value: computedModelValue,\n          bind: headerAttributes,\n          attributes: headerAttributes,\n        }\"\n      >\n        <div\n          v-bind=\"headerAttributes\"\n          class=\"va-collapse__header\"\n          :style=\"headerStyle\"\n        >\n          <va-icon\n            v-if=\"icon\"\n            class=\"va-collapse__header__icon\"\n            :name=\"icon\"\n            :color=\"textColorComputed\"\n          />\n          <slot\n            name=\"header-content\"\n            v-bind=\"{ header }\"\n          >\n            <div class=\"va-collapse__header__text\">\n                {{ header }}\n            </div>\n          </slot>\n          <va-icon\n            class=\"va-collapse__header__icon\"\n            :name=\"computedModelValue ? 'va-arrow-up' : 'va-arrow-down'\"\n            :color=\"textColorComputed\"\n          />\n        </div>\n      </slot>\n    </div>\n    <div class=\"va-collapse__body-wrapper\" :style=\"contentStyle\">\n      <div\n        class=\"va-collapse__body\"\n        ref=\"body\"\n        role=\"region\"\n        :id=\"panelIdComputed\"\n        :aria-labelledby=\"headerIdComputed\"\n      >\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, shallowRef } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport {\n  useColors, useTextColor,\n  useSyncProp,\n  useBem,\n  useResizeObserver,\n  useComponentPresetProp,\n} from '../../composables'\nimport { useAccordionItem } from '../va-accordion/hooks/useAccordion'\n\nimport { generateUniqueId } from '../../utils/uuid'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaCollapse',\n  components: {\n    VaIcon,\n  },\n  props: {\n    ...useComponentPresetProp,\n    modelValue: { type: Boolean, default: undefined },\n    disabled: { type: Boolean, default: false },\n    header: { type: String, default: '' },\n    icon: { type: String, default: '' },\n    solid: { type: Boolean, default: false },\n    color: { type: String, default: 'background-element' },\n    textColor: { type: String, default: '' },\n    colorAll: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n  },\n  emits: ['update:modelValue'],\n\n  setup (props, { emit, slots }) {\n    const body = shallowRef<HTMLElement>()\n\n    const [computedModelValue] = useSyncProp('modelValue', props, emit, false)\n\n    const { getColor, getHoverColor } = useColors()\n    const { accordionProps, toggle } = useAccordionItem(computedModelValue)\n\n    const { textColorComputed } = useTextColor()\n\n    const bodyHeight = ref()\n    useResizeObserver([body], () => {\n      bodyHeight.value = body.value?.clientHeight ?? 0\n    })\n\n    const height = computed(() => computedModelValue.value ? bodyHeight.value : 0)\n\n    const getTransition = () => {\n      const duration = height.value / 1000 * 0.2\n      return `${duration > 0.2 ? duration : 0.2}s`\n    }\n\n    const getBackground = () => {\n      return props.color && props.colorAll\n        ? getHoverColor(getColor(props.color))\n        : ''\n    }\n\n    const uniqueId = computed(generateUniqueId)\n    const headerIdComputed = computed(() => `header-${uniqueId.value}`)\n    const panelIdComputed = computed(() => `panel-${uniqueId.value}`)\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    const headerAttributes = computed(() => ({\n      id: headerIdComputed.value,\n      tabindex: tabIndexComputed.value,\n      'aria-controls': panelIdComputed.value,\n      'aria-expanded': computedModelValue.value,\n      'aria-disabled': props.disabled,\n      role: 'button',\n    }))\n\n    const computedClasses = useBem('va-collapse', () => ({\n      ...pick(props, ['disabled', 'solid', 'flat']),\n      expanded: computedModelValue.value,\n      active: props.solid && computedModelValue.value,\n      popout: !!(accordionProps.value.popout && computedModelValue.value),\n      inset: !!(accordionProps.value.inset && computedModelValue.value),\n    }))\n\n    return {\n      body,\n      height,\n\n      toggle,\n      computedModelValue,\n\n      headerIdComputed,\n      headerAttributes,\n      panelIdComputed,\n      tabIndexComputed,\n\n      textColorComputed,\n      computedClasses,\n\n      headerStyle: computed(() => ({\n        paddingLeft: props.icon && 0,\n        color: textColorComputed.value,\n        backgroundColor: props.color ? getColor(props.color) : '',\n      })),\n\n      contentStyle: computed(() => {\n        return {\n          visibility: computedModelValue.value ? 'visible' as const : 'hidden' as const,\n          height: `${height.value}px`,\n          transitionDuration: getTransition(),\n          background: computedModelValue.value ? getBackground() : '',\n        }\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-collapse {\n  transition: var(--va-collapse-transition, var(--va-swing-transition));\n  font-family: var(--va-font-family);\n\n  &__body-wrapper {\n    transition: var(--va-collapse-body-wrapper-transition);\n    overflow: hidden;\n  }\n\n  &__body {\n    top: 0;\n    left: 0;\n    width: var(--va-collapse-body-width);\n  }\n\n  &__header {\n    display: var(--va-collapse-header-content-display);\n    justify-content: var(--va-collapse-header-content-justify-content);\n    cursor: var(--va-collapse-header-content-cursor);\n    background-color: var(--va-collapse-header-content-background-color);\n    box-shadow: var(--va-collapse-header-content-box-shadow, var(--va-block-box-shadow));\n    border-radius: var(--va-collapse-header-content-border-radius, var(--va-block-border-radius));\n    align-items: var(--va-collapse-header-content-align-items);\n    padding-top: var(--va-collapse-header-content-padding-top);\n    padding-bottom: var(--va-collapse-header-content-padding-bottom);\n    padding-left: var(--va-collapse-header-content-padding-left);\n\n    &__text {\n      width: var(--va-collapse-header-content-text-width);\n      font-weight: var(--va-collapse-header-content-text-font-weight);\n    }\n\n    &__icon {\n      @include flex-center();\n\n      min-width: var(--va-collapse-header-content-icon-min-width);\n      margin-left: var(--va-collapse-header-content-icon-margin-left);\n      margin-right: var(--va-collapse-header-content-icon-margin-right);\n      color: var(--va-collapse-header-content-icon-color);\n    }\n\n    @include keyboard-focus-outline(var(--va-collapse-header-content-border-radius));\n  }\n\n  &--solid {\n    box-shadow: var(--va-collapse-solid-box-shadow);\n    border-radius: var(--va-collapse-solid-border-radius);\n\n    .va-collapse {\n      &__header {\n        border-radius: var(--va-collapse-solid-header-content-border-radius, var(--va-block-border-radius));\n        transition: var(--va-collapse-solid-header-content-transition);\n        box-shadow: var(--va-collapse-solid-header-content-box-shadow, var(--va-block-box-shadow));\n        background-color: var(--va-collapse-solid-header-content-background-color);\n      }\n\n      &__body-wrapper {\n        border-radius: var(--va-collapse-solid-border-radius);\n      }\n\n      &__body {\n        border-radius: var(--va-collapse-solid-body-border-radius);\n        margin-top: var(--va-collapse-solid-body-margin-top);\n      }\n    }\n  }\n\n  &--popout {\n    margin: var(--va-collapse-popout-margin);\n  }\n\n  &--inset {\n    margin: var(--va-collapse-inset-margin);\n  }\n\n  &--flat {\n    .va-collapse__header {\n      --va-collapse-solid-header-content-border-radius: 0;\n      --va-collapse-header-content-box-shadow: none;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled();\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;6BACEA,gBAAA,CAqDM;;IApDJC,KAAA,EAwCMC,cAAA,iBAAAC,IAAA,CAAAC,eAAA;EAAA,IAtCEC,kBAAA;IACLJ,KAAA;IAAeK,OAAA,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAAL,IAAA,CAAAM,MAAA,IAAAN,IAAA,CAAAM,MAAA,IAAAD,IAAA;IAAAE,SAAA,GAAAH,MAAA,QAAAA,MAAA,MAAAI,QAAA,KAAAH,IAAA,KAAAL,IAAA,CAAAM,MAAA,IAAAN,IAAA,CAAAM,MAAA,IAAAD,IAAA,gB;EAGhB,IAAAI,UAAA,CAEiET,IAAA,CAAgBU,MAAA,YAAAC,cAAA,CAAAC,kBAAA;IAAwBC,KAAA,EAAAb,IAAA,CAAAc,kBAAA;IA+BlGC,IAAA,EAAAf,IAAA,CAAAgB,gBAAA;IAzBLC,UAAA,EAAAjB,IAAA,CAAAgB;EAAA,EAEE,GAAM,OAAAd,kBAAA,CACE,OAAWgB,UAAA,CAAAlB,IAAA,CAAAgB,gBAAA;IAAAlB,KAAA;IAAAqB,KAAA,EAGXnB,IAAA,CAAIoB;EAAA,KAAApB,IAAA,CAAAqB,IAAA,IAAAC,SAAA,IACuBC,WAAA,CAAAC,kBAAA;IAChCC,GAAA,EAAI;IACJ3B,KAAA,EAAO;IAAA4B,IAAA,EAAA1B,IAAA,CAAAqB,IAAA;IAAAM,KAAA,EAAA3B,IAAA,CAAA4B;KASH,+BAHLC,kBAAA,CAEM,IAFN,OAAApB,UAAA,CAAAT,IAAA,CAAAU,MAAA,oBAAAC,cAAA,CAAAC,kBAAA;IAAAkB,MAAA,EAAA9B,IAAA,CAAA8B;EAAA,YAIF5B,kBAAA,CAIE,OAAA6B,UAAA,EAAAC,eAAA,CAAAhC,IAAA,CAAA8B,MAAA,SAAAG,WAAA,CAFOT,kBAAA,EAAkB;IACxB1B,KAAA,EAAO;IAAA4B,IAAA,EAAA1B,IAAA,CAAAc,kBAAA;IAAAa,KAAA,EAAA3B,IAAA,CAAA4B;uCAKhB,EAAK,OAAA1B,kBAAA,CAAwC,OAAE;IAAAJ,KAAA;IAC7CqB,KAAA,EAQMe,cAAA,CAAAlC,IAAA,CAAAmC,YAAA;EAAA,IANMjC,kBAAA;IACVJ,KAAA,EAAK;IACJsC,GAAA,EAAI;IACJC,IAAA;IAAAC,EAAA,EAAAtC,IAAA,CAAAuC,eAAA;IAED,mBAAQvC,IAAA,CAAAwC;EAAA,IAAA/B,UAAA,CAAAT,IAAA,CAAAU,MAAA,a"},"metadata":{},"sourceType":"module","externalDependencies":[]}