{"ast":null,"code":"import { isRef, watch, unref } from \"vue\";\nimport { d as debounce } from \"../../vendor-fff696df.mjs\";\nconst useDebounceFn = timeout => {\n  let callback = null;\n  const createDebounced = () => {\n    return debounce(() => {\n      callback == null ? void 0 : callback();\n      callback = null;\n    }, unref(timeout));\n  };\n  let debounced = createDebounced();\n  if (isRef(timeout)) {\n    watch(timeout, () => {\n      debounced = createDebounced();\n    });\n  }\n  return {\n    // todo check if we need to create proxy here\n    debounced: cb => {\n      callback = cb;\n      debounced();\n    },\n    cancel: () => debounced.cancel()\n  };\n};\nexport { useDebounceFn as u };","map":{"version":3,"names":["useDebounceFn","timeout","callback","createDebounced","debounce","unref","debounced","isRef","watch","cb","cancel"],"sources":["../../../../src/composables/useDebounce.ts"],"sourcesContent":["import { isRef, Ref, unref, watch } from 'vue'\nimport debounce from 'lodash/debounce.js'\n\nexport const useDebounce = <T>(onUpdate: () => any, timeout: Ref<number> | number) => {\n  const createDebounced = () => {\n    return debounce(() => {\n      onUpdate()\n    }, unref(timeout))\n  }\n\n  let debounced = createDebounced()\n\n  if (isRef(timeout)) {\n    watch(timeout, () => { debounced = createDebounced() })\n  }\n\n  return {\n    // todo check if we need to create proxy here\n    debounced,\n  }\n}\n\n/** Used for debounced callbacks. Can be used to show cb near debounce call in code structure. */\nexport const useDebounceFn = (timeout: Ref<number> | number) => {\n  let callback: (() => void) | null = null\n  const createDebounced = () => {\n    return debounce(() => {\n      callback?.()\n      callback = null\n    }, unref(timeout))\n  }\n\n  let debounced = createDebounced()\n\n  if (isRef(timeout)) {\n    watch(timeout, () => { debounced = createDebounced() })\n  }\n\n  return {\n    // todo check if we need to create proxy here\n    debounced: (cb: (() => void)) => { callback = cb; debounced() },\n    cancel: () => debounced.cancel(),\n  }\n}\n"],"mappings":";;AAuBa,MAAAA,aAAA,GAAiBC,OAAA,IAAkC;EAC9D,IAAIC,QAAA,GAAgC;EACpC,MAAMC,eAAA,GAAkBA,CAAA,KAAM;IAC5B,OAAOC,QAAA,CAAS,MAAM;MACTF,QAAA,oBAAAA,QAAA;MACAA,QAAA;IAAA,GACVG,KAAA,CAAMJ,OAAO,CAAC;EAAA;EAGnB,IAAIK,SAAA,GAAYH,eAAA;EAEZ,IAAAI,KAAA,CAAMN,OAAO,GAAG;IAClBO,KAAA,CAAMP,OAAA,EAAS,MAAM;MAAEK,SAAA,GAAYH,eAAA,CAAgB;IAAA,CAAG;EACxD;EAEO;IAAA;IAELG,SAAA,EAAYG,EAAA,IAAqB;MAAaP,QAAA,GAAAO,EAAA;MAAcH,SAAA;IAAE;IAC9DI,MAAA,EAAQA,CAAA,KAAMJ,SAAA,CAAUI,MAAA,CAAO;EAAA;AAEnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}