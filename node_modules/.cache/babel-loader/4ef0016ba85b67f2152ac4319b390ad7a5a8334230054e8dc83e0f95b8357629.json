{"ast":null,"code":"import { defineComponent, shallowRef, ref, computed, inject, onMounted, onBeforeUnmount } from \"vue\";\nimport { T as TabsViewKey } from \"../../types-443f9ff0.mjs\";\nimport { V as VaIcon } from \"../../../va-icon/index-0ebbc0f2.mjs\";\nimport { u as useRouterLinkProps, a as useRouterLink } from \"../../../../composables/useRouterLink-3a2ad439.mjs\";\nimport { u as useComponentPresetProp } from \"../../../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { u as useKeyboardOnlyFocus } from \"../../../../composables/useKeyboardOnlyFocus-2734fefc.mjs\";\nimport { u as useColors } from \"../../../../composables/useColors-f23d24ff.mjs\";\nconst _sfc_main = defineComponent({\n  name: \"VaTab\",\n  components: {\n    VaIcon\n  },\n  emits: [\"click\", \"keydown-enter\", \"focus\"],\n  props: {\n    ...useRouterLinkProps,\n    ...useComponentPresetProp,\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      type: String,\n      default: \"\"\n    },\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    label: {\n      type: String,\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean\n    },\n    name: {\n      type: [String, Number]\n    },\n    tag: {\n      type: String,\n      default: \"div\"\n    }\n  },\n  setup: (props, {\n    emit\n  }) => {\n    const tabElement = shallowRef();\n    const isActive = ref(false);\n    const hoverState = ref(false);\n    const rightSidePosition = ref(0);\n    const leftSidePosition = ref(0);\n    const {\n      keyboardFocusListeners,\n      hasKeyboardFocus\n    } = useKeyboardOnlyFocus();\n    const {\n      tagComputed,\n      hrefComputed,\n      isActiveRouterLink\n    } = useRouterLink(props);\n    const classComputed = computed(() => ({\n      \"va-tab--disabled\": props.disabled\n    }));\n    const {\n      parentDisabled,\n      selectTab,\n      moveToTab,\n      registerTab,\n      unregisterTab\n    } = inject(TabsViewKey, {\n      parentDisabled: false,\n      tabsList: [],\n      selectTab: tab => tab,\n      moveToTab: tab => tab,\n      registerTab: tab => tab,\n      unregisterTab: tab => tab\n    });\n    const tabIndexComputed = computed(() => props.disabled || parentDisabled ? -1 : 0);\n    const {\n      getColor\n    } = useColors();\n    const colorComputed = computed(() => getColor(props.color));\n    const computedStyle = computed(() => ({\n      color: hoverState.value || isActive.value ? colorComputed.value : \"inherit\"\n    }));\n    const updateHoverState = isHover => {\n      hoverState.value = isHover;\n    };\n    const updateSidePositions = () => {\n      var _a, _b;\n      const componentOffsetLeft = ((_a = tabElement.value) == null ? void 0 : _a.offsetLeft) || 0;\n      const componentOffsetWidth = ((_b = tabElement.value) == null ? void 0 : _b.offsetWidth) || 0;\n      rightSidePosition.value = componentOffsetLeft + componentOffsetWidth;\n      leftSidePosition.value = componentOffsetLeft;\n    };\n    const onTabClick = () => {\n      selectTab(tabComponent);\n      emit(\"click\");\n    };\n    const onTabKeydown = () => {\n      selectTab(tabComponent);\n      emit(\"keydown-enter\");\n    };\n    const onFocus = () => {\n      if (hasKeyboardFocus.value) {\n        moveToTab(tabComponent);\n      }\n      emit(\"focus\");\n    };\n    const tabComponent = {\n      name: computed(() => props.name),\n      id: null,\n      tabElement,\n      isActive,\n      tabIndexComputed,\n      isActiveRouterLink,\n      rightSidePosition,\n      leftSidePosition,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      updateSidePositions\n    };\n    onMounted(() => {\n      registerTab(tabComponent);\n    });\n    onBeforeUnmount(() => {\n      unregisterTab(tabComponent);\n    });\n    return {\n      tabElement,\n      parentDisabled,\n      isActive,\n      hoverState,\n      tagComputed,\n      hrefComputed,\n      isActiveRouterLink,\n      colorComputed,\n      classComputed,\n      computedStyle,\n      tabIndexComputed,\n      rightSidePosition,\n      leftSidePosition,\n      updateHoverState,\n      updateSidePositions,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      keyboardFocusListeners\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../../../VaTab.css';","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","VaIcon","emits","props","useRouterLinkProps","useComponentPresetProp","selected","type","Boolean","default","color","String","icon","label","disabled","Number","tag","setup","emit","tabElement","shallowRef","isActive","ref","hoverState","rightSidePosition","leftSidePosition","keyboardFocusListeners","hasKeyboardFocus","useKeyboardOnlyFocus","tagComputed","hrefComputed","isActiveRouterLink","useRouterLink","classComputed","computed","parentDisabled","selectTab","moveToTab","registerTab","unregisterTab","inject","TabsViewKey","tabsList","tab","tabIndexComputed","getColor","useColors","colorComputed","computedStyle","value","updateHoverState","isHover","updateSidePositions","componentOffsetLeft","_a","offsetLeft","componentOffsetWidth","_b","offsetWidth","onTabClick","tabComponent","onTabKeydown","onFocus","id","onMounted","onBeforeUnmount"],"sources":["../../../../../../../src/components/va-tabs/components/VaTab/VaTab.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tagComputed\"\n    ref=\"tabElement\"\n    class=\"va-tab\"\n    role=\"tab\"\n    :aria-selected=\"isActive\"\n    :aria-disabled=\"$props.disabled || parentDisabled\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"classComputed\"\n    :style=\"computedStyle\"\n    @mouseenter=\"updateHoverState(true)\"\n    @mouseleave=\"updateHoverState(false)\"\n  >\n    <div\n      class=\"va-tab__content\"\n      :tabindex=\"tabIndexComputed\"\n      @focus=\"onFocus\"\n      @click=\"onTabClick\"\n      @keydown.enter=\"onTabKeydown\"\n      v-on=\"keyboardFocusListeners\"\n    >\n      <slot>\n        <va-icon\n          v-if=\"icon\"\n          class=\"va-tab__icon\"\n          size=\"small\"\n          :name=\"icon\"\n        />\n        <span\n          class=\"va-tab__label\"\n          v-text=\"label\"\n        />\n      </slot>\n    </div>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, onBeforeUnmount, onMounted, ref, shallowRef } from 'vue'\n\nimport {\n  useComponentPresetProp,\n  useKeyboardOnlyFocus,\n  useRouterLink, useRouterLinkProps,\n  useColors,\n} from '../../../../composables'\n\nimport { TabsViewKey, TabsView, TabComponent } from '../../types'\n\nimport { VaIcon } from '../../../va-icon'\n\nexport default defineComponent({\n  name: 'VaTab',\n  components: { VaIcon },\n  emits: ['click', 'keydown-enter', 'focus'],\n\n  props: {\n    ...useRouterLinkProps,\n    ...useComponentPresetProp,\n    selected: { type: Boolean, default: false },\n    color: { type: String, default: '' },\n    icon: { type: String, default: '' },\n    label: { type: String, default: '' },\n    disabled: { type: Boolean },\n    name: { type: [String, Number] },\n    tag: { type: String, default: 'div' },\n  },\n\n  setup: (props, { emit }) => {\n    const tabElement = shallowRef<HTMLElement>()\n\n    const isActive = ref(false)\n    const hoverState = ref(false)\n    const rightSidePosition = ref(0)\n    const leftSidePosition = ref(0)\n\n    const { keyboardFocusListeners, hasKeyboardFocus } = useKeyboardOnlyFocus()\n\n    const { tagComputed, hrefComputed, isActiveRouterLink } = useRouterLink(props)\n    const classComputed = computed(() => ({ 'va-tab--disabled': props.disabled }))\n    const {\n      parentDisabled,\n      selectTab,\n      moveToTab,\n      registerTab,\n      unregisterTab,\n    } = inject<TabsView>(TabsViewKey, {\n      parentDisabled: false,\n      tabsList: [],\n      selectTab: (tab: TabComponent) => tab,\n      moveToTab: (tab: TabComponent) => tab,\n      registerTab: (tab: TabComponent) => tab,\n      unregisterTab: (tab: TabComponent) => tab,\n    })\n    const tabIndexComputed = computed(() => (props.disabled || parentDisabled) ? -1 : 0)\n\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const computedStyle = computed(() => ({\n      color: hoverState.value || isActive.value ? colorComputed.value : 'inherit',\n    }))\n\n    const updateHoverState = (isHover: boolean) => {\n      hoverState.value = isHover\n    }\n\n    const updateSidePositions = () => {\n      const componentOffsetLeft = tabElement.value?.offsetLeft || 0\n      const componentOffsetWidth = tabElement.value?.offsetWidth || 0\n\n      rightSidePosition.value = componentOffsetLeft + componentOffsetWidth\n      leftSidePosition.value = componentOffsetLeft\n    }\n\n    const onTabClick = () => {\n      selectTab(tabComponent)\n      emit('click')\n    }\n\n    const onTabKeydown = () => {\n      selectTab(tabComponent)\n      emit('keydown-enter')\n    }\n\n    const onFocus = () => {\n      if (hasKeyboardFocus.value) {\n        moveToTab(tabComponent)\n      }\n\n      emit('focus')\n    }\n\n    const tabComponent: TabComponent = {\n      name: computed(() => props.name),\n      id: null,\n      tabElement,\n      isActive,\n      tabIndexComputed,\n      isActiveRouterLink,\n      rightSidePosition,\n      leftSidePosition,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      updateSidePositions,\n    }\n\n    onMounted(() => {\n      registerTab(tabComponent)\n    })\n\n    onBeforeUnmount(() => {\n      unregisterTab(tabComponent)\n    })\n\n    return {\n      tabElement,\n      parentDisabled,\n      isActive,\n      hoverState,\n      tagComputed,\n      hrefComputed,\n      isActiveRouterLink,\n      colorComputed,\n      classComputed,\n      computedStyle,\n      tabIndexComputed,\n      rightSidePosition,\n      leftSidePosition,\n      updateHoverState,\n      updateSidePositions,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      keyboardFocusListeners,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../styles/resources\";\n@import 'variables';\n\n.va-tab {\n  align-items: var(--va-tab-align-items);\n  display: var(--va-tab-display);\n  flex: var(--va-tab-flex);\n  font-weight: var(--va-tab-font-weight);\n  line-height: var(--va-tab-line-height);\n  height: var(--va-tab-height);\n  max-width: var(--va-tab-max-width);\n  text-align: var(--va-tab-text-align);\n  vertical-align: var(--va-tab-vertical-align);\n  color: var(--va-tab-color);\n\n  &__content {\n    align-items: var(--va-tab-content-align-items);\n    color: var(--va-tab-content-color);\n    display: var(--va-tab-content-display);\n    flex: var(--va-tab-content-flex);\n    height: var(--va-tab-content-height);\n    justify-content: var(--va-tab-content-justify-content);\n    max-width: var(--va-tab-content-max-width);\n    text-decoration: var(--va-tab-content-text-decoration);\n    transition: var(--va-tab-content-transition);\n    user-select: var(--va-tab-content-user-select);\n    white-space: var(--va-tab-content-white-space);\n    padding: var(--va-tab-content-padding);\n    cursor: var(--va-tab-content-cursor);\n\n    @include keyboard-focus-outline($radius: 2px, $offset: -2px);\n  }\n\n  &__icon {\n    margin-right: var(--va-tab-icon-margin-right);\n  }\n\n  &.va-tab--disabled {\n    @include va-disabled();\n\n    pointer-events: none;\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}