{"ast":null,"code":"import { onMounted, onBeforeUnmount } from \"vue\";\nconst useScroll = (props, element, handler) => {\n  const addScrollListener = () => {\n    var _a;\n    (_a = element.value) == null ? void 0 : _a.addEventListener(\"scroll\", handler.value, {\n      passive: true\n    });\n  };\n  const removeScrollListener = () => {\n    var _a;\n    (_a = element.value) == null ? void 0 : _a.removeEventListener(\"scroll\", handler.value);\n  };\n  onMounted(() => {\n    if (!element.value) {\n      return;\n    }\n    element.value.style.overflowY = \"scroll\";\n    if (props.reverse) {\n      element.value.scrollTop = element.value.scrollHeight;\n    }\n    addScrollListener();\n  });\n  onBeforeUnmount(removeScrollListener);\n  return {\n    addScrollListener,\n    removeScrollListener\n  };\n};\nexport { useScroll as u };","map":{"version":3,"names":["useScroll","props","element","handler","addScrollListener","_a","value","addEventListener","passive","removeScrollListener","removeEventListener","onMounted","style","overflowY","reverse","scrollTop","scrollHeight","onBeforeUnmount"],"sources":["../../../../../../src/components/va-infinite-scroll/hooks/useScroll.ts"],"sourcesContent":["import { Ref, onMounted, onBeforeUnmount } from 'vue'\n\ninterface ScrollTargetProps {\n  scrollTarget: HTMLElement | string | undefined;\n  disabled: boolean;\n  reverse: boolean;\n}\n\nexport const useScroll = (\n  props: ScrollTargetProps,\n  element: Ref<HTMLElement | undefined>,\n  handler: Ref<any>,\n) => {\n  const addScrollListener = () => {\n    element.value?.addEventListener(\n      'scroll',\n      handler.value,\n      { passive: true },\n    )\n  }\n\n  const removeScrollListener = () => {\n    element.value?.removeEventListener(\n      'scroll',\n      handler.value,\n    )\n  }\n\n  onMounted(() => {\n    if (!element.value) { return }\n\n    element.value.style.overflowY = 'scroll'\n\n    if (props.reverse) {\n      element.value.scrollTop = element.value.scrollHeight\n    }\n\n    addScrollListener()\n  })\n\n  onBeforeUnmount(removeScrollListener)\n\n  return {\n    addScrollListener,\n    removeScrollListener,\n  }\n}\n"],"mappings":";AAQO,MAAMA,SAAA,GAAYA,CACvBC,KAAA,EACAC,OAAA,EACAC,OAAA,KACG;EACH,MAAMC,iBAAA,GAAoBA,CAAA,KAAM;;IAC9B,CAAAC,EAAA,GAAAH,OAAA,CAAQI,KAAA,KAAR,gBAAAD,EAAA,CAAeE,gBAAA,CACb,UACAJ,OAAA,CAAQG,KAAA,EACR;MAAEE,OAAA,EAAS;IAAK;EAClB;EAGF,MAAMC,oBAAA,GAAuBA,CAAA,KAAM;;IACjC,CAAAJ,EAAA,GAAAH,OAAA,CAAQI,KAAA,KAAR,gBAAAD,EAAA,CAAeK,mBAAA,CACb,UACAP,OAAA,CAAQG,KAAA;EACV;EAGFK,SAAA,CAAU,MAAM;IACV,KAACT,OAAA,CAAQI,KAAA,EAAO;MAAE;IAAO;IAErBJ,OAAA,CAAAI,KAAA,CAAMM,KAAA,CAAMC,SAAA,GAAY;IAEhC,IAAIZ,KAAA,CAAMa,OAAA,EAAS;MACTZ,OAAA,CAAAI,KAAA,CAAMS,SAAA,GAAYb,OAAA,CAAQI,KAAA,CAAMU,YAAA;IAC1C;IAEkBZ,iBAAA;EAAA,CACnB;EAEDa,eAAA,CAAgBR,oBAAoB;EAE7B;IACLL,iBAAA;IACAK;EAAA;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}