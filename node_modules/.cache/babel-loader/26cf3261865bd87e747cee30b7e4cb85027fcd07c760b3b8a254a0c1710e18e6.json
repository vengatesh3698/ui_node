{"ast":null,"code":"import { computed, ref } from \"vue\";\nfunction useSyncProp(propRef, propName, emit, defaultValue) {\n  if (defaultValue === void 0) {\n    return {\n      syncProp: computed({\n        set(value) {\n          emit(`update:${propName}`, value);\n        },\n        get() {\n          return propRef.value;\n        }\n      })\n    };\n  }\n  const statefulValue = ref(defaultValue);\n  return {\n    syncProp: computed({\n      set(value) {\n        statefulValue.value = value;\n        emit(`update:${propName}`, value);\n      },\n      get() {\n        return (propRef == null ? void 0 : propRef.value) === void 0 ? statefulValue.value : propRef.value;\n      }\n    })\n  };\n}\nexport { useSyncProp as u };","map":{"version":3,"names":["useSyncProp","propRef","propName","emit","defaultValue","syncProp","computed","set","value","get","statefulValue","ref"],"sources":["../../../../../../src/components/va-date-picker/hooks/sync-prop.ts"],"sourcesContent":["import { ref, computed, Ref, UnwrapRef } from 'vue'\n\nexport function useSyncProp<T, PropName extends string> (propRef: Ref<T> | undefined, propName: PropName, emit: (event: any, newValue: T) => any, defaultValue?: T) {\n  if (defaultValue === undefined) {\n    return {\n      syncProp: computed({\n        set (value: T) {\n          emit(`update:${propName}`, value)\n        },\n        get (): T {\n          return propRef!.value\n        },\n      }),\n    }\n  }\n\n  const statefulValue = ref<T>(defaultValue)\n\n  return {\n    syncProp: computed<NonNullable<T>>({\n      set (value: NonNullable<T>) {\n        statefulValue.value = value as UnwrapRef<NonNullable<T>>\n        emit(`update:${propName}`, value)\n      },\n      get (): NonNullable<T> {\n        return (propRef?.value === undefined ? (statefulValue.value) : propRef.value) as NonNullable<T>\n      },\n    }),\n  }\n}\n"],"mappings":";AAEO,SAASA,YAAyCC,OAAA,EAA6BC,QAAA,EAAoBC,IAAA,EAAwCC,YAAA,EAAkB;EAClK,IAAIA,YAAA,KAAiB,QAAW;IACvB;MACLC,QAAA,EAAUC,QAAA,CAAS;QACjBC,IAAKC,KAAA,EAAU;UACRL,IAAA,WAAUD,QAAA,IAAYM,KAAK;QAClC;QACAC,IAAA,EAAU;UACR,OAAOR,OAAA,CAASO,KAAA;QAClB;MAAA,CACD;IAAA;EAEL;EAEM,MAAAE,aAAA,GAAgBC,GAAA,CAAOP,YAAY;EAElC;IACLC,QAAA,EAAUC,QAAA,CAAyB;MACjCC,IAAKC,KAAA,EAAuB;QAC1BE,aAAA,CAAcF,KAAA,GAAQA,KAAA;QACjBL,IAAA,WAAUD,QAAA,IAAYM,KAAK;MAClC;MACAC,IAAA,EAAuB;QACrB,QAAQR,OAAA,oBAAAA,OAAA,CAASO,KAAA,MAAU,SAAaE,aAAA,CAAcF,KAAA,GAASP,OAAA,CAAQO,KAAA;MACzE;IAAA,CACD;EAAA;AAEL"},"metadata":{},"sourceType":"module","externalDependencies":[]}