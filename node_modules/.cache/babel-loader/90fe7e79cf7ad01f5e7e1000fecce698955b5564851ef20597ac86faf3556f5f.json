{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport config from '@/router/config.json';\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      showPassword: false,\n      emailCheck: false,\n      passwordCheck: false,\n      isLoading: false,\n      err_flag: false,\n      err_msg: ''\n    };\n  },\n  methods: {\n    errorCheck() {\n      if (!this.emailCheck && !this.passwordCheck) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    submit() {\n      this.isLoading = true;\n      this.emailCheck = !this.email ? true : false;\n      this.passwordCheck = !this.password ? true : false;\n      if (!this.errorCheck()) {\n        this.isLoading = false;\n        return;\n      }\n      var payload = {\n        'email': this.email,\n        'password': this.password\n      };\n      var Roles = ['ADMIN', 'RESELLER', 'SUPER_ADMIN'];\n      this.axios.post(config.host + 'auth/login', payload).then(response => {\n        if (response.data.auth && Roles.includes(response.data.user.roles)) {\n          document.body.style.background = 'linear-gradient(to bottom, #003163 40%, #cccccc 40%)';\n          localStorage.setItem('LoggedUser', true);\n          this.$cookies.set('vrv-x-access-token', response.data.token);\n          this.$cookies.set('user_id', response.data.user.user_id);\n          this.$cookies.set('username', response.data.user.username);\n          this.$cookies.set('role', response.data.user.roles);\n          this.$cookies.set('profile', 'image1');\n          this.$cookies.set('mobile', response.data.user.mobile);\n          this.$cookies.set('org_id', response.data.user.org_id);\n          this.$cookies.set('user_type', response.data.user.type);\n          this.$cookies.set('org_name', response.data.user.org_name);\n          this.$cookies.set('logo_insertion', response.data.user.logo_insertion);\n          this.$router.push({\n            name: 'PageLayout'\n          });\n        } else {\n          this.$toast.error(\"You don't have access to login\");\n        }\n      }, err => {\n        this.err_flag = true;\n        this.isLoading = false;\n        this.err_msg = err.response.data.msg;\n      });\n    }\n  }\n};","map":{"version":3,"names":["config","data","email","password","showPassword","emailCheck","passwordCheck","isLoading","err_flag","err_msg","methods","errorCheck","submit","payload","Roles","axios","post","host","then","response","auth","includes","user","roles","document","body","style","background","localStorage","setItem","$cookies","set","token","user_id","username","mobile","org_id","type","org_name","logo_insertion","$router","push","name","$toast","error","err","msg"],"sources":["/etc/ec/code/gn_ui/src/components/authentication/Login.vue"],"sourcesContent":["<template>\n  <center>\n    <div class=\"login\">\n      <!-- <img src=\"@/assets/LoginTransparent.png\" height=\"320\" width=\"550\" class=\"transparentImg\" /> -->\n      <div class=\"formView\" style=\"margin-top:-10rem!important;margin-left: 5rem;\">\n        <p style=\"font-weight: bold; color: #ffffff;\">Login to Proceed!</p><br><br>\n        <div>\n          <span class=\"labelTag\" style=\"margin-left: -21.8rem; font-weight: bold; color: #ffffff;\">User Name</span><br>\n          <va-input class=\"mt-3\" v-model.trim=\"email\" placeholder=\"Enter User Name\" :error=\"emailCheck\" type=\"text\"\n            color=\"#ffffff\" />\n        </div><br>\n        <div class=\"mt-3\">\n          <span style=\"margin-left: -21.8rem; font-weight: bold; color: #ffffff;\">Password</span><br>\n          <va-input class=\"mt-3\" v-model.trim=\"password\" placeholder=\"Enter password\" :type=\"showPassword ? 'text' : 'password'\"\n            :error=\"passwordCheck\" @keydown.enter=\"submit()\">\n            <template #appendInner>\n              <va-icon :name=\"showPassword ? 'visibility_off' : 'visibility'\" size=\"small\"\n                @click=\"showPassword = !showPassword\" />\n            </template>\n          </va-input>\n        </div>\n        <va-button class=\"mt-4 loginButton\" preset=\"secondary\" border-color=\"#494949\" color=\"#ffffff\"\n          @click.prevent=\"submit()\">\n          Login <i class=\"fa-solid fa-arrow-right ml-2 mt-1\"></i>\n        </va-button>\n        <div v-if=\"err_flag\" class=\"error_msg\">{{ err_msg }}</div>\n      </div>\n    </div>\n  </center>\n</template>\n\n<script>\nimport config from '@/router/config.json';\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      showPassword: false,\n      emailCheck: false,\n      passwordCheck: false,\n      isLoading: false,\n      err_flag: false,\n      err_msg: '',\n    }\n  },\n  methods: {\n    errorCheck() {\n      if (\n        !this.emailCheck &&\n        !this.passwordCheck\n      ) { return true } else { return false }\n    },\n    submit() {\n      this.isLoading = true;\n      this.emailCheck = (!this.email) ? true : false;\n      this.passwordCheck = (!this.password) ? true : false;\n\n      if (!this.errorCheck()) {\n        this.isLoading = false;\n        return;\n      }\n      var payload = { 'email': this.email, 'password': this.password };\n      var Roles = ['ADMIN','RESELLER','SUPER_ADMIN'];\n      this.axios.post(config.host + 'auth/login', payload).then(response => {\n        if (response.data.auth && Roles.includes(response.data.user.roles)) {\n          document.body.style.background = 'linear-gradient(to bottom, #003163 40%, #cccccc 40%)';\n          localStorage.setItem('LoggedUser', true);\n          this.$cookies.set('vrv-x-access-token', response.data.token);\n          this.$cookies.set('user_id', response.data.user.user_id);\n          this.$cookies.set('username', response.data.user.username);\n          this.$cookies.set('role', response.data.user.roles);\n          this.$cookies.set('profile', 'image1')\n          this.$cookies.set('mobile', response.data.user.mobile);\n          this.$cookies.set('org_id', response.data.user.org_id);\n          this.$cookies.set('user_type', response.data.user.type);\n          this.$cookies.set('org_name', response.data.user.org_name);\n          this.$cookies.set('logo_insertion', response.data.user.logo_insertion);\n          \n          this.$router.push({ name: 'PageLayout' });\n        } else{\n          this.$toast.error(\"You don't have access to login\")\n        }\n      }, err => {\n        this.err_flag = true;\n        this.isLoading = false;\n        this.err_msg = err.response.data.msg;\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.transparentImg {\n  position: absolute;\n  margin: 0 0 0 -12.7rem;\n}\n\n.loginButton {\n  margin-left: 20.7rem;\n  width: 94px;\n  border-radius: 9px;\n}\n\n.error_msg {\n  color: #df1f1f;\n  margin-left: -20.1rem;\n  font-size: 0.8rem;\n}\n\n/*.va-button.loginButton:hover {\n  background: #bded5c !important;\n}*/\n\n.va-button.loginButton:hover .fa-arrow-right {\n  display: block;\n}\n\n.login .va-input-wrapper__field {\n  --va-input-wrapper-background: #ffffff !important;\n  color: #000000 !important;\n}\n\n.login .va-input-wrapper__text input,\n.va-input-wrapper__text {\n  color: black;\n}\n\n.fa-arrow-right {\n  display: none;\n}\n\n.login ::placeholder {\n  color: white !important;\n  /* Change this to the desired color */\n}\n\n.login ::hover {\n  color: #000000 !important;\n  /* Change this to the desired color */\n}\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}