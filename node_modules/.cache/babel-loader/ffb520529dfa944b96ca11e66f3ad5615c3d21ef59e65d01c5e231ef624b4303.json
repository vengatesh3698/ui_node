{"ast":null,"code":"import { _ as _sfc_main } from \"./VaColorInput.vue_vue_type_script_lang-a504fc2d.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, createVNode, withCtx, withKeys, withDirectives, createElementVNode, vModelText } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaColorInput_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = {\n  class: \"va-color-input\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_color_indicator = resolveComponent(\"va-color-indicator\");\n  const _component_va_input = resolveComponent(\"va-input\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1, [createVNode(_component_va_input, {\n    class: \"va-color-input__input\",\n    placeholder: \"input color\",\n    modelValue: _ctx.valueComputed,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.valueComputed = $event),\n    tabindex: _ctx.tabIndexComputed,\n    disabled: _ctx.$props.disabled\n  }, {\n    appendInner: withCtx(() => [createVNode(_component_va_color_indicator, {\n      class: \"va-color-input__dot\",\n      role: \"button\",\n      \"aria-label\": _ctx.tp(_ctx.$props.ariaOpenColorPickerLabel),\n      \"aria-disabled\": _ctx.$props.disabled,\n      tabindex: _ctx.tabIndexComputed,\n      color: _ctx.valueComputed,\n      indicator: _ctx.$props.indicator,\n      onClick: _ctx.callPickerDialog,\n      onKeydown: [withKeys(_ctx.callPickerDialog, [\"space\"]), withKeys(_ctx.callPickerDialog, [\"enter\"])]\n    }, null, 8, [\"aria-label\", \"aria-disabled\", \"tabindex\", \"color\", \"indicator\", \"onClick\", \"onKeydown\"])]),\n    _: 1\n  }, 8, [\"modelValue\", \"tabindex\", \"disabled\"]), withDirectives(createElementVNode(\"input\", {\n    ref: \"colorPicker\",\n    type: \"color\",\n    class: \"va-color-input__hidden-input\",\n    \"aria-hidden\": \"true\",\n    tabindex: \"-1\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.valueComputed = $event)\n  }, null, 512), [[vModelText, _ctx.valueComputed]])]);\n}\nconst _VaColorInput = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaColorInput as _ };","map":{"version":3,"names":["_component_va_input","resolveComponent","openBlock","createElementBlock","_hoisted_1","createVNode","class","placeholder","modelValue","_ctx","valueComputed","_cache","$event","tabindex","tabIndexComputed","disabled","$props","appendInner","withCtx","_component_va_color_indicator","role","tp","ariaOpenColorPickerLabel","color","indicator","onClick","callPickerDialog","onKeydown","withKeys","withDirectives","createElementVNode","ref","type","vModelText"],"sources":["../../../../../src/components/va-color-input/VaColorInput.vue"],"sourcesContent":["<template>\n  <div class=\"va-color-input\">\n    <va-input\n      class=\"va-color-input__input\"\n      placeholder=\"input color\"\n      v-model=\"valueComputed\"\n      :tabindex=\"tabIndexComputed\"\n      :disabled=\"$props.disabled\"\n    >\n      <template #appendInner>\n        <va-color-indicator\n          class=\"va-color-input__dot\"\n          role=\"button\"\n          :aria-label=\"tp($props.ariaOpenColorPickerLabel)\"\n          :aria-disabled=\"$props.disabled\"\n          :tabindex=\"tabIndexComputed\"\n          :color=\"valueComputed\"\n          :indicator=\"$props.indicator\"\n          @click=\"callPickerDialog\"\n          @keydown.space=\"callPickerDialog\"\n          @keydown.enter=\"callPickerDialog\"\n        />\n      </template>\n    </va-input>\n    <input\n      ref=\"colorPicker\"\n      type=\"color\"\n      class=\"va-color-input__hidden-input\"\n      aria-hidden=\"true\"\n      tabindex=\"-1\"\n      v-model=\"valueComputed\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, shallowRef, computed } from 'vue'\n\nimport { useComponentPresetProp, useStateful, useStatefulProps, useStatefulEmits, useTranslation } from '../../composables'\n\nimport { VaColorIndicator } from '../va-color-indicator'\nimport { VaInput } from '../va-input'\n\nexport default defineComponent({\n  name: 'VaColorInput',\n  components: {\n    VaInput,\n    VaColorIndicator,\n  },\n  emits: [...useStatefulEmits],\n  props: {\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    indicator: {\n      type: String as PropType<'dot' | 'square'>,\n      default: 'dot',\n      validator: (value: string) => ['dot', 'square'].includes(value),\n    },\n    ariaOpenColorPickerLabel: { type: String, default: '$t:openColorPicker' },\n  },\n  setup: (props, { emit }) => {\n    const colorPicker = shallowRef<HTMLInputElement>()\n\n    const { valueComputed } = useStateful(props, emit)\n\n    const callPickerDialog = () => !props.disabled && colorPicker.value?.click()\n\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    return {\n      ...useTranslation(),\n      valueComputed,\n      callPickerDialog,\n      colorPicker,\n      tabIndexComputed,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-color-input {\n  display: flex;\n  align-items: center !important;\n\n  .form-group {\n    margin-bottom: 0;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    min-width: 5.6rem;\n\n    &__pointer {\n      cursor: pointer;\n    }\n  }\n\n  &__hidden-input {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    position: absolute;\n    pointer-events: none;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;EACE,MAAAA,mBAAA,GAAAC,gBAAA,CA8BM,UA9BN;EAEI,OAAAC,SAAA,CAA6B,GAAAC,kBAAA,QAAAC,UAAA,GAAAC,WAAA,CAClBL,mBAAA,EAAc;IAAAM,KAAA;IAAAC,WAAA;IAExBC,UAAA,EAAUC,IAAA,CAAAC,aAAA;IACV,uBAAiBC,MAAA,CAAQ,OAAAA,MAAA,MAAAC,MAAA,IAAAH,IAAA,CAAAC,aAAA,GAAAE,MAAA;IAAAC,QAAA,EAAAJ,IAAA,CAAAK,gBAAA;IAEfC,QAAA,EAAAN,IAAA,CAAWO,MAAA,CACpBD;EAAA;IACQE,WAAA,EAAAC,OAAA,QAAAb,WAAA,CACDc,6BAAA,EAAQ;MACZb,KAAA;MACAc,IAAA;MACA,cAAUX,IAAA,CAAgBY,EAAA,CAAAZ,IAAA,CAAAO,MAAA,CAAAM,wBAAA;MAC1B,iBAAOb,IAAA,CAAaO,MAAA,CAAAD,QAAA;MACpBF,QAAA,EAASJ,IAAA,CAAEK,gBAAA;MACXS,KAAA,EAAKd,IAAA,CAAEC,aAAA;MACPc,SAAA,EAAOf,IAAA,CAAAO,MAAA,CAAAQ,SAAA;MAAQC,OAAA,EAAAhB,IAAA,CAAAiB,gBAAA;MAAAC,SAAA,GAAAC,QAAA,CAAAnB,IAAA,CAAAiB,gBAAA,c;;;EAMpB,MAAG,CAAC,cAAa,0BACLG,cAAA,CAAAC,kBAAA;IACZC,GAAA,EAAK;IACLC,IAAA;IACA1B,KAAA;IAAA;IAAAO,QAAA;2BACSF,MAAA,CAAa,OAAAA,MAAA,MAAAC,MAAA,IAAAH,IAAA,CAAAC,aAAA,GAAAE,MAAA;EAAA,iBAAAqB,UAAA,EAAAxB,IAAA,CAAAC,aAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}