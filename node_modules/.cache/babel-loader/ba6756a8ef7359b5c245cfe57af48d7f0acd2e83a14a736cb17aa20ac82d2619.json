{"ast":null,"code":"import { u as useWindow } from \"./useWindow-549880c7.mjs\";\nconst useScrollParent = () => {\n  const window = useWindow();\n  const fakeWindow = new Proxy(window.value || {}, {\n    get: (target, key, rec) => {\n      var _a, _b;\n      if (key === \"scrollTop\") {\n        return (_a = window.value) == null ? void 0 : _a.scrollY;\n      }\n      if (key === \"scrollLeft\") {\n        return (_b = window.value) == null ? void 0 : _b.scrollX;\n      }\n      const value = Reflect.get(target, key, rec);\n      if (typeof value === \"function\") {\n        return value.bind(target);\n      }\n      return value;\n    }\n  });\n  const getScrollableParent = element => {\n    if (!element) {\n      return fakeWindow;\n    }\n    if (element.scrollHeight > element.clientHeight) {\n      return element;\n    }\n    return getScrollableParent(element.parentElement);\n  };\n  return {\n    getScrollableParent\n  };\n};\nexport { useScrollParent as u };","map":{"version":3,"names":["useScrollParent","window","useWindow","fakeWindow","Proxy","value","get","target","key","rec","_a","scrollY","_b","scrollX","Reflect","bind","getScrollableParent","element","scrollHeight","clientHeight","parentElement"],"sources":["../../../../src/composables/useScrollParent.ts"],"sourcesContent":["import { Ref } from 'vue'\nimport { useWindow } from './useWindow'\n\ntype ScrollElement = HTMLElement | (Window & { scrollLeft: number; scrollTop: number })\n\nexport const useScrollParent = () => {\n  const window = useWindow() as Ref<Window>\n\n  const fakeWindow = new Proxy(window.value || {}, {\n    get: (target, key: any, rec) => {\n      // Re-map scrollTop and scrollLeft to window.scrollY and window.scrollX\n      if (key === 'scrollTop') {\n        return window.value?.scrollY\n      }\n      if (key === 'scrollLeft') {\n        return window.value?.scrollX\n      }\n\n      const value = Reflect.get(target, key, rec)\n      if (typeof (value) === 'function') {\n        return value.bind(target)\n      }\n      return value\n    },\n  })\n\n  const getScrollableParent = (element?: HTMLElement | null): ScrollElement => {\n    if (!element) {\n      return fakeWindow as ScrollElement\n    }\n\n    if (element.scrollHeight > element.clientHeight) {\n      return element\n    }\n\n    return getScrollableParent(element.parentElement)\n  }\n\n  return { getScrollableParent }\n}\n"],"mappings":";AAKO,MAAMA,eAAA,GAAkBA,CAAA,KAAM;EACnC,MAAMC,MAAA,GAASC,SAAA;EAEf,MAAMC,UAAA,GAAa,IAAIC,KAAA,CAAMH,MAAA,CAAOI,KAAA,IAAS,IAAI;IAC/CC,GAAA,EAAKA,CAACC,MAAA,EAAQC,GAAA,EAAUC,GAAA,KAAQ;;MAE9B,IAAID,GAAA,KAAQ,aAAa;QACvB,QAAOE,EAAA,GAAAT,MAAA,CAAOI,KAAA,KAAP,gBAAAK,EAAA,CAAcC,OAAA;MACvB;MACA,IAAIH,GAAA,KAAQ,cAAc;QACxB,QAAOI,EAAA,GAAAX,MAAA,CAAOI,KAAA,KAAP,gBAAAO,EAAA,CAAcC,OAAA;MACvB;MAEA,MAAMR,KAAA,GAAQS,OAAA,CAAQR,GAAA,CAAIC,MAAA,EAAQC,GAAA,EAAKC,GAAG;MACtC,WAAQJ,KAAA,KAAW,YAAY;QAC1B,OAAAA,KAAA,CAAMU,IAAA,CAAKR,MAAM;MAC1B;MACO,OAAAF,KAAA;IACT;EAAA,CACD;EAEK,MAAAW,mBAAA,GAAuBC,OAAA,IAAgD;IAC3E,IAAI,CAACA,OAAA,EAAS;MACL,OAAAd,UAAA;IACT;IAEI,IAAAc,OAAA,CAAQC,YAAA,GAAeD,OAAA,CAAQE,YAAA,EAAc;MACxC,OAAAF,OAAA;IACT;IAEO,OAAAD,mBAAA,CAAoBC,OAAA,CAAQG,aAAa;EAAA;EAGlD,OAAO;IAAEJ;EAAoB;AAC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}