{"ast":null,"code":"import { g as isFunction } from \"../../vendor-fff696df.mjs\";\nimport { w as warn } from \"../utils/console-42c8e8cc.mjs\";\nconst useTrackByProps = {\n  trackBy: {\n    type: [String, Number, Function],\n    default: \"\"\n  }\n};\nconst useTrackBy = props => {\n  const getKey = (item, index, defaultValue) => {\n    if (props.trackBy && item && typeof item === \"object\" && !isFunction(props.trackBy)) {\n      const isArrayItem = Array.isArray(item);\n      let key;\n      if (isArrayItem && !isNaN(+props.trackBy)) {\n        key = item[+props.trackBy];\n      }\n      if (!isArrayItem) {\n        key = item[props.trackBy];\n      }\n      if (key || key === 0) {\n        return key;\n      }\n      warn(`${isArrayItem ? \"Index\" : \"Key\"} '${props.trackBy}' wasn't found in provided ${isArrayItem ? \"array\" : \"object\"}: `, item);\n    }\n    if (isFunction(props.trackBy)) {\n      return props.trackBy(item);\n    }\n    return defaultValue;\n  };\n  return {\n    getKey\n  };\n};\nexport { useTrackBy as a, useTrackByProps as u };","map":{"version":3,"names":["useTrackByProps","trackBy","type","String","Number","Function","default","useTrackBy","props","getKey","item","index","defaultValue","isFunction","isArrayItem","Array","isArray","key","isNaN","warn"],"sources":["../../../../src/composables/useTrackBy.ts"],"sourcesContent":["import { PropType, ExtractPropTypes } from 'vue'\nimport isFunction from 'lodash/isFunction.js'\n\nimport { warn } from '../utils/console'\n\ntype AnyRecordOrArray = Array<any> | Record<string, any>\n\nexport const useTrackByProps = {\n  trackBy: {\n    type: [String, Number, Function] as PropType<string | number | ((item: AnyRecordOrArray) => string | number)>,\n    default: '',\n  },\n}\n\nexport const useTrackBy = (props: ExtractPropTypes<typeof useTrackByProps>) => {\n  const getKey = (\n    item: AnyRecordOrArray,\n    index: number,\n    defaultValue?: any,\n  ) => {\n    if (props.trackBy && item && typeof item === 'object' && !isFunction(props.trackBy)) {\n      const isArrayItem = Array.isArray(item)\n\n      let key: any\n      if (isArrayItem && !isNaN(+props.trackBy)) { key = (item as any[])[+props.trackBy] }\n      if (!isArrayItem) { key = (item as Record<string, any>)[props.trackBy] }\n\n      if (key || key === 0) { return key }\n\n      warn(`${isArrayItem ? 'Index' : 'Key'} '${props.trackBy}' wasn't found in provided ${isArrayItem ? 'array' : 'object'}: `, item)\n    }\n\n    if (isFunction(props.trackBy)) {\n      return props.trackBy(item)\n    }\n\n    return defaultValue\n  }\n\n  return { getKey }\n}\n"],"mappings":";;AAOO,MAAMA,eAAA,GAAkB;EAC7BC,OAAA,EAAS;IACPC,IAAA,EAAM,CAACC,MAAA,EAAQC,MAAA,EAAQC,QAAQ;IAC/BC,OAAA,EAAS;EACX;AACF;AAEa,MAAAC,UAAA,GAAcC,KAAA,IAAoD;EAC7E,MAAMC,MAAA,GAASA,CACbC,IAAA,EACAC,KAAA,EACAC,YAAA,KACG;IACC,IAAAJ,KAAA,CAAMP,OAAA,IAAWS,IAAA,IAAQ,OAAOA,IAAA,KAAS,YAAY,CAACG,UAAA,CAAWL,KAAA,CAAMP,OAAO,GAAG;MAC7E,MAAAa,WAAA,GAAcC,KAAA,CAAMC,OAAA,CAAQN,IAAI;MAElC,IAAAO,GAAA;MACJ,IAAIH,WAAA,IAAe,CAACI,KAAA,CAAM,CAACV,KAAA,CAAMP,OAAO,GAAG;QAASgB,GAAA,GAAAP,IAAA,CAAe,CAACF,KAAA,CAAMP,OAAO;MAAE;MACnF,IAAI,CAACa,WAAA,EAAa;QAASG,GAAA,GAAAP,IAAA,CAA6BF,KAAA,CAAMP,OAAO;MAAE;MAEnE,IAAAgB,GAAA,IAAOA,GAAA,KAAQ,GAAG;QAAS,OAAAA,GAAA;MAAI;MAE9BE,IAAA,IAAGL,WAAA,GAAc,UAAU,UAAUN,KAAA,CAAMP,OAAA,8BAAqCa,WAAA,GAAc,UAAU,cAAcJ,IAAI;IACjI;IAEI,IAAAG,UAAA,CAAWL,KAAA,CAAMP,OAAO,GAAG;MACtB,OAAAO,KAAA,CAAMP,OAAA,CAAQS,IAAI;IAC3B;IAEO,OAAAE,YAAA;EAAA;EAGT,OAAO;IAAEH;EAAO;AAClB"},"metadata":{},"sourceType":"module","externalDependencies":[]}