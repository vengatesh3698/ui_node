{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/edit.png';\nimport _imports_1 from '@/assets/delete.png';\nconst _hoisted_1 = {\n  class: \"mt-3\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pageHeader\"\n}, \"Package\", -1);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pageDesc\"\n}, \"View the Package list\", -1);\nconst _hoisted_4 = {\n  class: \"headerContainer\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-plus\",\n  style: {\n    \"margin-right\": \"10px\"\n  }\n}, null, -1);\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"row container mt-3 mb-2\"\n};\nconst _hoisted_9 = {\n  class: \"pageInput\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"mt-1 pl-2 pr-2\"\n}, \"Go to the page\", -1);\nconst _hoisted_11 = {\n  class: \"row\"\n};\nconst _hoisted_12 = {\n  class: \"cardTitle\"\n};\nconst _hoisted_13 = {\n  class: \"formView\"\n};\nconst _hoisted_14 = {\n  class: \"orgcard\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Package Name\", -1);\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Package Cost\", -1);\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label\"\n}, \"Catagory\", -1);\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Channels\", -1);\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Duration (in months)\", -1);\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_input = _resolveComponent(\"va-input\");\n  const _component_va_button = _resolveComponent(\"va-button\");\n  const _component_va_data_table = _resolveComponent(\"va-data-table\");\n  const _component_va_modal = _resolveComponent(\"va-modal\");\n  const _component_va_pagination = _resolveComponent(\"va-pagination\");\n  const _component_va_icon = _resolveComponent(\"va-icon\");\n  const _component_va_select = _resolveComponent(\"va-select\");\n  const _component_VueSidePanel = _resolveComponent(\"VueSidePanel\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_createVNode(_component_va_input, {\n    class: \"flex md12 pr-3\",\n    modelValue: $data.search_term,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search_term = $event),\n    modelModifiers: {\n      trim: true\n    },\n    type: \"text\",\n    placeholder: \"Search Package\"\n  }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", null, [$data.user_role == \"ADMIN\" || $data.user_role == \"SUPER_ADMIN\" || $data.user_role == \"RESELLER\" && $data.user_type == \"Own Pack\" ? (_openBlock(), _createBlock(_component_va_button, {\n    key: 0,\n    class: \"ml-3 createBtn\",\n    color: \"#ffffff\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.pageModification('create', null))\n  }, {\n    default: _withCtx(() => [_hoisted_5, _createTextVNode(\"Add \")]),\n    _: 1\n  })) : _createCommentVNode(\"\", true)])]), _createVNode(_component_va_data_table, {\n    class: \"dataTable mt-4\",\n    items: $options.contentList,\n    columns: $options.columnList,\n    \"wrapper-size\": \"380\",\n    \"item-size\": \"46\",\n    \"per-page\": \"10\",\n    \"virtual-scroller\": \"\",\n    \"sticky-header\": \"\"\n  }, {\n    \"cell(edit)\": _withCtx(({\n      row\n    }) => [_createElementVNode(\"img\", {\n      src: _imports_0,\n      onClick: $event => $options.pageModification('update', row.rowData),\n      height: \"18\",\n      class: \"cursorPointer\"\n    }, null, 8, _hoisted_6)]),\n    \"cell(delete)\": _withCtx(({\n      row\n    }) => [_createElementVNode(\"img\", {\n      src: _imports_1,\n      onClick: $event => $options.deleteInitiate(row.rowData),\n      height: \"18\",\n      class: \"cursorPointer\"\n    }, null, 8, _hoisted_7)]),\n    _: 1\n  }, 8, [\"items\", \"columns\"]), _createVNode(_component_va_modal, {\n    class: \"popup\",\n    modelValue: $data.showModal,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.showModal = $event),\n    title: \"Delete Package\",\n    message: \"Are you sure to delete this Package?\",\n    okText: \"DELETE\",\n    cancelText: \"Cancel\",\n    onOk: _cache[3] || (_cache[3] = $event => $options.deleteEntity(_ctx.deleteData)),\n    blur: \"\"\n  }, null, 8, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    ref: \"directPageInput\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.direct_page = $event),\n    onInput: _cache[5] || (_cache[5] = $event => $options.directPage(10, $data.direct_page))\n  }, null, 544), [[_vModelText, $data.direct_page, void 0, {\n    trim: true\n  }]])]), _createVNode(_component_va_pagination, {\n    class: \"\",\n    modelValue: $data.page_value,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.page_value = $event),\n    \"visible-pages\": 7,\n    total: $data.totalCount,\n    \"direction-links\": false,\n    \"page-size\": 10,\n    \"boundary-numbers\": \"\",\n    color: \"#888888\",\n    size: \"small\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.getAllPackage(10, $data.page_value))\n  }, null, 8, [\"modelValue\", \"total\"])]), _createVNode(_component_VueSidePanel, {\n    class: \"sidePanel\",\n    modelValue: $data.showForm,\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.showForm = $event),\n    width: \"500px\",\n    \"hide-close-btn\": \"\",\n    \"panel-duration\": 700,\n    \"transition-packageName\": \"slide-right\",\n    \"no-close\": \"\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"span\", _hoisted_12, _toDisplayString(_ctx.title), 1), _createVNode(_component_va_icon, {\n      name: \"close\",\n      class: \"closeBar\",\n      size: \"small\",\n      onClick: _cache[8] || (_cache[8] = $event => $options.resetForm())\n    })]), _createElementVNode(\"form\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _hoisted_16, _createVNode(_component_va_input, {\n      class: \"mt-2\",\n      modelValue: $data.package_name,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.package_name = $event),\n      modelModifiers: {\n        trim: true\n      },\n      placeholder: \"Enter App Name\",\n      error: $data.packageNameCheck,\n      oninput: \"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_ ]*/g,'');\"\n    }, null, 8, [\"modelValue\", \"error\"]), _hoisted_17, _hoisted_18, _hoisted_19, _hoisted_20, _createVNode(_component_va_input, {\n      class: \"mt-2\",\n      modelValue: $data.package_cost,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.package_cost = $event),\n      modelModifiers: {\n        trim: true\n      },\n      type: \"tel\",\n      oninput: \"event.target.value =event.target.value.replace(/[^0-9.]/g, '').replace(/(\\\\..*)\\\\./g, '$1');\",\n      maxlength: \"7\",\n      placeholder: \"Enter Cost (â‚¹) /-\",\n      error: $data.packageCostCheck\n    }, null, 8, [\"modelValue\", \"error\"]), _hoisted_21, _hoisted_22, _hoisted_23, _hoisted_24, _createVNode(_component_va_select, {\n      modelValue: $data.category,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.category = $event),\n      class: \"mt-2\",\n      \"text-by\": \"name\",\n      multiple: \"\",\n      clearable: \"\",\n      \"clearable-icon\": \"cancel\",\n      options: $data.categoryList,\n      searchable: \"\",\n      placeholder: \"Select Channels\",\n      error: $data.channelcheck,\n      \"track-by\": \"name\"\n    }, null, 8, [\"modelValue\", \"options\", \"error\"]), _hoisted_25, _hoisted_26, _hoisted_27, _hoisted_28, _createVNode(_component_va_select, {\n      modelValue: $data.package_channels,\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.package_channels = $event),\n      class: \"mt-2\",\n      \"text-by\": \"name\",\n      multiple: \"\",\n      clearable: \"\",\n      \"clearable-icon\": \"cancel\",\n      options: $data.channellist,\n      searchable: \"\",\n      placeholder: \"Select Channels\",\n      error: $data.channelcheck,\n      \"track-by\": \"name\"\n    }, null, 8, [\"modelValue\", \"options\", \"error\"]), _hoisted_29, _hoisted_30, _hoisted_31, _hoisted_32, _createVNode(_component_va_select, {\n      modelValue: $data.duration,\n      \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.duration = $event),\n      class: \"mt-2\",\n      \"text-by\": \"duration\",\n      clearable: \"\",\n      \"clearable-icon\": \"cancel\",\n      options: $data.durationlist,\n      searchable: \"\",\n      placeholder: \"Select Duration\",\n      error: $data.durationCheck,\n      \"track-by\": \"duration\"\n    }, null, 8, [\"modelValue\", \"options\", \"error\"]), _hoisted_33, _hoisted_34, _createVNode(_component_va_button, {\n      class: \"mt-4 form_button\",\n      onClick: _cache[14] || (_cache[14] = $event => $options.submit($data.flag)),\n      color: \"#ffffff\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.flag), 1)]),\n      _: 1\n    })])])]),\n    _: 1\n  }, 8, [\"modelValue\"])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_va_input","$data","search_term","$event","trim","type","placeholder","user_role","user_type","_createBlock","_component_va_button","color","onClick","_cache","$options","pageModification","_hoisted_5","_component_va_data_table","items","contentList","columns","columnList","_withCtx","row","src","rowData","height","deleteInitiate","_component_va_modal","showModal","title","message","okText","cancelText","onOk","deleteEntity","_ctx","deleteData","blur","_hoisted_8","_hoisted_9","_hoisted_10","ref","direct_page","onInput","directPage","_component_va_pagination","page_value","total","totalCount","size","getAllPackage","_component_VueSidePanel","showForm","width","_hoisted_11","_hoisted_12","_toDisplayString","_component_va_icon","name","resetForm","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","package_name","error","packageNameCheck","oninput","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","package_cost","maxlength","packageCostCheck","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_component_va_select","category","multiple","clearable","options","categoryList","searchable","channelcheck","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","package_channels","channellist","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","duration","durationlist","durationCheck","_hoisted_33","_hoisted_34","submit","flag"],"sources":["/etc/ec/code/gn_ui/src/components/Manage/package.vue"],"sourcesContent":["<template>\n    <div class=\"mt-3\">\n        <div class=\"pageHeader\">Package</div>\n        <div class=\"pageDesc\">View the Package list</div>\n        <div class=\"headerContainer\">\n            <div>\n                <va-input class=\"flex md12 pr-3\" v-model.trim=\"search_term\" type=\"text\" placeholder=\"Search Package\" />\n            </div>\n            <div>\n                <va-button v-if='((user_role==\"ADMIN\") || (user_role==\"SUPER_ADMIN\") || (user_role==\"RESELLER\" && user_type == \"Own Pack\"))' class=\"ml-3 createBtn\" color=\"#ffffff\" @click=\"pageModification('create', null)\">\n                    <i class=\"fas fa-plus\" style=\" margin-right:10px;\"></i>Add\n                </va-button>\n            </div>\n        </div>\n        <va-data-table class=\"dataTable mt-4 \" :items=\"contentList\" :columns=\"columnList\" wrapper-size=\"380\" item-size=\"46\"\n            per-page=\"10\" virtual-scroller sticky-header>\n            \n            <!-- <div v-if='((user_role==\"ADMIN\") || (user_role==\"RESELLER\" && user_type == \"Own Pack\"))'> -->\n                <template #cell(edit)=\"{ row }\">\n                    <img src=\"@/assets/edit.png\" @click=\"pageModification('update', row.rowData)\" height=\"18\"\n                        class=\"cursorPointer\" />\n                </template>\n                <template #cell(delete)=\"{ row }\">\n                    <img src=\"@/assets/delete.png\" @click=\"deleteInitiate(row.rowData)\" height=\"18\" class=\"cursorPointer\" />\n                </template>\n            <!-- </div> -->\n        </va-data-table>\n        <va-modal class=\"popup\" v-model=\"showModal\" title=\"Delete Package\"\n            message='Are you sure to delete this Package?' okText=\"DELETE\" cancelText=\"Cancel\"\n            @ok=\"deleteEntity(deleteData)\" blur />\n        <div class=\"row container mt-3 mb-2\">\n            <div class=\"pageInput\">\n                <span class=\"mt-1 pl-2 pr-2\">Go to the page</span>\n                <input ref=\"directPageInput\" v-model.trim=\"direct_page\" @input=\"directPage(10, direct_page)\" />\n            </div>\n            <va-pagination class=\"\" v-model=\"page_value\" :visible-pages=\"7\" :total=\"totalCount\" :direction-links=\"false\"\n                :page-size=\"10\" boundary-numbers color=\"#888888\" size=\"small\" @click=\"getAllPackage(10, page_value)\" />\n        </div>\n        <VueSidePanel class=\"sidePanel\" v-model=\"showForm\" width=\"500px\" hide-close-btn :panel-duration=\"700\"\n            transition-packageName=\"slide-right\" no-close>\n            <div class=\"row\">\n                <span class=\"cardTitle\">{{ title }}</span>\n                    <va-icon name=\"close\" class=\"closeBar\" size=\"small\" @click=\"resetForm()\"></va-icon>\n                </div>\n            <form class=\"formView\">\n                <div class=\"orgcard\">\n                    <span class=\"va-form-label va-form-required-label\">Package Name</span><br>\n                    <va-input class=\"mt-2\" v-model.trim=\"package_name\" placeholder=\"Enter App Name\" :error=\"packageNameCheck\"\n                        oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_ ]*/g,'');\" /><br><br>\n\n                    <span class=\"va-form-label va-form-required-label\">Package Cost</span><br>\n                    <va-input class=\"mt-2\" v-model.trim=\"package_cost\" type=\"tel\" oninput=\"event.target.value =event.target.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\" maxlength=\"7\" placeholder=\"Enter Cost (â‚¹) /-\" :error=\"packageCostCheck\" /><br><br>\n<!-- \n                    <va-input class=\"mt-2\" v-model.trim=\"package_cost\" type=\"tel\" placeholder=\"Enter Package Cost\" :error=\"packageCostCheck\" oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_ ]*/g,'');\" /><br><br> -->\n                    \n                    <span class=\"va-form-label\">Catagory</span><br>\n                    <va-select v-model=\"category\" class=\" mt-2\" text-by=\"name\" multiple clearable\n                        clearable-icon=\"cancel\" :options=\"categoryList\" searchable placeholder=\"Select Channels\"\n                        :error=\"channelcheck\" track-by=\"name\" /><br><br>\n\n                    <span class=\"va-form-label va-form-required-label\">Channels</span><br>\n                    <va-select v-model=\"package_channels\" class=\" mt-2\" text-by=\"name\" multiple clearable\n                        clearable-icon=\"cancel\" :options=\"channellist\" searchable placeholder=\"Select Channels\"\n                        :error=\"channelcheck\" track-by=\"name\" /><br><br>\n\n                    <span class=\"va-form-label va-form-required-label\">Duration (in months)</span><br>\n                    <va-select v-model=\"duration\" class=\" mt-2\" text-by=\"duration\"  clearable\n                        clearable-icon=\"cancel\" :options=\"durationlist\" searchable placeholder=\"Select Duration\"\n                        :error=\"durationCheck\" track-by=\"duration\" /><br><br>\n\n                    <va-button class=\"mt-4 form_button\" @click=\"submit(flag)\" color=\"#ffffff\">{{ flag }}</va-button>\n                </div>\n            </form>\n        </VueSidePanel>\n    </div>\n</template>\n\n<script>\nimport config from '@/router/config.json';\nimport { search } from '@/module/Search.js';\nexport default {\n    created() {\n        this.getAllPackage(10, 0);\n        this.getAllChannel();\n        this.getCategory();\n    },\n    data() {\n        return {\n            flag: '',\n            package_name: '',\n            package_channels:[],\n            package_id: '',\n            totalCount: '',\n            page_value: 1,\n            direct_page: '',\n            category: [],\n            search_term: '',\n            package_packageName: '',\n            channellist:[],\n            packageList: [],\n            showForm: false,\n            isCreate: false,\n            isUpdate: false,\n            showModal: false,\n            packageNameCheck: false,\n            packageCostCheck: false,\n            channelcheck: false,\n            package_cost: 0,\n            user_role: this.$cookies.get('role'),\n            user_type: this.$cookies.get('user_type'),\n            durationCheck: false,\n            duration: '',\n            durationlist: [{id:1,duration:'1'},{id:2,duration:'3'},{id:3,duration:'6'},{id:4,duration:'9'},{id:5,duration:'12'},{id:6,duration:'Demo'},],\n            categoryList: [],\n        }\n    },\n    computed: {\n        columnList() {\n            if((this.user_role==\"ADMIN\") || (this.user_role == 'SUPER_ADMIN') || (this.user_role==\"RESELLER\" && this.user_type == \"Own Pack\")){\n                return [\n                    { key: 'id', label: 'S.No' },\n                    { key: 'package_name', label: 'Package Name' },\n                    { key: 'package_cost', label: 'Package Cost' },\n                    { key: 'duration', label: 'Duration' },\n                    { key: 'edit', width: 10, label: 'Edit' },\n                    { key: 'delete', width: 10, label: 'Delete' }\n                ]\n            }else{\n                return [\n                    { key: 'id', label: 'S.No' },\n                    { key: 'package_name', label: 'Package Name' },\n                    { key: 'package_cost', label: 'Package Cost' },\n                    { key: 'duration', label: 'Duration' }\n                    // { key: 'edit', width: 10, label: 'Edit' },\n                    // { key: 'delete', width: 10, label: 'Delete' }\n                ]\n            }\n        },\n        contentList() {\n            return this.packageList\n        }\n    },\n    watch: {\n        category(){\n            var category_val = [];\n            var selectedpack = [];\n            this.category.map(function (argument) {\n                category_val.push(argument.name)\n            })\n            this.channellist.map(function (args) {\n                if((category_val.includes(args.language)) || (category_val.includes(args.genres))){\n                    if(!selectedpack.some(function(data){return data.name == args.name})){\n                        selectedpack.push(args)\n                    }\n                }\n            })\n            console.log(\"selectedpack\",JSON.stringify(selectedpack))\n            // var allpack = [...this.package_channels, ...selectedpack]\n            var allpack = selectedpack\n            console.log(\"allpack\",JSON.stringify(allpack))\n            var unique = [...new Set(allpack.map(item => item))]; \n            this.package_channels = unique\n            console.log(\"unique\",JSON.stringify(unique))\n        },\n        package_channels(){\n            console.log(\"package_channels\",JSON.stringify(this.package_channels))\n        },\n        search_term() {\n            if (this.search_term == '') {\n                 this.getAllPackage(10, 0)\n                 this.page_value=1;\n            } else {\n                var num_array = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n                var char_array = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n                if (num_array.some(char => this.search_term.includes(char)) && !char_array.some(char => this.search_term.includes(char))) {\n                    var array = ['package_name'];\n                } else {\n                    var array = ['package_name'];\n                }\n                var num = 1;\n                var payload = {\n                    'arr': array,\n                    'term': this.search_term,\n                    'type': 'package'\n                }\n                search(payload).then(data => {\n                    this.packageList = data.rows.map(item => {\n                        item.id = num++\n                        return item\n                    })\n                });\n            }\n        },\n    },\n    methods: {\n        getCategory(){\n            const loader = this.$loading.show({ width: 40, height: 40 });\n            this.axios.get(config.host + 'category').then(resp => {\n                var vm = this\n                resp.data.map(function (val, i) {\n                    val.id = i+1\n                })\n                this.categoryList = resp.data\n            });\n            loader.hide();\n          },function(err){\n            loader.hide();\n            this.$toast.error(err.response.data);\n        },\n        directPage(limit, offset) {\n            this.direct_page = offset.replace(/\\D/g, '');\n            if (offset == 1 || offset == '') {\n                this.page_value = 1;\n            } else {\n                this.page_value = Math.max((offset * 10) - 9, 1);\n            }\n            if (this.page_value <= this.totalCount) {\n                this.getAllPackage(limit, this.page_value);\n            }\n        },\n        getAllPackage(limit, offset) {\n            const loader = this.$loading.show({ width: 40, height: 40 });\n            this.axios.get(config.host + 'package/' + limit + '/' + offset).then(response => {\n                loader.hide();\n                this.totalCount = response.data.count\n                let num = (offset == 0) ? offset + 1 : offset;\n                this.packageList = response.data.rows.map((items, index) => {\n                    items.id = num++\n                    return items\n                });\n            },function(err){\n                loader.hide();\n                this.$toast.error(err.response.data);\n            });\n        },\n        getAllChannel(){\n            const loader = this.$loading.show({ width: 40, height: 40 });\n            this.axios.get(config.host + 'channel').then(resp => {\n                loader.hide();\n\n                this.channellist = resp.data.map(function (val, index) {\n                    val.id = index+1;\n                    return val;\n                });\n            \n            },function(err){\n                loader.hide();\n                this.$toast.error(err.response.data);\n            })\n        },\n        pageModification(type, data) {\n            this.search_term = ''\n            if (type == 'create') this.title = 'Create Package';\n            else this.title = 'Update Package';\n            this.showForm = true;\n            if (type == 'update') {\n                this.flag = 'Update';\n                this.isUpdate = true;\n                this.isCreate = false;\n                this.package_name = data['package_name'];\n                this.package_channels = data['package_channels'];\n                this.package_id = data['package_id'];\n                this.package_cost = data['package_cost'];\n                this.duration = data['duration'];\n            } else {\n                this.flag = 'Create';\n                this.isCreate = true;\n                this.isUpdate = false;\n            }\n        },\n        resetForm() {\n            this.flag = '';\n            this.package_name = '';\n            this.package_cost = 0;\n            this.package_channels = [];\n            this.channellist=[];\n            this.duration=''\n            this.durationCheck = false;\n            this.package_id = '';\n            this.showForm = false;\n            this.packageNameCheck = false;\n            this.packageCostCheck = false;\n            this.channelcheck = false;\n            this.getAllPackage(10,0);\n            this.getAllChannel();\n            this.totalCount = '';\n            this.page_value = this.page_value ?  this.page_value : 1;\n            this.category = []\n        },\n        errorCheck() {\n            if (\n                !this.packageNameCheck && !this.channelcheck && !this.packageCostCheck  && !this.durationCheck\n            ) { return true } else { return false }\n        },\n        submit(flag) {\n            this.packageNameCheck = (!this.package_name) ? true : false;\n            this.packageCostCheck = (!this.package_cost) ? true : false;\n            this.durationCheck = (!this.duration) ? true : false;\n            this.channelcheck = (this.package_channels.length == 0) ? true : false;\n            if (!this.errorCheck()) return;\n            if(flag == 'Create') {\n              var array = this.package_channels.map(resp => {\n                return { name: resp.name , channel_id : resp.channel_id};\n              });\n            }\n            var vm = this;\n            if(flag == 'Update') {\n              var array = this.package_channels.map(resp => {\n                return { name: resp.name , channel_id : resp.channel_id, package_id:vm.package_id};\n              });\n            }\n          \n            if (!this.errorCheck()) return;\n\n            var payload = new FormData()\n            payload.append('package_name', this.package_name)\n            payload.append('package_cost', this.package_cost)\n            if (this.duration && typeof this.duration === 'object') {\n                payload.append('duration', this.duration.duration);\n            } \n            if (this.duration && typeof this.duration === 'string'){\n                payload.append('duration', this.duration); \n            }\n            payload.append('package_channels',JSON.stringify(array))\n        \n            if (flag == 'Create') {\n                var requestUrl = this.axios.post(config.host + 'package/', payload);\n            } else {\n                payload['package_id'] = this.package_id\n                var requestUrl = this.axios.put(config.host + 'package/' + this.package_id, payload);\n            } \n            const loader = this.$loading.show({ width: 40, height: 40 });\n            requestUrl.then(response => {\n                 loader.hide();\n                this.resetForm();\n                this.$toast.success(response.data);\n            }, err => {\n                 loader.hide();\n                this.showForm = true;\n                this.$toast.error(err.response.data);\n            });\n        },\n        deleteInitiate(data) {\n            this.showModal = true;\n            this.deleteData = data;\n        },\n        deleteEntity(data) {\n            const loader = this.$loading.show({ width: 40, height: 40 });\n            this.axios.delete(config.host + 'package/' + data.package_id).then(response => {\n                loader.hide();\n                this.resetForm();\n                this.$toast.success(response.data);\n            }, err => {\n                loader.hide();\n                this.$toast.error(err.response.data);\n            });\n        }\n    }\n}\n</script>\n\n<style>\n.error_msg {\n    color: #df1f1f;\n    margin-left: 0.6rem;\n    font-size: 0.8rem;\n}\n\n.imagePreviewWrapper {\n    width: 200px;\n    height: 200px;\n    display: block;\n    cursor: pointer;\n    margin: 0 auto 30px;\n    background-size: cover;\n    background-position: center;\n}\n\n.cursorPointer {\n  cursor: pointer;\n}\n</style>>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}