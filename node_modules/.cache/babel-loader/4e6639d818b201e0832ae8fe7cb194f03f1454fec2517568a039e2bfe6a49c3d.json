{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '@/router/index';\nimport { createToaster } from \"@meforma/vue-toaster\";\nvar toast = createToaster({\n  position: \"bottom\",\n  duration: 4000,\n  type: \"error\"\n});\nvar intervalId = null;\nexport var sessionExpiry = session => {\n  if (session == 0) return clearInterval(intervalId);\n  if (intervalId) clearInterval(intervalId);\n  var sessionTimeout = session * 60 * 1000;\n  var currentTime = Date.now();\n  const checkTimer = () => {\n    var lastActivityTime = Date.now();\n    var elapsedTime = lastActivityTime - currentTime;\n    if (elapsedTime > sessionTimeout) {\n      clearInterval(intervalId);\n      intervalId = null;\n      router.push({\n        name: 'Logout'\n      });\n      return toast.show(\"Session Expired. Please Log in Again!\");\n    }\n  };\n  intervalId = setInterval(checkTimer, 1000);\n};","map":{"version":3,"names":["router","createToaster","toast","position","duration","type","intervalId","sessionExpiry","session","clearInterval","sessionTimeout","currentTime","Date","now","checkTimer","lastActivityTime","elapsedTime","push","name","show","setInterval"],"sources":["/etc/ec/code/gn_ui/src/module/sessionExpired.js"],"sourcesContent":["import router from '@/router/index';\nimport { createToaster } from \"@meforma/vue-toaster\";\n\nvar toast = createToaster({\n  position: \"bottom\",\n  duration: 4000,\n  type: \"error\"\n});\nvar intervalId = null;\n\nexport var sessionExpiry = (session) => {\n  if(session==0) return clearInterval(intervalId);\n  if(intervalId) clearInterval(intervalId);\n  var sessionTimeout = session * 60 * 1000;\n  var currentTime = Date.now();\n\n  const checkTimer = () => {\n    var lastActivityTime = Date.now();\n    var elapsedTime = lastActivityTime - currentTime;\n    if (elapsedTime > sessionTimeout) {\n      clearInterval(intervalId);\n      intervalId = null;\n      router.push({ name: 'Logout' });\n      return toast.show(\"Session Expired. Please Log in Again!\");\n    }\n  };\n\n  intervalId = setInterval(checkTimer, 1000);\n};\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,gBAAgB;AACnC,SAASC,aAAa,QAAQ,sBAAsB;AAEpD,IAAIC,KAAK,GAAGD,aAAa,CAAC;EACxBE,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,IAAI;EACdC,IAAI,EAAE;AACR,CAAC,CAAC;AACF,IAAIC,UAAU,GAAG,IAAI;AAErB,OAAO,IAAIC,aAAa,GAAIC,OAAO,IAAK;EACtC,IAAGA,OAAO,IAAE,CAAC,EAAE,OAAOC,aAAa,CAACH,UAAU,CAAC;EAC/C,IAAGA,UAAU,EAAEG,aAAa,CAACH,UAAU,CAAC;EACxC,IAAII,cAAc,GAAGF,OAAO,GAAG,EAAE,GAAG,IAAI;EACxC,IAAIG,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;EAE5B,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIC,gBAAgB,GAAGH,IAAI,CAACC,GAAG,CAAC,CAAC;IACjC,IAAIG,WAAW,GAAGD,gBAAgB,GAAGJ,WAAW;IAChD,IAAIK,WAAW,GAAGN,cAAc,EAAE;MAChCD,aAAa,CAACH,UAAU,CAAC;MACzBA,UAAU,GAAG,IAAI;MACjBN,MAAM,CAACiB,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;MAC/B,OAAOhB,KAAK,CAACiB,IAAI,CAAC,uCAAuC,CAAC;IAC5D;EACF,CAAC;EAEDb,UAAU,GAAGc,WAAW,CAACN,UAAU,EAAE,IAAI,CAAC;AAC5C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}