{"ast":null,"code":"import { _ as _sfc_main } from \"./VaDataTableThRow.vue_vue_type_script_lang-780438e5.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, createBlock, createCommentVNode, Fragment, renderList, mergeProps, withModifiers, withKeys, createElementVNode, renderSlot, normalizeProps, guardReactiveProps, toDisplayString, normalizeClass } from \"vue\";\nimport { _ as _export_sfc } from \"../../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaDataTableThRow_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = {\n  class: \"va-data-table__table-tr\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  scope: \"col\",\n  class: \"va-data-table__table-th va-data-table__table-cell-select\"\n};\nconst _hoisted_3 = [\"title\", \"onClick\", \"onKeydown\"];\nconst _hoisted_4 = {\n  class: \"va-data-table__table-th-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_checkbox = resolveComponent(\"va-checkbox\");\n  const _component_va_icon = resolveComponent(\"va-icon\");\n  return openBlock(), createElementBlock(\"tr\", _hoisted_1, [_ctx.$props.selectable ? (openBlock(), createElementBlock(\"th\", _hoisted_2, [_ctx.multiplySelectAvailable ? (openBlock(), createBlock(_component_va_checkbox, {\n    key: 0,\n    class: \"va-data-table__table-cell-checkbox\",\n    \"model-value\": _ctx.$props.severalRowsSelected ? \"idl\" : _ctx.$props.allRowsSelected,\n    \"aria-label\": _ctx.tp(_ctx.$props.ariaSelectAllRowsLabel),\n    \"true-value\": true,\n    \"false-value\": false,\n    color: _ctx.$props.selectedColor,\n    \"indeterminate-value\": \"idl\",\n    indeterminate: \"\",\n    \"onUpdate:modelValue\": _ctx.toggleBulkSelection\n  }, null, 8, [\"model-value\", \"aria-label\", \"color\", \"onUpdate:modelValue\"])) : createCommentVNode(\"\", true)])) : createCommentVNode(\"\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.columns, column => {\n    return openBlock(), createElementBlock(\"th\", mergeProps({\n      key: column.name,\n      scope: \"col\",\n      class: [\"va-data-table__table-th\", _ctx.getClass(column.thClass)],\n      title: column.thTitle,\n      style: _ctx.getColumnStyles(column)\n    }, _ctx.getAriaAttributes(column), {\n      onClick: withModifiers($event => _ctx.sortByColumn(column), [\"exact\"]),\n      onKeydown: withKeys(withModifiers($event => _ctx.sortByColumn(column), [\"stop\"]), [\"enter\"])\n    }), [createElementVNode(\"div\", _hoisted_4, [`${_ctx.slotNameComputed}(${column.name})` in _ctx.$slots ? (openBlock(), createElementBlock(\"span\", _hoisted_5, [renderSlot(_ctx.$slots, `${_ctx.slotNameComputed}(${column.name})`, normalizeProps(guardReactiveProps({\n      label: column.label,\n      key: column.key\n    })))])) : renderSlot(_ctx.$slots, _ctx.slotNameComputed, normalizeProps(mergeProps({\n      key: 1\n    }, {\n      label: column.label,\n      key: column.key\n    })), () => [createElementVNode(\"span\", null, toDisplayString(column.label), 1)]), column.sortable ? (openBlock(), createBlock(_component_va_icon, {\n      key: 2,\n      class: normalizeClass([\"va-data-table__table-th-sorting-icon\", {\n        active: _ctx.sortBySync === column.name && _ctx.sortingOrderSync !== null\n      }]),\n      size: \"small\",\n      role: column.sortable ? \"button\" : void 0,\n      tabindex: column.sortable ? 0 : -1,\n      name: _ctx.sortingOrderIconName,\n      onSelectstart: _cache[0] || (_cache[0] = withModifiers(() => {}, [\"prevent\"]))\n    }, null, 8, [\"class\", \"role\", \"tabindex\", \"name\"])) : createCommentVNode(\"\", true)])], 16, _hoisted_3);\n  }), 128))]);\n}\nconst _VaDataTableThRow = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaDataTableThRow as _ };","map":{"version":3,"names":["_hoisted_2","key","scope","class","_component_va_icon","resolveComponent","openBlock","createElementBlock","_hoisted_1","_ctx","$props","selectable","multiplySelectAvailable","createBlock","_component_va_checkbox","severalRowsSelected","allRowsSelected","tp","ariaSelectAllRowsLabel","color","selectedColor","indeterminate","toggleBulkSelection","createCommentVNode","Fragment","renderList","columns","column","mergeProps","name","getClass","thClass","title","thTitle","style","getColumnStyles","getAriaAttributes","onClick","withModifiers","$event","sortByColumn","onKeydown","withKeys","createElementVNode","_hoisted_4","slotNameComputed","$slots","_hoisted_5","renderSlot","normalizeProps","guardReactiveProps","label","toDisplayString","sortable","normalizeClass","active","sortBySync","sortingOrderSync","size","role","tabindex","sortingOrderIconName","onSelectstart","_cache"],"sources":["../../../../../../src/components/va-data-table/components/VaDataTableThRow.vue"],"sourcesContent":["<template>\n  <tr class=\"va-data-table__table-tr\">\n    <th\n      v-if=\"$props.selectable\"\n      scope=\"col\"\n      class=\"va-data-table__table-th va-data-table__table-cell-select\"\n    >\n      <va-checkbox\n        v-if=\"multiplySelectAvailable\"\n        class=\"va-data-table__table-cell-checkbox\"\n        :model-value=\"$props.severalRowsSelected ? 'idl' : $props.allRowsSelected\"\n        :aria-label=\"tp($props.ariaSelectAllRowsLabel)\"\n        :true-value=\"true\"\n        :false-value=\"false\"\n        :color=\"$props.selectedColor\"\n        indeterminate-value=\"idl\"\n        indeterminate\n        @update:model-value=\"toggleBulkSelection\"\n      />\n    </th>\n\n    <th\n      v-for=\"column in columns\"\n      :key=\"column.name\"\n      scope=\"col\"\n      class=\"va-data-table__table-th\"\n      :title=\"column.thTitle\"\n      :class=\"getClass(column.thClass)\"\n      :style=\"getColumnStyles(column)\"\n      v-bind=\"getAriaAttributes(column)\"\n      @click.exact=\"sortByColumn(column)\"\n      @keydown.enter.stop=\"sortByColumn(column)\"\n    >\n      <div class=\"va-data-table__table-th-wrapper\">\n        <span v-if=\"`${slotNameComputed}(${column.name})` in $slots\">\n          <slot\n            :name=\"`${slotNameComputed}(${column.name})`\"\n            v-bind=\"{ label: column.label, key: column.key }\"\n          />\n        </span>\n\n        <slot\n          v-else\n          :name=\"slotNameComputed\"\n          v-bind=\"{ label: column.label, key: column.key }\"\n        >\n          <span>{{ column.label }}</span>\n        </slot>\n\n          <va-icon\n            v-if=\"column.sortable\"\n            class=\"va-data-table__table-th-sorting-icon\"\n            :class=\"{ active: sortBySync === column.name && sortingOrderSync !== null }\"\n            size=\"small\"\n            :role=\"column.sortable ? 'button' : undefined\"\n            :tabindex=\"column.sortable ? 0 : -1\"\n            :name=\"sortingOrderIconName\"\n            @selectstart.prevent=\"() => {}\"\n          />\n        </div>\n    </th>\n  </tr>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\n\nimport { VaIcon } from '../../va-icon'\nimport { VaCheckbox } from '../../va-checkbox'\n\nimport { useStylable, useStylableProps } from '../hooks/useStylable'\n\nimport type { TSortIcon } from '../hooks/useSortable'\n\nimport { useTranslation } from '../../../composables'\n\nimport {\n  DataTableSortingOrder,\n  DataTableSelectMode,\n  DataTableColumnInternal,\n} from '../types'\n\nexport default defineComponent({\n  name: 'VaDataTableThRow',\n\n  components: { VaIcon, VaCheckbox },\n\n  props: {\n    ...useStylableProps,\n    selectMode: { type: String as PropType<DataTableSelectMode>, default: 'multiple' },\n    allRowsSelected: { type: Boolean, default: false },\n    severalRowsSelected: { type: Boolean, default: false },\n\n    columns: { type: Array as PropType<DataTableColumnInternal[]>, required: true },\n\n    isFooter: { type: Boolean, default: false },\n\n    sortBySync: { type: String, required: true },\n    sortingOrderIconName: { type: String as PropType<TSortIcon>, required: true },\n    sortingOrderSync: { type: String as PropType<DataTableSortingOrder | null>, default: null },\n\n    ariaSelectAllRowsLabel: { type: String, default: '$t:selectAllRows' },\n    ariaSortColumnByLabel: { type: String, default: '$t:sortColumnBy' },\n  },\n\n  emits: [\n    'toggleBulkSelection',\n    'toggleSorting',\n  ],\n\n  setup (props, { emit }) {\n    const { t, tp } = useTranslation()\n\n    const {\n      getFooterCSSVariables,\n      getHeaderCSSVariables,\n      getClass,\n      getStyle,\n    } = useStylable(props)\n\n    const getAriaAttributes = (column: DataTableColumnInternal) => {\n      const ariaSort = (props.sortingOrderSync && props.sortBySync === column.name\n        ? props.sortingOrderSync === 'asc' ? 'ascending' : 'descending'\n        : 'none') as 'none' | 'ascending' | 'descending'\n\n      const ariaLabel = column.sortable ? tp(props.ariaSortColumnByLabel, { name: column.label }) : undefined\n\n      return {\n        'aria-sort': ariaSort,\n        'aria-label': ariaLabel,\n      }\n    }\n\n    const sortByColumn = (column: DataTableColumnInternal) => {\n      if ((props.isFooter && !props.allowFooterSorting) || !column.sortable) { return }\n\n      emit('toggleSorting', column)\n    }\n\n    const toggleBulkSelection = () => emit('toggleBulkSelection')\n\n    const getColumnStyles = (column: DataTableColumnInternal) => {\n      return [props.isFooter ? getFooterCSSVariables(column) : getHeaderCSSVariables(column), getStyle(column.thStyle)]\n    }\n\n    const slotNameComputed = computed(() => props.isFooter ? 'footer' : 'header')\n\n    const multiplySelectAvailable = computed(() => props.selectMode === 'multiple')\n\n    return {\n      tp,\n      getClass,\n      sortByColumn,\n      getColumnStyles,\n      slotNameComputed,\n      getAriaAttributes,\n      toggleBulkSelection,\n      multiplySelectAvailable,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../styles/resources/index.scss\";\n@import \"../variables\";\n\n.va-data-table .va-data-table__table {\n  .va-data-table__table-th {\n    padding: var(--va-data-table-cell-padding);\n    width: var(--va-data-table-width);\n    min-width: var(--va-data-table-width);\n    text-align: var(--va-data-table-align);\n    vertical-align: var(--va-data-table-vertical-align);\n    font-size: var(--va-data-table-thead-font-size);\n    line-height: var(--va-data-table-thead-line-height);\n    font-weight: var(--va-data-table-thead-font-weight);\n    text-transform: var(--va-data-table-thead-text-transform);\n    letter-spacing: var(--va-data-table-thead-letter-spacing);\n    cursor: var(--va-data-table-cursor);\n\n    .va-data-table__table-th-wrapper {\n      display: flex;\n      align-items: center;\n\n      @include keyboard-focus-outline($offset: 2px);\n    }\n\n    .va-data-table__table-th-sorting-icon {\n      opacity: 0;\n      user-select: none;\n      pointer-events: none;\n\n      &.active {\n        opacity: 1;\n        pointer-events: initial;\n      }\n\n      &:focus-visible {\n        opacity: 1;\n      }\n    }\n\n    span {\n      flex-grow: 1;\n    }\n\n    &:hover {\n      .va-data-table__table-th-sorting-icon:not(.active, :focus-visible) {\n        opacity: var(--va-data-table-hover-th-opacity);\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}