{"ast":null,"code":"import { unref } from \"vue\";\nimport { u as useEvent } from \"./useEvent-d1ae925d.mjs\";\nimport { u as useHTMLElement } from \"./useHTMLElement-beee793a.mjs\";\nfunction useLongPress(el, options) {\n  let timeoutId = -1;\n  let intervalId = -1;\n  const handleMouseDown = () => {\n    var _a;\n    (_a = options.onStart) == null ? void 0 : _a.call(options);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      intervalId = setInterval(() => {\n        var _a2;\n        return (_a2 = options.onUpdate) == null ? void 0 : _a2.call(options);\n      }, options.interval || 100);\n    }, unref(options.delay) || 500);\n  };\n  const handleMouseUp = () => {\n    var _a;\n    clearTimeout(timeoutId);\n    clearInterval(intervalId);\n    (_a = options.onEnd) == null ? void 0 : _a.call(options);\n  };\n  const htmlElement = useHTMLElement(el);\n  useEvent([\"mousedown\", \"touchstart\", \"dragstart\"], handleMouseDown, htmlElement);\n  useEvent([\"mouseup\", \"mouseleave\", \"touchend\", \"touchcancel\", \"drop\", \"dragend\"], handleMouseUp, true);\n}\nexport { useLongPress as u };","map":{"version":3,"names":["useLongPress","el","options","timeoutId","intervalId","handleMouseDown","_a","onStart","call","clearTimeout","setTimeout","setInterval","_a2","onUpdate","interval","unref","delay","handleMouseUp","clearInterval","onEnd","htmlElement","useHTMLElement","useEvent"],"sources":["../../../../src/composables/useLongPress.ts"],"sourcesContent":["import { Ref, ShallowRef, unref } from 'vue'\nimport { useEvent } from './useEvent'\nimport { MaybeElement, useHTMLElement } from '.'\n\ntype MaybeRef<T> = Ref<T> | T\n\ninterface LongPressOptions {\n  onStart: () => void;\n  onEnd: () => void;\n  onUpdate: () => void;\n  delay?: MaybeRef<number>;\n  interval?: number;\n}\n\nexport function useLongPress (el: ShallowRef<HTMLElement | undefined>, options: Partial<LongPressOptions>) {\n  let timeoutId = -1\n  let intervalId = -1\n\n  const handleMouseDown = () => {\n    options.onStart?.()\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => {\n      intervalId = setInterval(() => options.onUpdate?.(), options.interval || 100) as any\n    }, unref(options.delay) || 500) as unknown as number\n  }\n\n  const handleMouseUp = () => {\n    clearTimeout(timeoutId)\n    clearInterval(intervalId)\n    options.onEnd?.()\n  }\n\n  const htmlElement = useHTMLElement(el)\n\n  useEvent(['mousedown', 'touchstart', 'dragstart'], handleMouseDown, htmlElement)\n  useEvent([\n    'mouseup', 'mouseleave',\n    'touchend', 'touchcancel',\n    'drop', 'dragend',\n  ], handleMouseUp, true)\n}\n"],"mappings":";;;AAcgB,SAAAA,aAAcC,EAAA,EAAyCC,OAAA,EAAoC;EACzG,IAAIC,SAAA,GAAY;EAChB,IAAIC,UAAA,GAAa;EAEjB,MAAMC,eAAA,GAAkBA,CAAA,KAAM;;IAC5B,CAAAC,EAAA,GAAAJ,OAAA,CAAQK,OAAA,KAAR,gBAAAD,EAAA,CAAAE,IAAA,CAAAN,OAAA;IACAO,YAAA,CAAaN,SAAS;IACtBA,SAAA,GAAYO,UAAA,CAAW,MAAM;MAC3BN,UAAA,GAAaO,WAAA,CAAY;;QAAM,QAAAC,GAAA,GAAAV,OAAA,CAAQW,QAAA,KAAR,gBAAAD,GAAA,CAAAJ,IAAA,CAAAN,OAAA;MAAA,GAAsBA,OAAA,CAAQY,QAAA,IAAY,GAAG;IAC3E,GAAAC,KAAA,CAAMb,OAAA,CAAQc,KAAK,KAAK,GAAG;EAAA;EAGhC,MAAMC,aAAA,GAAgBA,CAAA,KAAM;;IAC1BR,YAAA,CAAaN,SAAS;IACtBe,aAAA,CAAcd,UAAU;IACxB,CAAAE,EAAA,GAAAJ,OAAA,CAAQiB,KAAA,KAAR,gBAAAb,EAAA,CAAAE,IAAA,CAAAN,OAAA;EAAgB;EAGZ,MAAAkB,WAAA,GAAcC,cAAA,CAAepB,EAAE;EAErCqB,QAAA,CAAS,CAAC,aAAa,cAAc,WAAW,GAAGjB,eAAA,EAAiBe,WAAW;EACtEE,QAAA,EACP,WAAW,cACX,YAAY,eACZ,QAAQ,YACPL,aAAA,EAAe,IAAI;AACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}