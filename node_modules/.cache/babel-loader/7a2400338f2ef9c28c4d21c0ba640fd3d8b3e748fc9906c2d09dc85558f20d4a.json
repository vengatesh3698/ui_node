{"ast":null,"code":"import { defineComponent, ref, computed, onBeforeMount, onBeforeUnmount, watch, nextTick } from \"vue\";\nimport { p as pick } from \"../../../vendor-fff696df.mjs\";\nimport { V as VaAspectRatio } from \"../va-aspect-ratio/index-691ee637.mjs\";\nimport { V as VaFallback } from \"../va-fallback/index-e34db7ca.mjs\";\nimport { u as useNativeImgAttributesProps, a as useNativeImgAttributes } from \"./hooks/useNativeImgAttributes-8e457ff7.mjs\";\nimport { u as useDeprecated } from \"../../composables/useDeprecated-76095652.mjs\";\nimport { u as useIntersectionObserver } from \"../../composables/useIntersectionObserver-4f12fe5b.mjs\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options-6b96d215.mjs\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { u as useIsMounted } from \"../../composables/useIsMounted-a63f9559.mjs\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props-9727421a.mjs\";\nimport { u as useGlobalConfig } from \"../../composables/useGlobalConfig-29bee2de.mjs\";\nconst VaFallbackProps = extractComponentProps(VaFallback);\nconst _sfc_main = defineComponent({\n  name: \"VaImage\",\n  components: {\n    VaAspectRatio,\n    VaFallback\n  },\n  emits: [\"loaded\", \"error\", \"fallback\"],\n  props: {\n    ...useComponentPresetProp,\n    ...useNativeImgAttributesProps,\n    ...VaFallbackProps,\n    ratio: {\n      type: [Number, String],\n      default: \"auto\",\n      validator: v => {\n        if (typeof v === \"number\") {\n          return v > 0;\n        }\n        return v === \"auto\";\n      }\n    },\n    fit: {\n      type: String,\n      default: \"cover\"\n    },\n    maxWidth: {\n      type: Number,\n      default: 0,\n      validator: v => v >= 0\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    placeholderSrc: {\n      type: String,\n      default: \"\"\n    },\n    // TODO: delete in 1.7.0\n    contain: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    useDeprecated([\"contain\"]);\n    const root = ref();\n    const image = ref();\n    const renderedImage = ref();\n    const currentImage = computed(() => renderedImage.value || props.src);\n    const imgWidth = ref(1);\n    const imgHeight = ref(1);\n    const isLoading = ref(false);\n    const isError = ref(false);\n    const handleLoad = () => {\n      var _a;\n      isLoading.value = true;\n      if (!isReadyForLoad.value) {\n        return;\n      }\n      isLoading.value = false;\n      renderedImage.value = (_a = image.value) == null ? void 0 : _a.currentSrc;\n      getImgSizes();\n      emit(\"loaded\", currentImage.value);\n    };\n    const handleError = err => {\n      isError.value = true;\n      isLoading.value = false;\n      emit(\"error\", err || currentImage.value);\n    };\n    const isIntersecting = ref(false);\n    const handleIntersection = (entries, observer) => {\n      entries.forEach(entry => {\n        if (!entry.isIntersecting) {\n          return;\n        }\n        isIntersecting.value = true;\n        init();\n        observer.disconnect();\n      });\n    };\n    const {\n      isIntersectionDisabled\n    } = useIntersectionObserver(handleIntersection, void 0, root, props.lazy);\n    const isReadyForLoad = computed(() => isIntersectionDisabled.value || isIntersecting.value);\n    const isMounted = useIsMounted();\n    const isReadyForRender = computed(() => !props.lazy || props.lazy && isMounted.value && isReadyForLoad.value);\n    const init = () => {\n      if (!props.src || isLoading.value && isIntersectionDisabled.value || !isReadyForLoad.value) {\n        return;\n      }\n      isLoading.value = true;\n      isError.value = false;\n      nextTick(() => {\n        var _a;\n        if (!((_a = image.value) == null ? void 0 : _a.complete)) {\n          return;\n        }\n        if (!image.value.naturalWidth) {\n          handleError();\n          return;\n        }\n        handleLoad();\n      });\n    };\n    let timer;\n    const getImgSizes = () => {\n      clearTimeout(timer);\n      if (isLoading.value) {\n        timer = window.setTimeout(getImgSizes, 100);\n      }\n      const {\n        naturalHeight,\n        naturalWidth\n      } = image.value || {};\n      if (naturalHeight && naturalWidth) {\n        imgWidth.value = naturalHeight;\n        imgHeight.value = naturalWidth;\n      }\n    };\n    onBeforeMount(init);\n    onBeforeUnmount(() => clearTimeout(timer));\n    watch(() => props.src, init);\n    const isPlaceholderPassed = computed(() => {\n      var _a;\n      return ((_a = slots == null ? void 0 : slots.placeholder) == null ? void 0 : _a.call(slots)) || props.placeholderSrc;\n    });\n    const isLoaderShown = computed(() => {\n      var _a;\n      return isLoading.value && !((_a = slots == null ? void 0 : slots.loader) == null ? void 0 : _a.call(slots));\n    });\n    const isErrorShown = computed(() => {\n      var _a;\n      return isError.value && !((_a = slots == null ? void 0 : slots.error) == null ? void 0 : _a.call(slots)) && !isAnyFallbackPassed.value;\n    });\n    const isPlaceholderShown = computed(() => (isLoaderShown.value || isErrorShown.value) && isPlaceholderPassed.value);\n    const isSuccessfullyLoaded = computed(() => !(isLoading.value || isError.value));\n    const imgAttributesComputed = useNativeImgAttributes(props);\n    const aspectRationAttributesComputed = computed(() => ({\n      ...pick(props, [\"ratio\", \"maxWidth\"]),\n      contentWidth: imgWidth.value,\n      contentHeight: imgHeight.value\n    }));\n    const fallbackProps = filterComponentProps(VaFallbackProps);\n    const checkObjectNonEmptyValues = obj => !!Object.values(obj || {}).filter(prop => prop).length;\n    const hasFallbackGlobalConfig = computed(() => {\n      var _a, _b, _c, _d;\n      return checkObjectNonEmptyValues((_d = (_c = (_b = (_a = useGlobalConfig()) == null ? void 0 : _a.globalConfig) == null ? void 0 : _b.value) == null ? void 0 : _c.components) == null ? void 0 : _d.VaFallback);\n    });\n    const isAnyFallbackPassed = computed(() => checkObjectNonEmptyValues(fallbackProps.value) || hasFallbackGlobalConfig.value);\n    const fitComputed = computed(() => {\n      if (props.contain) {\n        return \"contain\";\n      }\n      return props.fit;\n    });\n    return {\n      fitComputed,\n      root,\n      image,\n      isLoading,\n      handleLoad,\n      isError,\n      handleError,\n      isReadyForRender,\n      isPlaceholderShown,\n      isSuccessfullyLoaded,\n      imgAttributesComputed,\n      aspectRationAttributesComputed,\n      isAnyFallbackPassed,\n      fallbackProps\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaImage.css';","map":{"version":3,"names":["VaFallbackProps","extractComponentProps","VaFallback","_sfc_main","defineComponent","name","components","VaAspectRatio","emits","props","useComponentPresetProp","useNativeImgAttributesProps","ratio","type","Number","String","default","validator","v","fit","maxWidth","lazy","Boolean","placeholderSrc","contain","setup","emit","slots","useDeprecated","root","ref","image","renderedImage","currentImage","computed","value","src","imgWidth","imgHeight","isLoading","isError","handleLoad","isReadyForLoad","_a","currentSrc","getImgSizes","handleError","err","isIntersecting","handleIntersection","entries","observer","forEach","entry","init","disconnect","isIntersectionDisabled","useIntersectionObserver","isMounted","useIsMounted","isReadyForRender","nextTick","complete","naturalWidth","timer","clearTimeout","window","setTimeout","naturalHeight","onBeforeMount","onBeforeUnmount","watch","isPlaceholderPassed","placeholder","call","isLoaderShown","loader","isErrorShown","error","isAnyFallbackPassed","isPlaceholderShown","isSuccessfullyLoaded","imgAttributesComputed","useNativeImgAttributes","aspectRationAttributesComputed","pick","contentWidth","contentHeight","fallbackProps","filterComponentProps","checkObjectNonEmptyValues","obj","Object","values","filter","prop","length","hasFallbackGlobalConfig","_d","_c","_b","useGlobalConfig","globalConfig","fitComputed"],"sources":["../../../../../src/components/va-image/VaImage.vue"],"sourcesContent":["<template>\n  <va-aspect-ratio\n    ref=\"root\"\n    class=\"va-image\"\n    v-bind=\"aspectRationAttributesComputed\"\n   :style=\"`--va-0-fit-computed: ${String(fitComputed)}`\">\n    <picture\n      v-show=\"isSuccessfullyLoaded\"\n      class=\"va-image__content\"\n      :aria-busy=\"isLoading\"\n    >\n      <slot v-if=\"$slots.sources\" name=\"sources\" />\n\n      <img\n        v-if=\"isReadyForRender\"\n        ref=\"image\"\n        v-bind=\"imgAttributesComputed\"\n        @error=\"handleError\"\n        @load=\"handleLoad\"\n      />\n    </picture>\n\n    <div\n      v-if=\"$slots.default && isSuccessfullyLoaded\"\n      class=\"va-image__overlay\"\n    >\n      <slot />\n    </div>\n\n    <div\n      v-if=\"isError && ($slots.error || isAnyFallbackPassed)\"\n      class=\"va-image__error\"\n    >\n      <slot name=\"error\">\n        <va-fallback v-bind=\"fallbackProps\" @fallback=\"$emit('fallback')\" />\n      </slot>\n    </div>\n\n    <div\n      v-if=\"isLoading && $slots.loader\"\n      class=\"va-image__loader\"\n    >\n      <slot name=\"loader\" />\n    </div>\n\n    <div\n      v-if=\"isPlaceholderShown\"\n      class=\"va-image__placeholder\"\n    >\n      <slot name=\"placeholder\">\n        <img\n          v-if=\"$props.placeholderSrc\"\n          :src=\"$props.placeholderSrc\"\n          alt=\"\"\n        />\n      </slot>\n    </div>\n  </va-aspect-ratio>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  computed,\n  watch,\n  nextTick,\n  onBeforeMount,\n  onBeforeUnmount,\n  type PropType,\n} from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { VaAspectRatio } from '../va-aspect-ratio'\nimport { VaFallback } from '../va-fallback'\n\nimport { useNativeImgAttributes, useNativeImgAttributesProps } from './hooks/useNativeImgAttributes'\nimport {\n  useComponentPresetProp,\n  useIsMounted,\n  useDeprecated,\n  useIntersectionObserver,\n  useGlobalConfig,\n} from '../../composables'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nconst VaFallbackProps = extractComponentProps(VaFallback)\n\nexport default defineComponent({\n  name: 'VaImage',\n\n  components: { VaAspectRatio, VaFallback },\n\n  emits: ['loaded', 'error', 'fallback'],\n\n  props: {\n    ...useComponentPresetProp,\n    ...useNativeImgAttributesProps,\n    ...VaFallbackProps,\n    ratio: {\n      type: [Number, String] as PropType<number | 'auto'>,\n      default: 'auto',\n      validator: (v: number | 'auto') => {\n        if (typeof v === 'number') {\n          return v > 0\n        }\n\n        return v === 'auto'\n      },\n    },\n    fit: {\n      type: String as PropType<'contain' | 'fill' | 'cover' | 'scale-down' | 'none'>,\n      default: 'cover',\n    },\n    maxWidth: {\n      type: Number,\n      default: 0,\n      validator: (v: number) => v >= 0,\n    },\n    lazy: { type: Boolean, default: false },\n    placeholderSrc: { type: String, default: '' },\n    // TODO: delete in 1.7.0\n    contain: { type: Boolean, default: false },\n  },\n\n  setup (props, { emit, slots }) {\n    // TODO: delete in 1.7.0\n    useDeprecated(['contain'])\n\n    const root = ref<HTMLElement>()\n    const image = ref<HTMLImageElement>()\n\n    const renderedImage = ref()\n    const currentImage = computed(() => renderedImage.value || props.src)\n\n    const imgWidth = ref(1)\n    const imgHeight = ref(1)\n\n    const isLoading = ref(false)\n    const isError = ref(false)\n\n    const handleLoad = () => {\n      isLoading.value = true\n\n      if (!isReadyForLoad.value) { return }\n\n      isLoading.value = false\n\n      renderedImage.value = image.value?.currentSrc\n      getImgSizes()\n\n      emit('loaded', currentImage.value)\n    }\n\n    const handleError = (err?: Event) => {\n      isError.value = true\n      isLoading.value = false\n\n      emit('error', err || currentImage.value)\n    }\n\n    const isIntersecting = ref(false)\n    const handleIntersection = (entries: IntersectionObserverEntry[], observer: IntersectionObserver) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) { return }\n\n        isIntersecting.value = true\n        init()\n        observer.disconnect()\n      })\n    }\n    const { isIntersectionDisabled } = useIntersectionObserver(handleIntersection, undefined, root, props.lazy)\n    const isReadyForLoad = computed(() => isIntersectionDisabled.value || isIntersecting.value)\n    const isMounted = useIsMounted()\n    const isReadyForRender = computed(() => !props.lazy || (props.lazy && isMounted.value && isReadyForLoad.value))\n\n    const init = () => {\n      if (!props.src || (isLoading.value && isIntersectionDisabled.value) || !isReadyForLoad.value) {\n        return\n      }\n\n      isLoading.value = true\n      isError.value = false\n\n      nextTick(() => {\n        if (!image.value?.complete) {\n          return\n        }\n\n        if (!image.value.naturalWidth) {\n          handleError()\n          return\n        }\n\n        handleLoad()\n      })\n    }\n\n    let timer: ReturnType<Window['setTimeout']>\n    const getImgSizes = () => {\n      clearTimeout(timer)\n\n      if (isLoading.value) {\n        timer = window.setTimeout(getImgSizes, 100)\n      }\n\n      const { naturalHeight, naturalWidth } = image.value || {}\n      if (naturalHeight && naturalWidth) {\n        imgWidth.value = naturalHeight\n        imgHeight.value = naturalWidth\n      }\n    }\n\n    onBeforeMount(init)\n    onBeforeUnmount(() => clearTimeout(timer))\n    watch(() => props.src, init)\n\n    const isPlaceholderPassed = computed(() => slots?.placeholder?.() || props.placeholderSrc)\n    const isLoaderShown = computed(() => isLoading.value && !slots?.loader?.())\n    const isErrorShown = computed(() => isError.value && (!slots?.error?.() && !isAnyFallbackPassed.value))\n    const isPlaceholderShown = computed(() => (isLoaderShown.value || isErrorShown.value) && isPlaceholderPassed.value)\n\n    const isSuccessfullyLoaded = computed(() => !(isLoading.value || isError.value))\n\n    const imgAttributesComputed = useNativeImgAttributes(props)\n\n    const aspectRationAttributesComputed = computed(() => ({\n      ...pick(props, ['ratio', 'maxWidth']),\n      contentWidth: imgWidth.value,\n      contentHeight: imgHeight.value,\n    }))\n\n    const fallbackProps = filterComponentProps(VaFallbackProps)\n    const checkObjectNonEmptyValues = (obj: Record<string, any> | undefined) => !!Object.values(obj || {}).filter((prop) => prop).length\n    const hasFallbackGlobalConfig = computed(() => checkObjectNonEmptyValues(useGlobalConfig()?.globalConfig?.value?.components?.VaFallback))\n    const isAnyFallbackPassed = computed(() => checkObjectNonEmptyValues(fallbackProps.value) || hasFallbackGlobalConfig.value)\n\n    // TODO: refactor (just v-bind fit prop to CSS) in 1.7.0\n    const fitComputed = computed(() => {\n      if (props.contain) { return 'contain' }\n      return props.fit\n    })\n\n    return {\n      fitComputed,\n\n      root,\n      image,\n\n      isLoading,\n      handleLoad,\n      isError,\n      handleError,\n      isReadyForRender,\n\n      isPlaceholderShown,\n      isSuccessfullyLoaded,\n      imgAttributesComputed,\n      aspectRationAttributesComputed,\n\n      isAnyFallbackPassed,\n      fallbackProps,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-image {\n  &__content {\n    position: var(--va-image-content-position);\n    inset: 0;\n    width: 100%;\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: var(--va-0-fit-computed);\n      object-position: var(--va-image-content-img-object-position);\n    }\n  }\n\n  &__overlay {\n    position: absolute;\n    inset: 0;\n  }\n\n  &__placeholder,\n  &__loader,\n  &__error,\n  &__overlay {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;AAuFA,MAAMA,eAAA,GAAkBC,qBAAA,CAAsBC,UAAU;AAExD,MAAAC,SAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EAENC,UAAA,EAAY;IAAEC,aAAA;IAAeL;EAAW;EAExCM,KAAA,EAAO,CAAC,UAAU,SAAS,UAAU;EAErCC,KAAA,EAAO;IACL,GAAGC,sBAAA;IACH,GAAGC,2BAAA;IACH,GAAGX,eAAA;IACHY,KAAA,EAAO;MACLC,IAAA,EAAM,CAACC,MAAA,EAAQC,MAAM;MACrBC,OAAA,EAAS;MACTC,SAAA,EAAYC,CAAA,IAAuB;QAC7B,WAAOA,CAAA,KAAM,UAAU;UACzB,OAAOA,CAAA,GAAI;QACb;QAEA,OAAOA,CAAA,KAAM;MACf;IACF;IACAC,GAAA,EAAK;MACHN,IAAA,EAAME,MAAA;MACNC,OAAA,EAAS;IACX;IACAI,QAAA,EAAU;MACRP,IAAA,EAAMC,MAAA;MACNE,OAAA,EAAS;MACTC,SAAA,EAAYC,CAAA,IAAcA,CAAA,IAAK;IACjC;IACAG,IAAA,EAAM;MAAER,IAAA,EAAMS,OAAA;MAASN,OAAA,EAAS;IAAM;IACtCO,cAAA,EAAgB;MAAEV,IAAA,EAAME,MAAA;MAAQC,OAAA,EAAS;IAAG;IAAA;IAE5CQ,OAAA,EAAS;MAAEX,IAAA,EAAMS,OAAA;MAASN,OAAA,EAAS;IAAM;EAC3C;EAEAS,MAAOhB,KAAA,EAAO;IAAEiB,IAAA;IAAMC;EAAA,GAAS;IAEfC,aAAA,EAAC,SAAS,CAAC;IAEzB,MAAMC,IAAA,GAAOC,GAAA;IACb,MAAMC,KAAA,GAAQD,GAAA;IAEd,MAAME,aAAA,GAAgBF,GAAA;IACtB,MAAMG,YAAA,GAAeC,QAAA,CAAS,MAAMF,aAAA,CAAcG,KAAA,IAAS1B,KAAA,CAAM2B,GAAG;IAE9D,MAAAC,QAAA,GAAWP,GAAA,CAAI,CAAC;IAChB,MAAAQ,SAAA,GAAYR,GAAA,CAAI,CAAC;IAEjB,MAAAS,SAAA,GAAYT,GAAA,CAAI,KAAK;IACrB,MAAAU,OAAA,GAAUV,GAAA,CAAI,KAAK;IAEzB,MAAMW,UAAA,GAAaA,CAAA,KAAM;;MACvBF,SAAA,CAAUJ,KAAA,GAAQ;MAEd,KAACO,cAAA,CAAeP,KAAA,EAAO;QAAE;MAAO;MAEpCI,SAAA,CAAUJ,KAAA,GAAQ;MAEJH,aAAA,CAAAG,KAAA,IAAQQ,EAAA,GAAAZ,KAAA,CAAMI,KAAA,KAAN,gBAAAQ,EAAA,CAAaC,UAAA;MACvBC,WAAA;MAEPnB,IAAA,WAAUO,YAAA,CAAaE,KAAK;IAAA;IAG7B,MAAAW,WAAA,GAAeC,GAAA,IAAgB;MACnCP,OAAA,CAAQL,KAAA,GAAQ;MAChBI,SAAA,CAAUJ,KAAA,GAAQ;MAEbT,IAAA,UAASqB,GAAA,IAAOd,YAAA,CAAaE,KAAK;IAAA;IAGnC,MAAAa,cAAA,GAAiBlB,GAAA,CAAI,KAAK;IAC1B,MAAAmB,kBAAA,GAAqBA,CAACC,OAAA,EAAsCC,QAAA,KAAmC;MAC3FD,OAAA,CAAAE,OAAA,CAASC,KAAA,IAAU;QACrB,KAACA,KAAA,CAAML,cAAA,EAAgB;UAAE;QAAO;QAEpCA,cAAA,CAAeb,KAAA,GAAQ;QAClBmB,IAAA;QACLH,QAAA,CAASI,UAAA,CAAW;MAAA,CACrB;IAAA;IAEG;MAAEC;IAAA,IAA2BC,uBAAA,CAAwBR,kBAAA,EAAoB,QAAWpB,IAAA,EAAMpB,KAAA,CAAMY,IAAI;IAC1G,MAAMqB,cAAA,GAAiBR,QAAA,CAAS,MAAMsB,sBAAA,CAAuBrB,KAAA,IAASa,cAAA,CAAeb,KAAK;IAC1F,MAAMuB,SAAA,GAAYC,YAAA;IACZ,MAAAC,gBAAA,GAAmB1B,QAAA,CAAS,MAAM,CAACzB,KAAA,CAAMY,IAAA,IAASZ,KAAA,CAAMY,IAAA,IAAQqC,SAAA,CAAUvB,KAAA,IAASO,cAAA,CAAeP,KAAM;IAE9G,MAAMmB,IAAA,GAAOA,CAAA,KAAM;MACb,KAAC7C,KAAA,CAAM2B,GAAA,IAAQG,SAAA,CAAUJ,KAAA,IAASqB,sBAAA,CAAuBrB,KAAA,IAAU,CAACO,cAAA,CAAeP,KAAA,EAAO;QAC5F;MACF;MAEAI,SAAA,CAAUJ,KAAA,GAAQ;MAClBK,OAAA,CAAQL,KAAA,GAAQ;MAEhB0B,QAAA,CAAS,MAAM;;QACT,OAAClB,EAAA,GAAAZ,KAAA,CAAMI,KAAA,KAAN,gBAAAQ,EAAA,CAAamB,QAAA,GAAU;UAC1B;QACF;QAEI,KAAC/B,KAAA,CAAMI,KAAA,CAAM4B,YAAA,EAAc;UACjBjB,WAAA;UACZ;QACF;QAEWL,UAAA;MAAA,CACZ;IAAA;IAGC,IAAAuB,KAAA;IACJ,MAAMnB,WAAA,GAAcA,CAAA,KAAM;MACxBoB,YAAA,CAAaD,KAAK;MAElB,IAAIzB,SAAA,CAAUJ,KAAA,EAAO;QACX6B,KAAA,GAAAE,MAAA,CAAOC,UAAA,CAAWtB,WAAA,EAAa,GAAG;MAC5C;MAEA,MAAM;QAAEuB,aAAA;QAAeL;MAAA,IAAiBhC,KAAA,CAAMI,KAAA,IAAS;MACvD,IAAIiC,aAAA,IAAiBL,YAAA,EAAc;QACjC1B,QAAA,CAASF,KAAA,GAAQiC,aAAA;QACjB9B,SAAA,CAAUH,KAAA,GAAQ4B,YAAA;MACpB;IAAA;IAGFM,aAAA,CAAcf,IAAI;IACFgB,eAAA,OAAML,YAAA,CAAaD,KAAK,CAAC;IACnCO,KAAA,OAAM9D,KAAA,CAAM2B,GAAA,EAAKkB,IAAI;IAE3B,MAAMkB,mBAAA,GAAsBtC,QAAA,CAAS,MAAM;;MAAA,SAAAS,EAAA,GAAAhB,KAAA,oBAAAA,KAAA,CAAO8C,WAAA,KAAP,gBAAA9B,EAAA,CAAA+B,IAAA,CAAA/C,KAAA,MAA0BlB,KAAA,CAAMc,cAAA;IAAA,CAAc;IACnF,MAAAoD,aAAA,GAAgBzC,QAAA,CAAS;;MAAM,OAAAK,SAAA,CAAUJ,KAAA,IAAS,GAACQ,EAAA,GAAAhB,KAAA,oBAAAA,KAAA,CAAOiD,MAAA,KAAP,gBAAAjC,EAAA,CAAA+B,IAAA,CAAA/C,KAAA;IAAA,CAAiB;IACpE,MAAAkD,YAAA,GAAe3C,QAAA,CAAS,MAAM;;MAAA,OAAAM,OAAA,CAAQL,KAAA,IAAU,GAACQ,EAAA,GAAAhB,KAAA,oBAAAA,KAAA,CAAOmD,KAAA,KAAP,gBAAAnC,EAAA,CAAA+B,IAAA,CAAA/C,KAAA,MAAoB,CAACoD,mBAAA,CAAoB5C,KAAA;IAAA,CAAM;IAChG,MAAA6C,kBAAA,GAAqB9C,QAAA,CAAS,OAAOyC,aAAA,CAAcxC,KAAA,IAAS0C,YAAA,CAAa1C,KAAA,KAAUqC,mBAAA,CAAoBrC,KAAK;IAElH,MAAM8C,oBAAA,GAAuB/C,QAAA,CAAS,MAAM,EAAEK,SAAA,CAAUJ,KAAA,IAASK,OAAA,CAAQL,KAAA,CAAM;IAEzE,MAAA+C,qBAAA,GAAwBC,sBAAA,CAAuB1E,KAAK;IAEpD,MAAA2E,8BAAA,GAAiClD,QAAA,CAAS,OAAO;MACrD,GAAGmD,IAAA,CAAK5E,KAAA,EAAO,CAAC,SAAS,UAAU,CAAC;MACpC6E,YAAA,EAAcjD,QAAA,CAASF,KAAA;MACvBoD,aAAA,EAAejD,SAAA,CAAUH;IACzB;IAEI,MAAAqD,aAAA,GAAgBC,oBAAA,CAAqBzF,eAAe;IAC1D,MAAM0F,yBAAA,GAA6BC,GAAA,IAAyC,CAAC,CAACC,MAAA,CAAOC,MAAA,CAAOF,GAAA,IAAO,CAAE,GAAEG,MAAA,CAAQC,IAAA,IAASA,IAAI,EAAEC,MAAA;IACxH,MAAAC,uBAAA,GAA0B/D,QAAA,CAAS,MAAM;;MAAA,OAAAwD,yBAAA,EAA0BQ,EAAA,IAAAC,EAAA,IAAAC,EAAA,IAAAzD,EAAA,GAAA0D,eAAA,uBAAA1D,EAAA,CAAmB2D,YAAA,KAAnB,gBAAAF,EAAA,CAAiCjE,KAAA,KAAjC,gBAAAgE,EAAA,CAAwC7F,UAAA,KAAxC,gBAAA4F,EAAA,CAAoDhG,UAAU;IAAA,CAAC;IAClI,MAAA6E,mBAAA,GAAsB7C,QAAA,CAAS,MAAMwD,yBAAA,CAA0BF,aAAA,CAAcrD,KAAK,KAAK8D,uBAAA,CAAwB9D,KAAK;IAGpH,MAAAoE,WAAA,GAAcrE,QAAA,CAAS,MAAM;MACjC,IAAIzB,KAAA,CAAMe,OAAA,EAAS;QAAS;MAAU;MACtC,OAAOf,KAAA,CAAMU,GAAA;IAAA,CACd;IAEM;MACLoF,WAAA;MAEA1E,IAAA;MACAE,KAAA;MAEAQ,SAAA;MACAE,UAAA;MACAD,OAAA;MACAM,WAAA;MACAc,gBAAA;MAEAoB,kBAAA;MACAC,oBAAA;MACAC,qBAAA;MACAE,8BAAA;MAEAL,mBAAA;MACAS;IAAA;EAEJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}