{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { getCurrentInstance, unref } from \"vue\";\nimport { i as isDev } from \"../utils/env-da4fbb25.mjs\";\nconst OPTIONS_LIST = {\n  props: \"prop\",\n  attrs: \"prop\",\n  slots: \"slot\"\n};\nconst useDeprecated = (deprecatedList, deprecationSource = [\"props\", \"attrs\"]) => {\n  if (!isDev) {\n    return void 0;\n  }\n  const instance = getCurrentInstance();\n  if (!instance) {\n    throw new Error(\"`useDeprecated` hook must be used only inside of setup function!\");\n  }\n  const instanceName = instance.type.name;\n  const deprecatedItems = unref(deprecatedList);\n  deprecationSource.every(source => {\n    var _a;\n    const option = OPTIONS_LIST[source];\n    const throwWarning = key => console.warn(`The '${key}' ${option} (${instanceName} component) is deprecated! Please, check the documentation.`);\n    if (source === \"props\") {\n      const propsOptions = ((_a = instance.propsOptions) == null ? void 0 : _a[0]) || {};\n      const propsValues = instance.props || {};\n      deprecatedItems.forEach(propName => {\n        propsOptions[propName] && propsValues[propName] !== propsOptions[propName].default && throwWarning(propName);\n      });\n      return true;\n    }\n    Object.keys({\n      ...instance[source]\n    }).forEach(key => {\n      if (deprecatedItems.includes(key)) {\n        throwWarning(key);\n      }\n    });\n    return true;\n  });\n};\nexport { useDeprecated as u };","map":{"version":3,"names":["OPTIONS_LIST","props","attrs","slots","useDeprecated","deprecatedList","deprecationSource","isDev","instance","getCurrentInstance","Error","instanceName","type","name","deprecatedItems","unref","every","source","option","throwWarning","key","console","warn","propsOptions","_a","propsValues","forEach","propName","default","Object","keys","includes"],"sources":["../../../../src/composables/useDeprecated.ts"],"sourcesContent":["import { unref, Ref, getCurrentInstance } from 'vue'\n\nimport { isDev } from '../utils/env'\n\ntype DeprecationSource = 'slots' | 'props' | 'attrs'\n\nconst OPTIONS_LIST: Record<DeprecationSource, string> = {\n  props: 'prop',\n  attrs: 'prop',\n  slots: 'slot',\n}\n\nexport const useDeprecated = (\n  deprecatedList: Ref<string[]> | string[],\n  deprecationSource: DeprecationSource[] = ['props', 'attrs'],\n) => {\n  if (!isDev) { return undefined }\n\n  const instance = getCurrentInstance()\n\n  if (!instance) {\n    throw new Error('`useDeprecated` hook must be used only inside of setup function!')\n  }\n\n  const instanceName = instance.type.name\n  const deprecatedItems = unref(deprecatedList)\n\n  deprecationSource.every((source) => {\n    const option = OPTIONS_LIST[source]\n\n    const throwWarning = (key: string) =>\n      console.warn(`The '${key}' ${option} (${instanceName} component) is deprecated! Please, check the documentation.`)\n\n    if (source === 'props') {\n      const propsOptions = (instance as any).propsOptions?.[0] || {}\n      const propsValues = instance.props || {}\n\n      // checking if default prop value isn't equal to the current one -> it's deprecated and used\n      deprecatedItems.forEach((propName) => {\n        propsOptions[propName] && (propsValues[propName] !== propsOptions[propName].default) && throwWarning(propName)\n      })\n\n      return true\n    }\n\n    Object.keys({ ...instance[source] }).forEach((key) => {\n      if (deprecatedItems.includes(key)) { throwWarning(key) }\n    })\n\n    return true\n  })\n}\n"],"mappings":";;;AAMA,MAAMA,YAAA,GAAkD;EACtDC,KAAA,EAAO;EACPC,KAAA,EAAO;EACPC,KAAA,EAAO;AACT;AAEO,MAAMC,aAAA,GAAgBA,CAC3BC,cAAA,EACAC,iBAAA,GAAyC,CAAC,SAAS,OAAO,MACvD;EACH,IAAI,CAACC,KAAA,EAAO;IAAS;EAAU;EAE/B,MAAMC,QAAA,GAAWC,kBAAA;EAEjB,IAAI,CAACD,QAAA,EAAU;IACP,UAAIE,KAAA,CAAM,kEAAkE;EACpF;EAEM,MAAAC,YAAA,GAAeH,QAAA,CAASI,IAAA,CAAKC,IAAA;EAC7B,MAAAC,eAAA,GAAkBC,KAAA,CAAMV,cAAc;EAE1BC,iBAAA,CAAAU,KAAA,CAAOC,MAAA,IAAW;;IAC5B,MAAAC,MAAA,GAASlB,YAAA,CAAaiB,MAAM;IAE5B,MAAAE,YAAA,GAAgBC,GAAA,IACpBC,OAAA,CAAQC,IAAA,CAAK,QAAQF,GAAA,KAAQF,MAAA,KAAWP,YAAA,6DAAyE;IAEnH,IAAIM,MAAA,KAAW,SAAS;MACtB,MAAMM,YAAA,KAAgBC,EAAA,GAAAhB,QAAA,CAAiBe,YAAA,KAAjB,gBAAAC,EAAA,CAAgC,OAAM;MACtD,MAAAC,WAAA,GAAcjB,QAAA,CAASP,KAAA,IAAS;MAGtBa,eAAA,CAAAY,OAAA,CAASC,QAAA,IAAa;QACvBJ,YAAA,CAAAI,QAAQ,KAAMF,WAAA,CAAYE,QAAQ,MAAMJ,YAAA,CAAaI,QAAQ,EAAEC,OAAA,IAAYT,YAAA,CAAaQ,QAAQ;MAAA,CAC9G;MAEM;IACT;IAEOE,MAAA,CAAAC,IAAA,CAAK;MAAE,GAAGtB,QAAA,CAASS,MAAM;IAAA,CAAG,EAAES,OAAA,CAASN,GAAA,IAAQ;MAChD,IAAAN,eAAA,CAAgBiB,QAAA,CAASX,GAAG,GAAG;QAAED,YAAA,CAAaC,GAAG;MAAE;IAAA,CACxD;IAEM;EAAA,CACR;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}