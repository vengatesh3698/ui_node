{"ast":null,"code":"import { _ as _sfc_main } from \"./VaToast.vue_vue_type_script_lang-229d4ee9.mjs\";\nimport { resolveComponent, openBlock, createBlock, Transition, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, createElementBlock, toDisplayString, createCommentVNode, vShow, createVNode, withModifiers, withKeys } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaToast_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = [\"role\"];\nconst _hoisted_2 = {\n  class: \"va-toast__group\"\n};\nconst _hoisted_3 = [\"textContent\"];\nconst _hoisted_4 = {\n  class: \"va-toast__content\"\n};\nconst _hoisted_5 = [\"innerHTML\"];\nconst _hoisted_6 = [\"textContent\"];\nconst _hoisted_7 = {\n  key: 1,\n  class: \"va-toast__content\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VaToastRenderer = resolveComponent(\"VaToastRenderer\");\n  const _component_va_icon = resolveComponent(\"va-icon\");\n  return openBlock(), createBlock(Transition, {\n    name: \"va-toast-fade\"\n  }, {\n    default: withCtx(() => [withDirectives(createElementVNode(\"div\", {\n      ref: \"rootElement\",\n      role: _ctx.$props.closeable ? \"alertdialog\" : \"alert\",\n      class: normalizeClass([\"va-toast\", _ctx.toastClasses]),\n      style: normalizeStyle(_ctx.toastStyles),\n      onMouseenter: _cache[0] || (_cache[0] = (...args) => _ctx.clearTimer && _ctx.clearTimer(...args)),\n      onMouseleave: _cache[1] || (_cache[1] = (...args) => _ctx.startTimer && _ctx.startTimer(...args)),\n      onClick: _cache[2] || (_cache[2] = (...args) => _ctx.onToastClick && _ctx.onToastClick(...args))\n    }, [createElementVNode(\"div\", _hoisted_2, [_ctx.$props.title ? (openBlock(), createElementBlock(\"h2\", {\n      key: 0,\n      class: \"va-toast__title\",\n      textContent: toDisplayString(_ctx.$props.title)\n    }, null, 8, _hoisted_3)) : createCommentVNode(\"\", true), withDirectives(createElementVNode(\"div\", _hoisted_4, [_ctx.$props.dangerouslyUseHtmlString ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      innerHTML: _ctx.computedMessage\n    }, null, 8, _hoisted_5)) : (openBlock(), createElementBlock(\"p\", {\n      key: 1,\n      textContent: toDisplayString(_ctx.computedMessage)\n    }, null, 8, _hoisted_6))], 512), [[vShow, _ctx.$props.message]]), _ctx.$props.render ? (openBlock(), createElementBlock(\"div\", _hoisted_7, [createVNode(_component_VaToastRenderer, {\n      render: _ctx.$props.render\n    }, null, 8, [\"render\"])])) : createCommentVNode(\"\", true), _ctx.$props.closeable ? (openBlock(), createBlock(_component_va_icon, {\n      key: 2,\n      class: \"va-toast__close-icon\",\n      role: \"button\",\n      \"aria-label\": _ctx.tp(_ctx.$props.ariaCloseLabel),\n      tabindex: \"0\",\n      size: \"small\",\n      name: _ctx.$props.icon,\n      onClick: withModifiers(_ctx.onToastClose, [\"stop\"]),\n      onKeydown: withKeys(withModifiers(_ctx.onToastClose, [\"stop\"]), [\"enter\"])\n    }, null, 8, [\"aria-label\", \"name\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"\", true)])], 46, _hoisted_1), [[vShow, _ctx.visible]])]),\n    _: 1\n  });\n}\nconst _VaToast = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaToast as _ };","map":{"version":3,"names":["class","_hoisted_7","key","_component_va_icon","resolveComponent","createBlock","Transition","name","default","withCtx","withDirectives","createElementVNode","ref","role","_ctx","$props","closeable","normalizeClass","toastClasses","style","normalizeStyle","toastStyles","onMouseenter","_cache","args","clearTimer","onMouseleave","startTimer","onClick","onToastClick","_hoisted_2","title","openBlock","createElementBlock","_hoisted_3","createCommentVNode","_hoisted_4","dangerouslyUseHtmlString","innerHTML","computedMessage","_hoisted_5","textContent","toDisplayString","_hoisted_6","vShow","message","render","createVNode","_component_VaToastRenderer","tp","ariaCloseLabel","tabindex","size","icon","withModifiers","onToastClose","onKeydown","withKeys"],"sources":["../../../../../src/components/va-toast/VaToast.vue"],"sourcesContent":["<template>\n  <transition name=\"va-toast-fade\">\n    <div\n      v-show=\"visible\"\n      ref=\"rootElement\"\n      :role=\"$props.closeable ? 'alertdialog' : 'alert'\"\n      class=\"va-toast\"\n      :class=\"toastClasses\"\n      :style=\"toastStyles\"\n      @mouseenter=\"clearTimer\"\n      @mouseleave=\"startTimer\"\n      @click=\"onToastClick\"\n    >\n      <div class=\"va-toast__group\">\n        <h2 v-if=\"$props.title\" class=\"va-toast__title\" v-text=\"$props.title\" />\n\n        <div class=\"va-toast__content\" v-show=\"$props.message\">\n          <div v-if=\"$props.dangerouslyUseHtmlString\" v-html=\"computedMessage\" />\n          <p v-else v-text=\"computedMessage\" />\n        </div>\n\n        <div class=\"va-toast__content\" v-if=\"$props.render\">\n          <VaToastRenderer :render=\"$props.render\" />\n        </div>\n\n        <va-icon\n          v-if=\"$props.closeable\"\n          class=\"va-toast__close-icon\"\n          role=\"button\"\n          :aria-label=\"tp($props.ariaCloseLabel)\"\n          tabindex=\"0\"\n          size=\"small\"\n          :name=\"$props.icon\"\n          @click.stop=\"onToastClose\"\n          @keydown.enter.stop=\"onToastClose\"\n        />\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, computed, onMounted, shallowRef } from 'vue'\n\nimport { useComponentPresetProp, useColors, useTimer, useTextColor, useTranslation } from '../../composables'\n\nimport { ToastPosition } from './types'\n\nimport VaIcon from '../va-icon/VaIcon.vue'\n\nconst VaToastRenderer = defineComponent({\n  name: 'VaToastRenderer',\n  props: {\n    render: { type: Function, required: true },\n  },\n  setup: (props) => () => props.render(),\n})\n\nexport default defineComponent({\n  name: 'VaToast',\n  components: { VaIcon, VaToastRenderer },\n  emits: ['on-click', 'on-close'],\n  props: {\n    ...useComponentPresetProp,\n    title: { type: String, default: '' },\n    offsetY: { type: Number, default: 16 },\n    offsetX: { type: Number, default: 16 },\n    message: { type: [String, Function], default: '' },\n    dangerouslyUseHtmlString: { type: Boolean, default: false },\n    icon: { type: String, default: 'close' },\n    customClass: { type: String, default: '' },\n    duration: { type: Number, default: 5000 },\n    color: { type: String, default: '' },\n    closeable: { type: Boolean, default: true },\n    onClose: { type: Function },\n    onClick: { type: Function },\n    multiLine: { type: Boolean, default: false },\n    position: {\n      type: String as PropType<ToastPosition>,\n      default: 'top-right',\n      validator: (value: string) => ['top-right', 'top-left', 'bottom-right', 'bottom-left'].includes(value),\n    },\n    render: { type: Function },\n    ariaCloseLabel: { type: String, default: '$t:close' },\n  },\n  setup (props, { emit }) {\n    const rootElement = shallowRef<HTMLElement>()\n\n    const { getColor } = useColors()\n\n    const { textColorComputed } = useTextColor()\n\n    const visible = ref(false)\n\n    const positionX = computed(() => {\n      return props.position.includes('right') ? 'right' : 'left'\n    })\n\n    const positionY = computed(() => {\n      return props.position.includes('top') ? 'top' : 'bottom'\n    })\n\n    const toastClasses = computed(() => [\n      props.customClass,\n      props.multiLine ? 'va-toast--multiline' : '',\n    ])\n\n    const toastStyles = computed(() => ({\n      [positionY.value]: `${props.offsetY}px`,\n      [positionX.value]: `${props.offsetX}px`,\n      backgroundColor: getColor(props.color),\n      color: textColorComputed.value,\n    }))\n\n    const computedMessage = computed(() => (typeof props.message === 'function') ? props.message() : props.message)\n\n    const destroyElement = () => {\n      rootElement.value?.removeEventListener('transitionend', destroyElement)\n\n      rootElement.value?.remove()\n    }\n\n    const onToastClick = () => {\n      if (typeof props.onClick === 'function') {\n        props.onClick()\n      } else {\n        emit('on-click')\n      }\n    }\n\n    const onToastClose = () => {\n      visible.value = false\n\n      rootElement.value?.addEventListener('transitionend', destroyElement)\n\n      if (typeof props.onClose === 'function') {\n        props.onClose()\n      } else {\n        emit('on-close')\n      }\n    }\n\n    const timer = useTimer()\n    const clearTimer = timer.clear\n    const startTimer = () => {\n      if (props.duration > 0) {\n        timer.start(() => visible.value && onToastClose(), props.duration)\n      }\n    }\n\n    onMounted(() => {\n      visible.value = true\n\n      startTimer()\n    })\n\n    return {\n      ...useTranslation(),\n      visible,\n      toastClasses,\n      toastStyles,\n      computedMessage,\n      onToastClick,\n      onToastClose,\n      startTimer,\n      clearTimer,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-toast {\n  position: fixed;\n  box-sizing: border-box;\n  width: var(--va-toast-width);\n  padding: var(--va-toast-padding);\n  display: flex;\n  align-items: center;\n  border-radius: var(--va-toast-border-radius);\n  border: 1px solid var(--va-toast-border-color);\n  background-color: var(--va-toast-background-color);\n  box-shadow: var(--va-toast-box-shadow);\n  transition: var(--va-toast-transition);\n  overflow: hidden;\n  z-index: var(--va-toast-z-index);\n  font-family: var(--va-font-family);\n\n  &--multiline {\n    min-height: 70px;\n  }\n\n  &--right {\n    right: 16px;\n  }\n\n  &--left {\n    left: 16px;\n  }\n\n  &__group {\n    margin-left: var(--va-toast-group-margin-left);\n    margin-right: var(--va-toast-group-margin-right);\n  }\n\n  &__title {\n    font-weight: var(--va-toast-title-font-weight);\n    font-size: var(--va-toast-title-font-size);\n    color: var(--va-toast-title-color);\n    margin: var(--va-toast-title-margin);\n  }\n\n  &__content {\n    font-size: var(--va-toast-content-font-size);\n    line-height: var(--va-toast-content-line-height);\n    padding-right: var(--va-toast-content-padding-right);\n\n    p,\n    div {\n      margin: 0;\n    }\n  }\n\n  &__icon {\n    height: var(--va-toast-icon-height);\n    width: var(--va-toast-icon-width);\n    font-size: var(--va-toast-icon-font-size);\n  }\n\n  &__close-icon {\n    position: absolute;\n    top: 50%;\n    right: var(--va-toast-close-icon-right);\n    cursor: pointer;\n    transform: translateY(-50%);\n    font-size: var(--va-toast-close-icon-font-siz);\n    opacity: 0.7;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n}\n\n.va-toast-fade-enter {\n  &.right {\n    right: 0;\n    transform: translateX(100%);\n  }\n\n  &.left {\n    left: 0;\n    transform: translateX(-100%);\n  }\n}\n\n.va-toast-fade-leave-active {\n  opacity: 0;\n}\n</style>\n"],"mappings":";;;;;;EAgBaA,KAAA,EAAM;AAAA;;;;;;;MAKNC,UAAA,GAAM;EAAAC,GAAA;EAAAF,KAAA;;;;EApBjB,MAAAG,kBAAA,GAAAC,gBAAA,CAqCa,SArCG;sBACdC,WAAA,CAmCMC,UAAA;IAAAC,IAAA;EAAA;IAAAC,OAAA,EAjCAC,OAAA,CAAa,OAAAC,cAAA,CACVC,kBAAA,CAAgB;MACvBC,GAAA,EAAK;MAEJC,IAAA,EAAKC,IAAA,CAAAC,MAAA,CAAAC,SAAA,GAAE,gBAAW;MAClBhB,KAAA,EAAAiB,cAAA,CAAU,CAAE,YAAAH,IAAA,CAAAI,YAAA;MACZC,KAAA,EAAUC,cAAA,CAAAN,IAAA,CAAAO,WAAA;MACVC,YAAA,EAAKC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEV,IAAA,CAAYW,UAAA,IAAAX,IAAA,CAAAW,UAAA,IAAAD,IAAA;MAAAE,YAAA,EAAAH,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAAV,IAAA,CAAAa,UAAA,IAAAb,IAAA,CAAAa,UAAA,IAAAH,IAAA;MAEpBI,OAAA,EAAAL,MAAA,QAuBMA,MAAA,CAvBN,CAuBM,QAAAC,IAAA,KAAAV,IAAA,CAAAe,YAAA,IAAAf,IAAA,CAAAe,YAAA,IAAAL,IAAA;IAAA,IAtBJb,kBAAA,QAAAmB,UAAA,GAAAhB,IAAA,CAAAC,MAAA,CAAAgB,KAAA,IAAAC,SAAA,IAA+CC,kBAAA;MAAA/B,GAAA;MAAAF,KAAA;;IAE/C,YAAAkC,UAAA,KACaC,kBAAA,CAAO,WAAAzB,cAAA,CAAAC,kBAAA,CAAlB,OAAuEyB,UAAA,GAAAtB,IAAA,CAAAC,MAAA,CAAAsB,wBAAA,IAAAL,SAAA,IAAnBC,kBAAA,CAAe;MAAA/B,GAAA;MACnEoC,SAAA,EAAAxB,IAAA,CAAAyB;IAAA,YAAAC,UAAA,MAAAR,SAAA,IAAUC,kBAAA,CAAwB;MAAA/B,GAAA;MAAAuC,WAAA,EAAAC,eAAA,CAAA5B,IAAA,CAAAyB,eAAA;aAFG,GAAOI,UAAA,YAKT,CAAAC,KAAA,EAAA9B,IAAA,CAAOC,MAAA,CAAM8B,OAAA,KAChD/B,IAAA,CAAAC,MAAA,CAAA+B,MAAA,IAAAd,SAAA,CAAuC,GAAAC,kBAAA,QAAAhC,UAAA,GAAA8C,WAAA,CAAAC,0BAAA;MAAAF,MAAA,EAAAhC,IAAA,CAAAC,MAAA,CAAA+B;4BAIjC,KAAAX,kBAAA,CADR,IAUE,OAAArB,IAAA,CAAAC,MAAA,CAAAC,SAAA,IAAAgB,SAAA,IAR4B3B,WAAA,CAAAF,kBAAA;MAC5BD,GAAA,EAAI;MACHF,KAAA;MACDa,IAAA;MACA,cAAYC,IAAA,CAAAmC,EAAA,CAAAnC,IAAA,CAAAC,MAAA,CAAAmC,cAAA;MACXC,QAAA,EAAM;MACNC,IAAA;MACA7C,IAAA,EAAOO,IAAA,CAAAC,MAAA,CAAAsC,IAAA;MAAAzB,OAAA,EAAA0B,aAAA,CAAAxC,IAAA,CAAAyC,YAAA;MAAAC,SAAA,EAAAC,QAAA,CAAAH,aAAA,CAAAxC,IAAA,CAAAyC,YAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}