{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mt-3\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pageHeader mb-3\"\n}, \"Profile\", -1);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pageDesc\",\n  style: {\n    \"font-size\": \"18px\"\n  }\n}, \"Let's change the profile\")], -1);\nconst _hoisted_5 = {\n  class: \"mt-5\"\n};\nconst _hoisted_6 = {\n  class: \"flex md6 pa-5 mt-5\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"mt-4 flex md6\"\n};\nconst _hoisted_9 = {\n  class: \"form pa-4\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Username\", -1);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Mobile\", -1);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label va-form-required-label\"\n}, \"Email\", -1);\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"va-form-label\"\n}, \"Password\", -1);\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_center = _resolveComponent(\"center\");\n  const _component_va_input = _resolveComponent(\"va-input\");\n  const _component_va_icon = _resolveComponent(\"va-icon\");\n  const _component_va_button = _resolveComponent(\"va-button\");\n  const _component_va_card = _resolveComponent(\"va-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_va_card, {\n    class: \"cardView\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_center, null, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: _ctx.image_url,\n        height: \"330\",\n        width: \"330\",\n        alt: \"image\"\n      }, null, 8, _hoisted_7)]),\n      _: 1\n    })]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"form\", _hoisted_9, [_hoisted_10, _hoisted_11, _createVNode(_component_va_input, {\n      modelValue: $data.username,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event),\n      modelModifiers: {\n        trim: true\n      },\n      oninput: \"event.target.value = event.target.value.replace(/[^a-zA-Z0-9_- ]/g, '')\",\n      maxlength: \"50\",\n      error: $data.checkUsername,\n      placeholder: \"Enter Username\",\n      disabled: \"\"\n    }, null, 8, [\"modelValue\", \"error\"]), _hoisted_12, _hoisted_13, _hoisted_14, _hoisted_15, _createVNode(_component_va_input, {\n      modelValue: $data.mobile,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.mobile = $event),\n      modelModifiers: {\n        trim: true\n      },\n      maxlength: \"10\",\n      placeholder: \"Enter Mobile\",\n      oninput: \"event.target.value = event.target.value.replace(/[^0-9]*/g,'');\",\n      error: $data.checkMobile,\n      \"error-messages\": $data.mobileErrorMessage\n    }, null, 8, [\"modelValue\", \"error\", \"error-messages\"]), _hoisted_16, _hoisted_17, _hoisted_18, _hoisted_19, _createVNode(_component_va_input, {\n      modelValue: $data.email,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.email = $event),\n      modelModifiers: {\n        trim: true\n      },\n      error: $data.checkEmail,\n      \"error-messages\": _ctx.emailErrorMessage,\n      oninput: \"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_@.]*/g, '');\",\n      disabled: \"\"\n    }, null, 8, [\"modelValue\", \"error\", \"error-messages\"]), _hoisted_20, _hoisted_21, _hoisted_22, _hoisted_23, _createVNode(_component_va_input, {\n      modelValue: $data.password,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.password = $event),\n      modelModifiers: {\n        trim: true\n      },\n      placeholder: \"Enter password\",\n      type: $data.showPassword ? 'text' : 'password',\n      error: $data.checkPassword\n    }, {\n      appendInner: _withCtx(() => [_createVNode(_component_va_icon, {\n        name: $data.showPassword ? 'visibility_off' : 'visibility',\n        size: \"small\",\n        onClick: _cache[3] || (_cache[3] = $event => $data.showPassword = !$data.showPassword)\n      }, null, 8, [\"name\"])]),\n      _: 1\n    }, 8, [\"modelValue\", \"type\", \"error\"]), _hoisted_24, _hoisted_25, _createVNode(_component_va_button, {\n      color: \"#999999\",\n      type: \"submit\",\n      \"hide-icon\": \"\",\n      onClick: _cache[5] || (_cache[5] = _withModifiers($event => $options.submit(), [\"prevent\"]))\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Update Profile \")]),\n      _: 1\n    })])])]),\n    _: 1\n  })])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_va_card","_hoisted_6","_component_center","src","_ctx","image_url","height","width","alt","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_va_input","$data","username","$event","trim","oninput","maxlength","error","checkUsername","placeholder","disabled","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","mobile","checkMobile","mobileErrorMessage","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","email","checkEmail","emailErrorMessage","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","password","type","showPassword","checkPassword","appendInner","_withCtx","_component_va_icon","name","size","onClick","_cache","_hoisted_24","_hoisted_25","_component_va_button","color","_withModifiers","$options","submit"],"sources":["/etc/ec/code/gn_ui/src/components/account/updateProfile.vue"],"sourcesContent":["<template>\n  <div class=\"mt-3\">\n    <br>\n    <div class=\"pageHeader mb-3\">Profile</div>\n    <div class=\"container\">\n      <div class=\"pageDesc\" style=\"font-size: 18px;\">Let's change the profile</div>\n      \n\n       <!-- <va-button color=\"#999999\" type=\"submit\" hide-icon @click.prevent=\"redirect('Logout', null)\">\n        Logout\n      </va-button> -->\n    </div>\n    <div class=\"mt-5\">\n      <va-card class=\"cardView\">\n         <div class=\"flex md6 pa-5 mt-5\">\n          <center>\n            <!-- <img src=\"@/assets/avatar7.png\" height=\"330\" alt=\"image\" /> -->\n             <img :src=image_url height=\"330\" width=\"330\"  alt=\"image\" />\n          </center>\n        </div>\n        <div class=\"mt-4 flex md6\">\n         <!--  <va-card class=\"roleCard\" color=\"#000000\">\n            <div class=\"roleView\">\n              <span><b>Role</b></span><br>\n              <span>{{ role }}</span>\n            </div>\n          </va-card> -->\n          <form class=\"form pa-4\">\n            <span class=\"va-form-label va-form-required-label\">Username</span><br>\n                <va-input v-model.trim=\"username\"\n                  oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9_- ]/g, '')\" maxlength=\"50\"\n                  :error=\"checkUsername\" placeholder=\"Enter Username\" disabled /><br><br>\n\n                <span class=\"va-form-label va-form-required-label\">Mobile</span><br>\n                <va-input v-model.trim=\"mobile\" maxlength=\"10\" placeholder=\"Enter Mobile\"\n                  oninput=\"event.target.value = event.target.value.replace(/[^0-9]*/g,'');\" :error=\"checkMobile\"\n                  :error-messages=\"mobileErrorMessage\"/><br><br>\n                    \n           <!--  <div class=\"row\">\n              <div class=\"flex md6 pr-3\">\n                \n              </div>\n              <div class=\"flex md6\">\n                \n              </div>\n            </div><br> -->\n            <span class=\"va-form-label va-form-required-label\">Email</span><br>\n            <va-input v-model.trim=\"email\" :error=\"checkEmail\" :error-messages=\"emailErrorMessage\"\n              oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_@.]*/g, '');\" disabled /><br><br>\n            <span class=\"va-form-label\">Password</span><br>\n            <va-input v-model.trim=\"password\" placeholder=\"Enter password\" :type=\"showPassword ? 'text' : 'password'\"\n              :error=\"checkPassword\">\n              <template #appendInner>\n                <va-icon :name=\"showPassword ? 'visibility_off' : 'visibility'\" size=\"small\"\n                  @click=\"showPassword = !showPassword\" />\n              </template>\n            </va-input><br><br>\n\n            <va-button color=\"#999999\" type=\"submit\" hide-icon @click.prevent=\"submit()\">\n              Update Profile\n            </va-button>\n           <!--  <span class=\"va-form-label\">Select your Profile</span><br>\n            <div class=\"mt-3\">\n              <img v-for=\"(image, index) in images\" :key=\"index\" :src=\"require(`@/assets/profile/${image}`)\"\n                :alt=\"'Profile Image ' + (index + 1)\"\n                :class=\"{ 'profile-image': true, 'select': selectedImageIndex === index }\" @click=\"selectImage(index)\" />\n            </div> -->\n          </form>\n        </div>\n       \n      </va-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from '@/router/config.json';\nexport default {\n  created() {\n    var image = this.$cookies.get('profile') + '.png';\n    this.selectedImageIndex = this.images.indexOf(image);\n    this.image_url = 'http://157.119.200.65/logo/'+this.$cookies.get('user_id')+'.png';\n    this.getUser();\n  },\n  data() {\n    return {\n      role: this.$cookies.get('role'),\n      username: this.$cookies.get('username'),\n      mobile: this.$cookies.get('mobile'),\n      password:'',\n      email: this.$cookies.get('username')+'@email.com',\n      mobileError: false,\n      mobileErrorMessage: '',\n      checkUsername: false,\n      checkEmail: false,\n      checkMobile: false,\n      checkPassword: false,\n      showPassword: false,\n      image_value: '@/assets/avatar7.png',\n      images: [\n        'image1.png',\n        'image2.png',\n        'image3.png',\n        'image4.png',\n        'image5.png',\n        'image6.png',\n      ],\n      selectedImageIndex: null,\n    }\n  },\n  methods: {\n    selectImage(index) {\n      this.selectedImageIndex = index;\n    },\n    errorCheck() {\n      if (\n        !this.checkUsername &&\n        !this.checkMobile &&\n        !this.checkPassword &&\n        !this.mobileError\n      ) { return true } else { return false }\n    },\n    submit() {\n      this.checkUsername = (!this.username) ? true : false;\n      this.checkMobile = (!this.mobile) ? true : false;\n       // this.checkPassword = (!this.password) ? true : false;\n\n      if (this.mobile && this.mobile.length != 10) {\n        this.checkMobile = true;\n        this.mobileErrorMessage = 'Mobile should be atleast 10 digits';\n      }\n      if (!this.errorCheck() || this.checkMobile || this.checkEmail) {\n        return;\n      }\n      var payload = {\n        username: this.username,\n        phone_number: this.mobile,\n        profile: this.selectedImageIndex !== null ? this.images[this.selectedImageIndex].slice(0, -4) : null,\n      };\n      if (this.password){\n        payload['password'] = this.password\n      }\n      const loader = this.$loading.show({ width: 40, height: 40 });\n      this.axios.put(config.host + 'user/' + this.$cookies.get('user_id'), payload).then(response => {\n        console.log(\"response\",response)\n        loader.hide();\n        this.getUser();\n        this.password='';\n        this.$toast.success(response.data);\n      }, err => {\n        loader.hide();\n        this.$toast.error(response.data);\n      })\n    },\n    getUser() {\n      const loader = this.$loading.show({ width: 40, height: 40 });\n      this.axios.get(config.host + 'user/' + this.$cookies.get('user_id')).then(response => {\n        console.log(\"response.data-----------\",response.data)\n        loader.hide();\n        this.$cookies.set('profile', 'image1');\n        this.$cookies.set('username', response.data.username);\n        this.$cookies.set('phone_number', response.data.phone_number);\n        this.$cookies.set('email',response.data.email)\n      })\n    },\n    redirect(type, url) {\n      this.isAccount = false;\n      this.isCustomise = false;\n      this.isIntegation = false;\n      this.isReport = false;\n      this.isManage = false;\n      this.iconaccount = 'fa fa-angle-down iconSet';\n      this.iconCust = 'fa fa-angle-down iconSet';\n      this.iconIntegration = 'fa fa-angle-down iconSet';\n      this.iconManage = 'fa fa-angle-down iconSet';\n      this.$router.push({ name: type });\n      this.activePage = url;\n    },\n  }\n}\n</script>\n\n<style>\n.roleCard {\n  width: 11rem;\n  height: 3rem;\n  border-top-right-radius: 2rem;\n  border-bottom-right-radius: 2rem;\n}\n\n.roleView {\n  margin: 0.5rem 0 0 1.8rem;\n  position: absolute;\n  font-size: 0.9rem;\n}\n\n.profile-image {\n  height: 50px;\n  width: 50px;\n  margin-left: 20px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.select {\n  border: 3px solid blue;\n}\n\n.form .va-input {\n  width: 100%;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}