{"ast":null,"code":"import { computed } from \"vue\";\nimport { u as useFocus } from \"./useFocus-4393f76a.mjs\";\nconst useClearableProps = {\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  clearableIcon: {\n    type: String,\n    default: \"va-clear\"\n  },\n  clearValue: {\n    type: String,\n    default: \"\"\n  }\n};\nconst useClearableEmits = [\"clear\"];\nconst useClearable = (props, inputValue, el, hasError) => {\n  const {\n    isFocused,\n    onFocus,\n    onBlur\n  } = useFocus(el);\n  const clearedValues = [null, void 0, props.clearValue];\n  const canBeCleared = computed(() => props.clearable && !props.disabled && !props.readonly && !clearedValues.includes(inputValue.value));\n  const clearIconColor = computed(() => {\n    if (isFocused == null ? void 0 : isFocused.value) {\n      return props.color || \"primary\";\n    }\n    if (hasError == null ? void 0 : hasError.value) {\n      return \"danger\";\n    }\n    if (props.success) {\n      return \"success\";\n    }\n    return \"secondary\";\n  });\n  const clearIconProps = computed(() => ({\n    name: props.clearableIcon,\n    color: clearIconColor.value,\n    size: \"small\"\n  }));\n  return {\n    canBeCleared,\n    clearIconColor,\n    clearIconProps,\n    onFocus,\n    onBlur\n  };\n};\nexport { useClearableEmits as a, useClearable as b, useClearableProps as u };","map":{"version":3,"names":["useClearableProps","clearable","type","Boolean","default","clearableIcon","String","clearValue","useClearableEmits","useClearable","props","inputValue","el","hasError","isFocused","onFocus","onBlur","useFocus","clearedValues","canBeCleared","computed","disabled","readonly","includes","value","clearIconColor","color","success","clearIconProps","name","size"],"sources":["../../../../src/composables/useClearable.ts"],"sourcesContent":["import { computed, Ref } from 'vue'\n\nimport { useFocus } from './useFocus'\n\ninterface ClearableProps {\n  clearable: boolean\n  clearableIcon: string\n  clearValue: any\n  disabled?: boolean\n  readonly?: boolean\n  success?: boolean\n  color?: string\n}\n\nexport const useClearableProps = {\n  clearable: { type: Boolean, default: false },\n  clearableIcon: { type: String, default: 'va-clear' },\n  clearValue: { type: String, default: '' },\n}\n\nexport const useClearableEmits = ['clear'] as const\n\nexport const useClearable = (\n  props: ClearableProps,\n  inputValue: Ref<any>,\n  el?: Ref<any>,\n  hasError?: Ref<boolean>,\n) => {\n  const { isFocused, onFocus, onBlur } = useFocus(el)\n\n  const clearedValues = [null, undefined, props.clearValue]\n\n  const canBeCleared = computed(() => (\n    props.clearable &&\n    !props.disabled &&\n    !props.readonly &&\n    !clearedValues.includes(inputValue.value)\n  ))\n\n  const clearIconColor = computed(() => {\n    if (isFocused?.value) { return props.color || 'primary' }\n    if (hasError?.value) { return 'danger' }\n    if (props.success) { return 'success' }\n\n    return 'secondary'\n  })\n\n  const clearIconProps = computed(() => ({\n    name: props.clearableIcon,\n    color: clearIconColor.value,\n    size: 'small',\n  }))\n\n  return {\n    canBeCleared,\n    clearIconColor,\n    clearIconProps,\n    onFocus,\n    onBlur,\n  }\n}\n"],"mappings":";;AAcO,MAAMA,iBAAA,GAAoB;EAC/BC,SAAA,EAAW;IAAEC,IAAA,EAAMC,OAAA;IAASC,OAAA,EAAS;EAAM;EAC3CC,aAAA,EAAe;IAAEH,IAAA,EAAMI,MAAA;IAAQF,OAAA,EAAS;EAAW;EACnDG,UAAA,EAAY;IAAEL,IAAA,EAAMI,MAAA;IAAQF,OAAA,EAAS;EAAG;AAC1C;AAEa,MAAAI,iBAAA,GAAoB,CAAC,OAAO;AAElC,MAAMC,YAAA,GAAeA,CAC1BC,KAAA,EACAC,UAAA,EACAC,EAAA,EACAC,QAAA,KACG;EACH,MAAM;IAAEC,SAAA;IAAWC,OAAA;IAASC;EAAO,IAAIC,QAAA,CAASL,EAAE;EAElD,MAAMM,aAAA,GAAgB,CAAC,MAAM,QAAWR,KAAA,CAAMH,UAAU;EAExD,MAAMY,YAAA,GAAeC,QAAA,CAAS,MAC5BV,KAAA,CAAMT,SAAA,IACN,CAACS,KAAA,CAAMW,QAAA,IACP,CAACX,KAAA,CAAMY,QAAA,IACP,CAACJ,aAAA,CAAcK,QAAA,CAASZ,UAAA,CAAWa,KAAK,CACzC;EAEK,MAAAC,cAAA,GAAiBL,QAAA,CAAS,MAAM;IACpC,IAAIN,SAAA,oBAAAA,SAAA,CAAWU,KAAA,EAAO;MAAE,OAAOd,KAAA,CAAMgB,KAAA,IAAS;IAAU;IACxD,IAAIb,QAAA,oBAAAA,QAAA,CAAUW,KAAA,EAAO;MAAS;IAAS;IACvC,IAAId,KAAA,CAAMiB,OAAA,EAAS;MAAS;IAAU;IAE/B;EAAA,CACR;EAEK,MAAAC,cAAA,GAAiBR,QAAA,CAAS,OAAO;IACrCS,IAAA,EAAMnB,KAAA,CAAML,aAAA;IACZqB,KAAA,EAAOD,cAAA,CAAeD,KAAA;IACtBM,IAAA,EAAM;EACN;EAEK;IACLX,YAAA;IACAM,cAAA;IACAG,cAAA;IACAb,OAAA;IACAC;EAAA;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}