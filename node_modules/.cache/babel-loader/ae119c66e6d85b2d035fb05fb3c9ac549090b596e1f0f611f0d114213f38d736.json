{"ast":null,"code":"import { removeElement } from './helpers/remove-element';\nimport Timer from './helpers/timer';\nimport Positions, { definePosition } from './defaults/positions';\nimport eventBus from './helpers/event-bus';\nexport default {\n  name: 'toast',\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'default'\n    },\n    position: {\n      type: String,\n      default: Positions.BOTTOM_RIGHT,\n      validator(value) {\n        return Object.values(Positions).includes(value);\n      }\n    },\n    maxToasts: {\n      type: [Number, Boolean],\n      default: false\n    },\n    duration: {\n      type: [Number, Boolean],\n      default: 4000\n    },\n    dismissible: {\n      type: Boolean,\n      default: true\n    },\n    queue: {\n      type: Boolean,\n      default: false\n    },\n    pauseOnHover: {\n      type: Boolean,\n      default: true\n    },\n    useDefaultCss: {\n      type: Boolean,\n      default: true\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    onClick: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      isActive: false,\n      parentTop: null,\n      parentBottom: null,\n      isHovered: false,\n      timer: null\n    };\n  },\n  beforeMount() {\n    this.createParents();\n    this.setDefaultCss();\n    this.setupContainer();\n  },\n  mounted() {\n    this.showNotice();\n    eventBus.$on('toast-clear', this.close);\n  },\n  methods: {\n    createParents() {\n      this.parentTop = document.querySelector('.c-toast-container--top');\n      this.parentBottom = document.querySelector('.c-toast-container--bottom');\n      if (this.parentTop && this.parentBottom) return;\n      if (!this.parentTop) {\n        this.parentTop = document.createElement('div');\n        this.parentTop.className = 'c-toast-container c-toast-container--top';\n      }\n      if (!this.parentBottom) {\n        this.parentBottom = document.createElement('div');\n        this.parentBottom.className = 'c-toast-container c-toast-container--bottom';\n      }\n    },\n    setDefaultCss() {\n      const type = this.useDefaultCss ? 'add' : 'remove';\n      this.parentTop.classList[type]('v--default-css');\n      this.parentBottom.classList[type]('v--default-css');\n    },\n    setupContainer() {\n      const container = document.body;\n      container.appendChild(this.parentTop);\n      container.appendChild(this.parentBottom);\n    },\n    shouldQueue() {\n      if (!this.queue && this.maxToasts === false) {\n        return false;\n      }\n      if (this.maxToasts !== false) {\n        return this.maxToasts <= this.parentTop.childElementCount + this.parentBottom.childElementCount;\n      }\n      return this.parentTop.childElementCount > 0 || this.parentBottom.childElementCount > 0;\n    },\n    showNotice() {\n      if (this.shouldQueue()) {\n        this.queueTimer = setTimeout(this.showNotice, 250);\n        return;\n      }\n      this.correctParent.insertAdjacentElement('afterbegin', this.$el);\n      this.isActive = true;\n      this.timer = this.duration !== false ? new Timer(this.close, this.duration) : null;\n    },\n    click() {\n      this.onClick.apply(null, arguments);\n      if (this.dismissible) {\n        this.close();\n      }\n    },\n    toggleTimer(newVal) {\n      if (this.timer && this.pauseOnHover) {\n        newVal ? this.timer.pause() : this.timer.resume();\n      }\n    },\n    stopTimer() {\n      this.timer && this.timer.stop();\n      clearTimeout(this.queueTimer);\n    },\n    close() {\n      this.stopTimer();\n      this.isActive = false;\n      setTimeout(() => {\n        this.onClose.apply(null, arguments);\n        removeElement(this.$el);\n      }, 150);\n    }\n  },\n  computed: {\n    correctParent() {\n      return definePosition(this.position, this.parentTop, this.parentBottom);\n    },\n    transition() {\n      return definePosition(this.position, {\n        enter: 'fadeInDown',\n        leave: 'fadeOut'\n      }, {\n        enter: 'fadeInUp',\n        leave: 'fadeOut'\n      });\n    }\n  },\n  beforeUnmount() {\n    eventBus.$off('toast-clear', this.close);\n  }\n};","map":{"version":3,"names":["removeElement","Timer","Positions","definePosition","eventBus","name","props","message","type","String","required","default","position","BOTTOM_RIGHT","validator","value","Object","values","includes","maxToasts","Number","Boolean","duration","dismissible","queue","pauseOnHover","useDefaultCss","onClose","Function","onClick","data","isActive","parentTop","parentBottom","isHovered","timer","beforeMount","createParents","setDefaultCss","setupContainer","mounted","showNotice","$on","close","methods","document","querySelector","createElement","className","classList","container","body","appendChild","shouldQueue","childElementCount","queueTimer","setTimeout","correctParent","insertAdjacentElement","$el","click","apply","arguments","toggleTimer","newVal","pause","resume","stopTimer","stop","clearTimeout","computed","transition","enter","leave","beforeUnmount","$off"],"sources":["/etc/ec/code/gn_ui/node_modules/@meforma/vue-toaster/src/Toaster.vue"],"sourcesContent":["<template>\n  <transition\n    :enter-active-class=\"transition.enter\"\n    :leave-active-class=\"transition.leave\"\n  >\n    <div\n      v-show=\"isActive\"\n      :class=\"['c-toast', `c-toast--${type}`, `c-toast--${position}`]\"\n      @mouseover=\"toggleTimer(true)\"\n      @mouseleave=\"toggleTimer(false)\"\n      @click=\"click\"\n      role=\"alert\"\n      v-html=\"message\"\n    />\n  </transition>\n</template>\n\n<script>\nimport { removeElement } from './helpers/remove-element'\nimport Timer from './helpers/timer'\nimport Positions, { definePosition } from './defaults/positions'\nimport eventBus from './helpers/event-bus'\n\nexport default {\n  name: 'toast',\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'default'\n    },\n    position: {\n      type: String,\n      default: Positions.BOTTOM_RIGHT,\n      validator(value) {\n        return Object.values(Positions).includes(value)\n      }\n    },\n    maxToasts: {\n      type: [Number, Boolean],\n      default: false\n    },\n    duration: {\n      type: [Number, Boolean],\n      default: 4000\n    },\n    dismissible: {\n      type: Boolean,\n      default: true\n    },\n    queue: {\n      type: Boolean,\n      default: false\n    },\n    pauseOnHover: {\n      type: Boolean,\n      default: true\n    },\n    useDefaultCss: {\n      type: Boolean,\n      default: true\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    onClick: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      isActive: false,\n      parentTop: null,\n      parentBottom: null,\n      isHovered: false,\n      timer: null\n    }\n  },\n  beforeMount() {\n    this.createParents()\n    this.setDefaultCss()\n    this.setupContainer()\n  },\n  mounted() {\n    this.showNotice()\n    eventBus.$on('toast-clear', this.close)\n  },\n  methods: {\n    createParents() {\n      this.parentTop = document.querySelector('.c-toast-container--top')\n      this.parentBottom = document.querySelector('.c-toast-container--bottom')\n\n      if (this.parentTop && this.parentBottom) return\n\n      if (!this.parentTop) {\n        this.parentTop = document.createElement('div')\n        this.parentTop.className = 'c-toast-container c-toast-container--top'\n      }\n\n      if (!this.parentBottom) {\n        this.parentBottom = document.createElement('div')\n        this.parentBottom.className =\n          'c-toast-container c-toast-container--bottom'\n      }\n    },\n    setDefaultCss() {\n      const type = this.useDefaultCss ? 'add' : 'remove'\n      this.parentTop.classList[type]('v--default-css')\n      this.parentBottom.classList[type]('v--default-css')\n    },\n    setupContainer() {\n      const container = document.body\n      container.appendChild(this.parentTop)\n      container.appendChild(this.parentBottom)\n    },\n    shouldQueue() {\n      if (!this.queue && this.maxToasts === false) {\n        return false\n      }\n\n      if (this.maxToasts !== false) {\n        return (\n          this.maxToasts <=\n          this.parentTop.childElementCount + this.parentBottom.childElementCount\n        )\n      }\n\n      return (\n        this.parentTop.childElementCount > 0 ||\n        this.parentBottom.childElementCount > 0\n      )\n    },\n    showNotice() {\n      if (this.shouldQueue()) {\n        this.queueTimer = setTimeout(this.showNotice, 250)\n        return\n      }\n\n      this.correctParent.insertAdjacentElement('afterbegin', this.$el)\n      this.isActive = true\n\n      this.timer =\n        this.duration !== false ? new Timer(this.close, this.duration) : null\n    },\n    click() {\n      this.onClick.apply(null, arguments)\n\n      if (this.dismissible) {\n        this.close()\n      }\n    },\n    toggleTimer(newVal) {\n      if (this.timer && this.pauseOnHover) {\n        newVal ? this.timer.pause() : this.timer.resume()\n      }\n    },\n    stopTimer() {\n      this.timer && this.timer.stop()\n      clearTimeout(this.queueTimer)\n    },\n    close() {\n      this.stopTimer()\n      this.isActive = false\n      setTimeout(() => {\n        this.onClose.apply(null, arguments)\n        removeElement(this.$el)\n      }, 150)\n    }\n  },\n  computed: {\n    correctParent() {\n      return definePosition(this.position, this.parentTop, this.parentBottom)\n    },\n    transition() {\n      return definePosition(\n        this.position,\n        {\n          enter: 'fadeInDown',\n          leave: 'fadeOut'\n        },\n        {\n          enter: 'fadeInUp',\n          leave: 'fadeOut'\n        }\n      )\n    }\n  },\n  beforeUnmount() {\n    eventBus.$off('toast-clear', this.close)\n  }\n}\n</script>\n<style lang=\"stylus\">\n@import './themes/default/index.styl'\n.v--default-css\n  @import './themes/default/colors.styl'\n  @import './themes/default/toast.styl'\n</style>\n"],"mappings":"AAkBA,SAASA,aAAY,QAAS,0BAAyB;AACvD,OAAOC,KAAI,MAAO,iBAAgB;AAClC,OAAOC,SAAS,IAAIC,cAAa,QAAS,sBAAqB;AAC/D,OAAOC,QAAO,MAAO,qBAAoB;AAEzC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDF,IAAI,EAAE;MACJA,IAAI,EAAEC,MAAM;MACZE,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRJ,IAAI,EAAEC,MAAM;MACZE,OAAO,EAAET,SAAS,CAACW,YAAY;MAC/BC,SAASA,CAACC,KAAK,EAAE;QACf,OAAOC,MAAM,CAACC,MAAM,CAACf,SAAS,CAAC,CAACgB,QAAQ,CAACH,KAAK;MAChD;IACF,CAAC;IACDI,SAAS,EAAE;MACTX,IAAI,EAAE,CAACY,MAAM,EAAEC,OAAO,CAAC;MACvBV,OAAO,EAAE;IACX,CAAC;IACDW,QAAQ,EAAE;MACRd,IAAI,EAAE,CAACY,MAAM,EAAEC,OAAO,CAAC;MACvBV,OAAO,EAAE;IACX,CAAC;IACDY,WAAW,EAAE;MACXf,IAAI,EAAEa,OAAO;MACbV,OAAO,EAAE;IACX,CAAC;IACDa,KAAK,EAAE;MACLhB,IAAI,EAAEa,OAAO;MACbV,OAAO,EAAE;IACX,CAAC;IACDc,YAAY,EAAE;MACZjB,IAAI,EAAEa,OAAO;MACbV,OAAO,EAAE;IACX,CAAC;IACDe,aAAa,EAAE;MACblB,IAAI,EAAEa,OAAO;MACbV,OAAO,EAAE;IACX,CAAC;IACDgB,OAAO,EAAE;MACPnB,IAAI,EAAEoB,QAAQ;MACdjB,OAAO,EAAEA,CAAA,KAAM,CAAC;IAClB,CAAC;IACDkB,OAAO,EAAE;MACPrB,IAAI,EAAEoB,QAAQ;MACdjB,OAAO,EAAEA,CAAA,KAAM,CAAC;IAClB;EACF,CAAC;EACDmB,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,KAAK;MACfC,SAAS,EAAE,IAAI;MACfC,YAAY,EAAE,IAAI;MAClBC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,aAAa,CAAC;IACnB,IAAI,CAACC,aAAa,CAAC;IACnB,IAAI,CAACC,cAAc,CAAC;EACtB,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC;IAChBrC,QAAQ,CAACsC,GAAG,CAAC,aAAa,EAAE,IAAI,CAACC,KAAK;EACxC,CAAC;EACDC,OAAO,EAAE;IACPP,aAAaA,CAAA,EAAG;MACd,IAAI,CAACL,SAAQ,GAAIa,QAAQ,CAACC,aAAa,CAAC,yBAAyB;MACjE,IAAI,CAACb,YAAW,GAAIY,QAAQ,CAACC,aAAa,CAAC,4BAA4B;MAEvE,IAAI,IAAI,CAACd,SAAQ,IAAK,IAAI,CAACC,YAAY,EAAE;MAEzC,IAAI,CAAC,IAAI,CAACD,SAAS,EAAE;QACnB,IAAI,CAACA,SAAQ,GAAIa,QAAQ,CAACE,aAAa,CAAC,KAAK;QAC7C,IAAI,CAACf,SAAS,CAACgB,SAAQ,GAAI,0CAAyC;MACtE;MAEA,IAAI,CAAC,IAAI,CAACf,YAAY,EAAE;QACtB,IAAI,CAACA,YAAW,GAAIY,QAAQ,CAACE,aAAa,CAAC,KAAK;QAChD,IAAI,CAACd,YAAY,CAACe,SAAQ,GACxB,6CAA4C;MAChD;IACF,CAAC;IACDV,aAAaA,CAAA,EAAG;MACd,MAAM9B,IAAG,GAAI,IAAI,CAACkB,aAAY,GAAI,KAAI,GAAI,QAAO;MACjD,IAAI,CAACM,SAAS,CAACiB,SAAS,CAACzC,IAAI,CAAC,CAAC,gBAAgB;MAC/C,IAAI,CAACyB,YAAY,CAACgB,SAAS,CAACzC,IAAI,CAAC,CAAC,gBAAgB;IACpD,CAAC;IACD+B,cAAcA,CAAA,EAAG;MACf,MAAMW,SAAQ,GAAIL,QAAQ,CAACM,IAAG;MAC9BD,SAAS,CAACE,WAAW,CAAC,IAAI,CAACpB,SAAS;MACpCkB,SAAS,CAACE,WAAW,CAAC,IAAI,CAACnB,YAAY;IACzC,CAAC;IACDoB,WAAWA,CAAA,EAAG;MACZ,IAAI,CAAC,IAAI,CAAC7B,KAAI,IAAK,IAAI,CAACL,SAAQ,KAAM,KAAK,EAAE;QAC3C,OAAO,KAAI;MACb;MAEA,IAAI,IAAI,CAACA,SAAQ,KAAM,KAAK,EAAE;QAC5B,OACE,IAAI,CAACA,SAAQ,IACb,IAAI,CAACa,SAAS,CAACsB,iBAAgB,GAAI,IAAI,CAACrB,YAAY,CAACqB,iBAAgB;MAEzE;MAEA,OACE,IAAI,CAACtB,SAAS,CAACsB,iBAAgB,GAAI,KACnC,IAAI,CAACrB,YAAY,CAACqB,iBAAgB,GAAI;IAE1C,CAAC;IACDb,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACY,WAAW,CAAC,CAAC,EAAE;QACtB,IAAI,CAACE,UAAS,GAAIC,UAAU,CAAC,IAAI,CAACf,UAAU,EAAE,GAAG;QACjD;MACF;MAEA,IAAI,CAACgB,aAAa,CAACC,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAACC,GAAG;MAC/D,IAAI,CAAC5B,QAAO,GAAI,IAAG;MAEnB,IAAI,CAACI,KAAI,GACP,IAAI,CAACb,QAAO,KAAM,KAAI,GAAI,IAAIrB,KAAK,CAAC,IAAI,CAAC0C,KAAK,EAAE,IAAI,CAACrB,QAAQ,IAAI,IAAG;IACxE,CAAC;IACDsC,KAAKA,CAAA,EAAG;MACN,IAAI,CAAC/B,OAAO,CAACgC,KAAK,CAAC,IAAI,EAAEC,SAAS;MAElC,IAAI,IAAI,CAACvC,WAAW,EAAE;QACpB,IAAI,CAACoB,KAAK,CAAC;MACb;IACF,CAAC;IACDoB,WAAWA,CAACC,MAAM,EAAE;MAClB,IAAI,IAAI,CAAC7B,KAAI,IAAK,IAAI,CAACV,YAAY,EAAE;QACnCuC,MAAK,GAAI,IAAI,CAAC7B,KAAK,CAAC8B,KAAK,CAAC,IAAI,IAAI,CAAC9B,KAAK,CAAC+B,MAAM,CAAC;MAClD;IACF,CAAC;IACDC,SAASA,CAAA,EAAG;MACV,IAAI,CAAChC,KAAI,IAAK,IAAI,CAACA,KAAK,CAACiC,IAAI,CAAC;MAC9BC,YAAY,CAAC,IAAI,CAACd,UAAU;IAC9B,CAAC;IACDZ,KAAKA,CAAA,EAAG;MACN,IAAI,CAACwB,SAAS,CAAC;MACf,IAAI,CAACpC,QAAO,GAAI,KAAI;MACpByB,UAAU,CAAC,MAAM;QACf,IAAI,CAAC7B,OAAO,CAACkC,KAAK,CAAC,IAAI,EAAEC,SAAS;QAClC9D,aAAa,CAAC,IAAI,CAAC2D,GAAG;MACxB,CAAC,EAAE,GAAG;IACR;EACF,CAAC;EACDW,QAAQ,EAAE;IACRb,aAAaA,CAAA,EAAG;MACd,OAAOtD,cAAc,CAAC,IAAI,CAACS,QAAQ,EAAE,IAAI,CAACoB,SAAS,EAAE,IAAI,CAACC,YAAY;IACxE,CAAC;IACDsC,UAAUA,CAAA,EAAG;MACX,OAAOpE,cAAc,CACnB,IAAI,CAACS,QAAQ,EACb;QACE4D,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACT,CAAC,EACD;QACED,KAAK,EAAE,UAAU;QACjBC,KAAK,EAAE;MACT,CACF;IACF;EACF,CAAC;EACDC,aAAaA,CAAA,EAAG;IACdtE,QAAQ,CAACuE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAChC,KAAK;EACzC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}