{"ast":null,"code":"import { defineComponent, shallowRef, watch, nextTick, computed } from \"vue\";\nimport { V as VaIcon } from \"../va-icon/index-0ebbc0f2.mjs\";\nimport { u as useColors } from \"../../composables/useColors-f23d24ff.mjs\";\nimport { u as useTranslation } from \"../../composables/useTranslation-acf7d88d.mjs\";\nimport { u as useBem } from \"../../composables/useBem-10a5bc6e.mjs\";\nconst _sfc_main = defineComponent({\n  name: \"VaStepperStepButton\",\n  components: {\n    VaIcon\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      required: true\n    },\n    step: {\n      type: Object,\n      required: true\n    },\n    color: {\n      type: String,\n      required: true\n    },\n    stepIndex: {\n      type: Number,\n      required: true\n    },\n    navigationDisabled: {\n      type: Boolean,\n      required: true\n    },\n    nextDisabled: {\n      type: Boolean,\n      required: true\n    },\n    focus: {\n      type: Object,\n      required: true\n    },\n    stepControls: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: [\"update:modelValue\"],\n  setup(props) {\n    const stepElement = shallowRef();\n    const {\n      getColor\n    } = useColors();\n    const stepperColor = getColor(props.color);\n    const isNextStepDisabled = index => props.nextDisabled && index > props.modelValue;\n    const {\n      t\n    } = useTranslation();\n    const computedClass = useBem(\"va-stepper__step-button\", () => ({\n      active: props.modelValue >= props.stepIndex,\n      disabled: props.step.disabled || isNextStepDisabled(props.stepIndex),\n      \"navigation-disabled\": props.navigationDisabled\n    }));\n    watch(() => props.focus, () => {\n      if (props.focus.trigger) {\n        nextTick(() => {\n          var _a;\n          return (_a = stepElement.value) == null ? void 0 : _a.focus();\n        });\n      }\n    }, {\n      deep: true\n    });\n    return {\n      stepElement,\n      isNextStepDisabled,\n      stepperColor,\n      getColor,\n      computedClass,\n      ariaAttributesComputed: computed(() => ({\n        tabindex: props.focus.stepIndex === props.stepIndex && !props.navigationDisabled ? 0 : void 0,\n        \"aria-disabled\": props.step.disabled || isNextStepDisabled(props.stepIndex) ? true : void 0,\n        \"aria-current\": props.modelValue === props.stepIndex ? t(\"step\") : void 0\n      }))\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaStepperStepButton.css';","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","VaIcon","props","modelValue","type","Number","required","step","Object","color","String","stepIndex","navigationDisabled","Boolean","nextDisabled","focus","stepControls","emits","setup","stepElement","shallowRef","getColor","useColors","stepperColor","isNextStepDisabled","index","t","useTranslation","computedClass","useBem","active","disabled","watch","trigger","nextTick","_a","value","deep","ariaAttributesComputed","computed","tabindex"],"sources":["../../../../../src/components/va-stepper/VaStepperStepButton.vue"],"sourcesContent":["<template>\n  <li\n    ref=\"stepElement\"\n    class=\"va-stepper__step-button\"\n    :class=\"computedClass\"\n    @click=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    @keyup.enter=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    @keyup.space=\"!$props.navigationDisabled && $props.stepControls.setStep($props.stepIndex)\"\n    v-bind=\"ariaAttributesComputed\"\n   :style=\"`--va-0-stepper-color: ${String(stepperColor)}`\">\n    <div class=\"va-stepper__step-button__icon\">\n      <va-icon\n        v-if=\"step.icon\"\n        :name=\"step.icon\"\n        size=\"1.3rem\"\n      />\n      <template v-else>\n        {{ $props.stepIndex + 1 }}\n      </template>\n    </div>\n    {{ step.label }}\n  </li>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, nextTick, PropType, shallowRef, watch } from 'vue'\nimport { VaIcon } from '../va-icon'\nimport { useBem, useColors, useTranslation } from '../../composables'\nimport type { Step, StepControls } from './types'\n\nexport default defineComponent({\n  name: 'VaStepperStepButton',\n  components: { VaIcon },\n  props: {\n    modelValue: { type: Number, required: true },\n    step: {\n      type: Object as PropType<Step>,\n      required: true,\n    },\n    color: { type: String, required: true },\n    stepIndex: { type: Number, required: true },\n    navigationDisabled: { type: Boolean, required: true },\n    nextDisabled: { type: Boolean, required: true },\n    focus: { type: Object, required: true },\n    stepControls: { type: Object as PropType<StepControls>, required: true },\n  },\n  emits: ['update:modelValue'],\n  setup (props) {\n    const stepElement = shallowRef<HTMLElement>()\n    const { getColor } = useColors()\n    const stepperColor = getColor(props.color)\n\n    const isNextStepDisabled = (index: number) => props.nextDisabled && index > props.modelValue\n\n    const { t } = useTranslation()\n\n    const computedClass = useBem('va-stepper__step-button', () => ({\n      active: props.modelValue >= props.stepIndex,\n      disabled: props.step.disabled || isNextStepDisabled(props.stepIndex),\n      'navigation-disabled': props.navigationDisabled,\n    }))\n\n    watch(() => props.focus, () => {\n      if (props.focus.trigger) {\n        nextTick(() => stepElement.value?.focus())\n      }\n    }, { deep: true })\n\n    return {\n      stepElement,\n      isNextStepDisabled,\n      stepperColor,\n      getColor,\n      computedClass,\n\n      ariaAttributesComputed: computed(() => ({\n        tabindex: props.focus.stepIndex === props.stepIndex && !props.navigationDisabled ? 0 : undefined,\n        'aria-disabled': props.step.disabled || isNextStepDisabled(props.stepIndex) ? true : undefined,\n        'aria-current': props.modelValue === props.stepIndex ? t('step') as 'step' : undefined,\n      })),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-stepper {\n  &__step-button {\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: var(--va-stepper-step-button-gap);\n    flex-shrink: 0;\n    padding: var(--va-stepper-step-button-padding);\n\n    @include keyboard-focus-outline($radius: var(--va-stepper-step-border-radius));\n\n    &::after {\n      content: \"\";\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: var(--va-0-stepper-color);\n      transition: opacity 0.3s;\n      opacity: 0;\n      border-radius: var(--va-stepper-step-border-radius);\n    }\n\n    &__icon {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: var(--va-stepper-step-button-icon-size);\n      width: var(--va-stepper-step-button-icon-size);\n      font-size: var(--va-stepper-step-button-number-size);\n      color: white;\n      background: var(--va-stepper-step-button-inactive-color);\n      border-radius: var(--va-stepper-step-button-icon-border-radius);\n    }\n\n    &--active {\n      color: var(--va-0-stepper-color);\n\n      .va-stepper__step-button__icon {\n        background: var(--va-0-stepper-color);\n      }\n    }\n\n    &--disabled {\n      opacity: var(--va-stepper-step-button-disabled-opacity);\n      pointer-events: none;\n    }\n\n    &:hover::after {\n      opacity: var(--va-stepper-step-button-hover-highlight-opacity);\n    }\n\n    &--navigation-disabled::after {\n      display: none;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;AA6BA,MAAAA,SAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EACNC,UAAA,EAAY;IAAEC;EAAO;EACrBC,KAAA,EAAO;IACLC,UAAA,EAAY;MAAEC,IAAA,EAAMC,MAAA;MAAQC,QAAA,EAAU;IAAK;IAC3CC,IAAA,EAAM;MACJH,IAAA,EAAMI,MAAA;MACNF,QAAA,EAAU;IACZ;IACAG,KAAA,EAAO;MAAEL,IAAA,EAAMM,MAAA;MAAQJ,QAAA,EAAU;IAAK;IACtCK,SAAA,EAAW;MAAEP,IAAA,EAAMC,MAAA;MAAQC,QAAA,EAAU;IAAK;IAC1CM,kBAAA,EAAoB;MAAER,IAAA,EAAMS,OAAA;MAASP,QAAA,EAAU;IAAK;IACpDQ,YAAA,EAAc;MAAEV,IAAA,EAAMS,OAAA;MAASP,QAAA,EAAU;IAAK;IAC9CS,KAAA,EAAO;MAAEX,IAAA,EAAMI,MAAA;MAAQF,QAAA,EAAU;IAAK;IACtCU,YAAA,EAAc;MAAEZ,IAAA,EAAMI,MAAA;MAAkCF,QAAA,EAAU;IAAK;EACzE;EACAW,KAAA,EAAO,CAAC,mBAAmB;EAC3BC,MAAOhB,KAAA,EAAO;IACZ,MAAMiB,WAAA,GAAcC,UAAA;IACd;MAAEC;IAAA,IAAaC,SAAA;IACf,MAAAC,YAAA,GAAeF,QAAA,CAASnB,KAAA,CAAMO,KAAK;IAEzC,MAAMe,kBAAA,GAAsBC,KAAA,IAAkBvB,KAAA,CAAMY,YAAA,IAAgBW,KAAA,GAAQvB,KAAA,CAAMC,UAAA;IAE5E;MAAEuB;IAAA,IAAMC,cAAA;IAER,MAAAC,aAAA,GAAgBC,MAAA,CAAO,2BAA2B,OAAO;MAC7DC,MAAA,EAAQ5B,KAAA,CAAMC,UAAA,IAAcD,KAAA,CAAMS,SAAA;MAClCoB,QAAA,EAAU7B,KAAA,CAAMK,IAAA,CAAKwB,QAAA,IAAYP,kBAAA,CAAmBtB,KAAA,CAAMS,SAAS;MACnE,uBAAuBT,KAAA,CAAMU;IAC7B;IAEIoB,KAAA,OAAM9B,KAAA,CAAMa,KAAA,EAAO,MAAM;MACzB,IAAAb,KAAA,CAAMa,KAAA,CAAMkB,OAAA,EAAS;QACvBC,QAAA,CAAS;;UAAM,QAAAC,EAAA,GAAAhB,WAAA,CAAYiB,KAAA,KAAZ,gBAAAD,EAAA,CAAmBpB,KAAA;QAAA,CAAO;MAC3C;IAAA,GACC;MAAEsB,IAAA,EAAM;IAAA,CAAM;IAEV;MACLlB,WAAA;MACAK,kBAAA;MACAD,YAAA;MACAF,QAAA;MACAO,aAAA;MAEAU,sBAAA,EAAwBC,QAAA,CAAS,OAAO;QACtCC,QAAA,EAAUtC,KAAA,CAAMa,KAAA,CAAMJ,SAAA,KAAcT,KAAA,CAAMS,SAAA,IAAa,CAACT,KAAA,CAAMU,kBAAA,GAAqB,IAAI;QACvF,iBAAiBV,KAAA,CAAMK,IAAA,CAAKwB,QAAA,IAAYP,kBAAA,CAAmBtB,KAAA,CAAMS,SAAS,IAAI,OAAO;QACrF,gBAAgBT,KAAA,CAAMC,UAAA,KAAeD,KAAA,CAAMS,SAAA,GAAYe,CAAA,CAAE,MAAM,IAAc;MAAA,EAC7E;IAAA;EAEN;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}