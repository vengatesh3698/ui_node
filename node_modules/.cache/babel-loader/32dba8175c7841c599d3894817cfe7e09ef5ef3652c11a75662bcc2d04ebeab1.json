{"ast":null,"code":"import { c as createModalInstance } from \"../modal-5ea0ec37.mjs\";\nimport { d as defineVuesticPlugin } from \"../../../services/vue-plugin/utils/define-vuestic-plugin-8c565dfe.mjs\";\nimport { d as defineGlobalProperty } from \"../../../services/vue-plugin/utils/global-properties-9524ee5b.mjs\";\nconst createVaModalPlugin = app => ({\n  init(options) {\n    return createModalInstance(options, app == null ? void 0 : app._context);\n  },\n  confirm(options) {\n    if (typeof options === \"string\") {\n      return new Promise(resolve => {\n        createModalInstance({\n          message: options,\n          onOk() {\n            resolve(true);\n          },\n          onCancel() {\n            resolve(false);\n          }\n        }, app == null ? void 0 : app._context);\n      });\n    }\n    return new Promise(resolve => {\n      createModalInstance({\n        ...options,\n        onOk() {\n          var _a;\n          (_a = options == null ? void 0 : options.onOk) == null ? void 0 : _a.call(options);\n          resolve(true);\n        },\n        onCancel() {\n          var _a;\n          (_a = options == null ? void 0 : options.onCancel) == null ? void 0 : _a.call(options);\n          resolve(false);\n        }\n      }, app == null ? void 0 : app._context);\n    });\n  }\n});\nconst VaModalPlugin = defineVuesticPlugin(() => ({\n  install(app) {\n    defineGlobalProperty(app, \"$vaModal\", createVaModalPlugin(app));\n  }\n}));\nexport { VaModalPlugin as V };","map":{"version":3,"names":["createVaModalPlugin","app","init","options","createModalInstance","_context","confirm","Promise","resolve","message","onOk","onCancel","_a","call","VaModalPlugin","defineVuesticPlugin","install","defineGlobalProperty"],"sources":["../../../../../../src/components/va-modal/plugin/index.ts"],"sourcesContent":["import { App } from 'vue'\nimport { defineVuesticPlugin, defineGlobalProperty } from '../../../services/vue-plugin/utils'\nimport { createModalInstance } from '../modal'\nimport { ModalOptions } from '../types'\n\nconst createVaModalPlugin = (app: App) => ({\n  init (options: string | ModalOptions) {\n    return createModalInstance(options, app?._context)\n  },\n  confirm (options: string | ModalOptions) {\n    if (typeof options === 'string') {\n      return new Promise<boolean>((resolve) => {\n        createModalInstance({\n          message: options as string,\n          onOk () {\n            resolve(true)\n          },\n          onCancel () {\n            resolve(false)\n          },\n        }, app?._context)\n      })\n    }\n\n    return new Promise<boolean>((resolve) => {\n      createModalInstance({\n        ...options,\n        onOk () {\n          options?.onOk?.()\n          resolve(true)\n        },\n        onCancel () {\n          options?.onCancel?.()\n          resolve(false)\n        },\n      }, app?._context)\n    })\n  },\n})\n\nexport const VaModalPlugin = defineVuesticPlugin(() => ({\n  install (app) {\n    defineGlobalProperty(app, '$vaModal', createVaModalPlugin(app))\n  },\n}))\n\ndeclare module 'vue' {\n  export interface ComponentCustomProperties {\n    $vaModal: ReturnType<typeof createVaModalPlugin>\n  }\n}\n"],"mappings":";;;AAKA,MAAMA,mBAAA,GAAuBC,GAAA,KAAc;EACzCC,KAAMC,OAAA,EAAgC;IAC7B,OAAAC,mBAAA,CAAoBD,OAAA,EAASF,GAAA,oBAAAA,GAAA,CAAKI,QAAQ;EACnD;EACAC,QAASH,OAAA,EAAgC;IACnC,WAAOA,OAAA,KAAY,UAAU;MACxB,WAAII,OAAA,CAAkBC,OAAA,IAAY;QACnBJ,mBAAA;UAClBK,OAAA,EAASN,OAAA;UACTO,KAAA,EAAQ;YACNF,OAAA,CAAQ,IAAI;UACd;UACAG,SAAA,EAAY;YACVH,OAAA,CAAQ,KAAK;UACf;QAAA,GACCP,GAAA,oBAAAA,GAAA,CAAKI,QAAQ;MAAA,CACjB;IACH;IAEO,WAAIE,OAAA,CAAkBC,OAAA,IAAY;MACnBJ,mBAAA;QAClB,GAAGD,OAAA;QACHO,KAAA,EAAQ;;UACN,CAAAE,EAAA,GAAAT,OAAA,oBAAAA,OAAA,CAASO,IAAA,KAAT,gBAAAE,EAAA,CAAAC,IAAA,CAAAV,OAAA;UACAK,OAAA,CAAQ,IAAI;QACd;QACAG,SAAA,EAAY;;UACV,CAAAC,EAAA,GAAAT,OAAA,oBAAAA,OAAA,CAASQ,QAAA,KAAT,gBAAAC,EAAA,CAAAC,IAAA,CAAAV,OAAA;UACAK,OAAA,CAAQ,KAAK;QACf;MAAA,GACCP,GAAA,oBAAAA,GAAA,CAAKI,QAAQ;IAAA,CACjB;EACH;AACF;AAEa,MAAAS,aAAA,GAAgBC,mBAAA,CAAoB,OAAO;EACtDC,QAASf,GAAA,EAAK;IACZgB,oBAAA,CAAqBhB,GAAA,EAAK,YAAYD,mBAAA,CAAoBC,GAAG,CAAC;EAChE;AACF,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}