{"ast":null,"code":"import { _ as _sfc_main } from \"./VaFileUploadList.vue_vue_type_script_lang-6f382300.mjs\";\nimport { resolveComponent, openBlock, createBlock, normalizeClass, withCtx, createElementBlock, Fragment, renderList, mergeProps, createCommentVNode } from \"vue\";\nimport { _ as _export_sfc } from \"../../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaFileUploadList_vue_vue_type_style_index_0_lang = \"\";\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_file_upload_list_item = resolveComponent(\"va-file-upload-list-item\");\n  const _component_va_file_upload_gallery_item = resolveComponent(\"va-file-upload-gallery-item\");\n  const _component_va_file_upload_single_item = resolveComponent(\"va-file-upload-single-item\");\n  const _component_va_list = resolveComponent(\"va-list\");\n  return openBlock(), createBlock(_component_va_list, {\n    class: normalizeClass([\"va-file-upload-list\", `va-file-upload-list--${_ctx.type}`]),\n    role: _ctx.type !== \"single\" ? \"list\" : void 0\n  }, {\n    default: withCtx(() => [_ctx.type === \"list\" ? (openBlock(true), createElementBlock(Fragment, {\n      key: 0\n    }, renderList(_ctx.filesList, (file, index) => {\n      return openBlock(), createBlock(_component_va_file_upload_list_item, mergeProps({\n        key: file.name\n      }, _ctx.itemProps, {\n        file,\n        role: \"listitem\",\n        onRemove: $event => _ctx.$emit(\"remove\", index)\n      }), null, 16, [\"file\", \"onRemove\"]);\n    }), 128)) : createCommentVNode(\"\", true), _ctx.type === \"gallery\" ? (openBlock(true), createElementBlock(Fragment, {\n      key: 1\n    }, renderList(_ctx.filesList, (file, index) => {\n      return openBlock(), createBlock(_component_va_file_upload_gallery_item, mergeProps(_ctx.galleryItemProps, {\n        key: file.name,\n        file,\n        role: \"listitem\",\n        onRemove: $event => _ctx.$emit(\"remove\", index)\n      }), null, 16, [\"file\", \"onRemove\"]);\n    }), 128)) : createCommentVNode(\"\", true), _ctx.type === \"single\" && _ctx.filesList.length ? (openBlock(), createBlock(_component_va_file_upload_single_item, mergeProps({\n      key: 2\n    }, _ctx.singleItemProps, {\n      file: _ctx.filesList[_ctx.filesList.length - 1],\n      onRemove: _cache[0] || (_cache[0] = $event => _ctx.$emit(\"removeSingle\"))\n    }), null, 16, [\"file\"])) : createCommentVNode(\"\", true)]),\n    _: 1\n  }, 8, [\"role\", \"class\"]);\n}\nconst _VaFileUploadList = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaFileUploadList as _ };","map":{"version":3,"names":["resolveComponent","openBlock","createBlock","_component_va_list","class","normalizeClass","_ctx","type","role","default","withCtx","createElementBlock","Fragment","key","renderList","filesList","file","index","_component_va_file_upload_list_item","mergeProps","name","itemProps","onRemove","$event","$emit","createCommentVNode","_component_va_file_upload_gallery_item","galleryItemProps","length","_component_va_file_upload_single_item","singleItemProps","_cache"],"sources":["../../../../../../src/components/va-file-upload/VaFileUploadList/VaFileUploadList.vue"],"sourcesContent":["<template>\n  <va-list\n    class=\"va-file-upload-list\"\n    :role=\"type !== 'single' ? 'list' : undefined\"\n    :class=\"`va-file-upload-list--${type}`\"\n  >\n    <template v-if=\"type === 'list'\">\n      <va-file-upload-list-item\n        v-for=\"(file, index) in filesList\"\n        :key=\"file.name\"\n        v-bind=\"itemProps\"\n        :file=\"file\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'gallery'\">\n      <va-file-upload-gallery-item\n        v-for=\"(file, index) in filesList\"\n        v-bind=\"galleryItemProps\"\n        :key=\"file.name\"\n        :file=\"file\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'single' && filesList.length\">\n      <va-file-upload-single-item\n        v-bind=\"singleItemProps\"\n        :file=\"filesList[filesList.length - 1]\"\n        @remove=\"$emit('removeSingle')\"\n      />\n    </template>\n  </va-list>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\n\nimport { VaList } from '../../index'\nimport { VaFileUploadListItem } from '../VaFileUploadListItem'\nimport { VaFileUploadGalleryItem } from '../VaFileUploadGalleryItem'\nimport { VaFileUploadSingleItem } from '../VaFileUploadSingleItem'\n\nimport type { VaFile, ConvertedFile } from '../types'\n\nimport { extractComponentProps, filterComponentProps } from '../../../utils/component-options'\n\nconst VaFileUploadGalleryItemProps = extractComponentProps(VaFileUploadGalleryItem)\nconst VaFileUploadListItemProps = extractComponentProps(VaFileUploadListItem)\nconst VaFileUploadSingleItemProps = extractComponentProps(VaFileUploadSingleItem)\n\nexport default defineComponent({\n  name: 'VaFileUploadList',\n  components: {\n    VaList,\n    VaFileUploadListItem,\n    VaFileUploadGalleryItem,\n    VaFileUploadSingleItem,\n  },\n  emits: ['remove', 'removeSingle'],\n  props: {\n    type: { type: String, default: '' },\n    files: { type: Array as PropType<VaFile[]>, default: null },\n    ...VaFileUploadGalleryItemProps,\n    ...VaFileUploadListItemProps,\n    ...VaFileUploadSingleItemProps,\n  },\n  setup (props) {\n    const filesList = computed(() => props.files.map(convertFile))\n\n    const convertFile = (file: VaFile): ConvertedFile => ({\n      name: file.name || file.url || '',\n      size: formatSize(file.size),\n      date: formatDate(new Date()),\n      image: file,\n    })\n\n    const formatSize = (bytes?: number) => {\n      if (bytes === 0) { return '0 Bytes' }\n      if (!bytes) { return '' }\n\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    const formatDate = (date = new Date()) => {\n      return date.toLocaleDateString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n      })\n    }\n\n    return {\n      galleryItemProps: filterComponentProps(VaFileUploadGalleryItemProps),\n      itemProps: filterComponentProps(VaFileUploadListItemProps),\n      singleItemProps: filterComponentProps(VaFileUploadSingleItemProps),\n      filesList,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n.va-file-upload-list {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0 1.5rem;\n\n  &--gallery {\n    padding-bottom: 0.5rem;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;6BACEA,gBAAA,CAgCU;EA9BD,OAAAC,SAAA,IAAsCC,WAAA,CAAAC,kBAAA;IAAAC,KAAA,EAAAC,cAAA,iDAAAC,IAAA,CAAAC,IAAA;IAYlCC,IAAA,EAAAF,IAAA,CAAAC,IAAA;EAAA;IAAAE,OAAA,EAAAC,OAAA,QANDJ,IAAA,CAAAC,IAAA,eAAAN,SAAA,KAAK,GAAIU,kBAAA,CAAAC,QAAA;MAAAC,GAAA;IAAA,GAAAC,UAAA,CAAAR,IAAA,CAAAS,SAAA,GAAAC,IAAA,EAAAC,KAAA;aACPhB,SAAA,CAAS,GAAAC,WAAA,CAAAgB,mCAAA,EAAAC,UAAA;QAChBN,GAAA,EAAIG,IAAA,CAAMI;MAAA,GACXd,IAAA,CAAKe,SAAA,EAAU;QACdL,IAAA;QAAAR,IAAA;QAAAc,QAAA,EAAAC,MAAA,IAAAjB,IAAA,CAAAkB,KAAA,WAAAP,KAAA;;IAGW,OAAI,KAClBQ,kBAAA,YAAAnB,IAAA,CAAAC,IAAA,kBAAAN,SAAA,CAGQ,IAAK,GAAIU,kBAAA,CAAAC,QAAA;MAAAC,GAAA;IAAA,GAAAC,UAAA,CAAAR,IAAA,CAAAS,SAAA,GAAAC,IAAA,EAAAC,KAAA;aACRhB,SAAA,CAAI,GAAAC,WAAA,CAAAwB,sCAAA,EAAAP,UAAA,CAAAb,IAAA,CAAAqB,gBAAA;QACXd,GAAA,EAAIG,IAAA,CAACI,IAAA;QACJJ,IAAA;QAAAR,IAAA;QAAAc,QAAA,EAAAC,MAAA,IAAAjB,IAAA,CAAAkB,KAAA,WAAAP,KAAA;;IAGW,OAAI,KAAAQ,kBAAA,CAClB,IAIE,OAAAnB,IAAA,CAFCC,IAAA,KAAM,YAAUD,IAAA,CAAUS,SAAA,CAAAa,MAAA,IAAA3B,SAAA,CACb,GAAAC,WAAA,CAAA2B,qCAAA,EAAAV,UAAA;MAAAN,GAAA;IAAA,GAAAP,IAAA,CAAAwB,eAAA;MAAAd,IAAA,EAAAV,IAAA,CAAAS,SAAA,CAAAT,IAAA,CAAAS,SAAA,CAAAa,MAAA;MAAAN,QAAA,EAAAS,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAAAjB,IAAA,CAAAkB,KAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}