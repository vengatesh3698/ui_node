{"ast":null,"code":"import { defineComponent, computed } from \"vue\";\nimport { o as omit } from \"../../../vendor-fff696df.mjs\";\nimport { V as VaButton } from \"../va-button/index-b0a9ef70.mjs\";\nimport { V as VaButtonGroup } from \"../va-button-group/index-7f4343c5.mjs\";\nimport { V as VaDropdown } from \"../va-dropdown/index-2edb30e9.mjs\";\nimport { V as VaDropdownContent } from \"../va-dropdown/components/VaDropdownContent/index-d67c0ae9.mjs\";\nimport { u as useEmitProxy } from \"../../composables/useEmitProxy-a435894a.mjs\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options-6b96d215.mjs\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { a as useStatefulProps, b as useStateful } from \"../../composables/useStateful-50e4a6b9.mjs\";\nimport { a as usePlacementAliasesProps } from \"../../composables/usePlacementAliases-c092b4d3.mjs\";\nimport { u as useBem } from \"../../composables/useBem-10a5bc6e.mjs\";\nimport { u as useTranslation } from \"../../composables/useTranslation-acf7d88d.mjs\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props-9727421a.mjs\";\nconst {\n  createEmits,\n  createVOnListeners: createListeners\n} = useEmitProxy([\"click\"]);\nconst {\n  createEmits: createMainButtonEmits,\n  createVOnListeners: createMainButtonListeners\n} = useEmitProxy([{\n  listen: \"click\",\n  emit: \"main-button-click\"\n}]);\nconst VaButtonProps = omit(extractComponentProps(VaButton), [\"iconRight\", \"block\"]);\nconst VaDropdownProps = extractComponentProps(VaDropdown);\nconst _sfc_main = defineComponent({\n  name: \"VaButtonDropdown\",\n  components: {\n    VaButton,\n    VaDropdown,\n    VaButtonGroup,\n    VaDropdownContent\n  },\n  emits: [\"update:modelValue\", ...createEmits(), ...createMainButtonEmits()],\n  props: {\n    ...useComponentPresetProp,\n    ...VaButtonProps,\n    ...VaDropdownProps,\n    ...useStatefulProps,\n    ...usePlacementAliasesProps,\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    stateful: {\n      type: Boolean,\n      default: true\n    },\n    icon: {\n      type: String,\n      default: \"va-arrow-down\"\n    },\n    openedIcon: {\n      type: String,\n      default: \"va-arrow-up\"\n    },\n    hideIcon: {\n      type: Boolean,\n      default: false\n    },\n    leftIcon: {\n      type: Boolean,\n      default: false\n    },\n    iconColor: {\n      type: String,\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    disableButton: {\n      type: Boolean,\n      default: false\n    },\n    disableDropdown: {\n      type: Boolean,\n      default: false\n    },\n    offset: {\n      type: [Number, Array],\n      default: 2\n    },\n    keepAnchorWidth: {\n      type: Boolean,\n      default: false\n    },\n    closeOnContentClick: {\n      type: Boolean,\n      default: true\n    },\n    split: {\n      type: Boolean\n    },\n    splitTo: {\n      type: String,\n      default: \"\"\n    },\n    splitHref: {\n      type: String,\n      default: \"\"\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    label: {\n      type: String\n    },\n    ariaLabel: {\n      type: String,\n      default: \"$t:toggleDropdown\"\n    }\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      valueComputed\n    } = useStateful(props, emit);\n    const computedIcon = computed(() => valueComputed.value ? props.openedIcon : props.icon);\n    const computedClass = useBem(\"va-button-dropdown\", () => ({\n      split: props.split\n    }));\n    const computedButtonIcons = computed(() => {\n      if (props.hideIcon) {\n        return {};\n      }\n      const propName = (props.label || slots.label) && !props.leftIcon ? \"icon-right\" : \"icon\";\n      return {\n        [propName]: computedIcon.value\n      };\n    });\n    const buttonPropsFiltered = computed(() => {\n      let ignoredProps = [\"to\", \"href\", \"loading\", \"icon\"];\n      const presetProps = [\"plain\", \"textOpacity\", \"backgroundOpacity\", \"hoverOpacity\", \"hoverBehavior\", \"hoverOpacity\", \"pressedOpacity\", \"pressedBehavior\", \"pressedOpacity\"];\n      if (props.preset) {\n        ignoredProps = [...ignoredProps, ...presetProps];\n      }\n      const filteredProps = omit(VaButtonProps, ignoredProps);\n      return Object.keys(filteredProps);\n    });\n    const buttonPropsComputed = computed(() => Object.entries(props).filter(([key, _]) => buttonPropsFiltered.value.includes(key)).reduce((acc, [key, value]) => {\n      Object.assign(acc, {\n        [key]: value\n      });\n      return acc;\n    }, {}));\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading\n    }));\n    const hideDropdown = () => {\n      valueComputed.value = false;\n    };\n    return {\n      ...useTranslation(),\n      vaDropdownProps: filterComponentProps(VaDropdownProps),\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      computedButtonIcons,\n      buttonPropsComputed,\n      computedMainButtonProps,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit)\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaButtonDropdown.css';","map":{"version":3,"names":["createEmits","createVOnListeners","createListeners","useEmitProxy","createMainButtonEmits","createMainButtonListeners","listen","emit","VaButtonProps","omit","extractComponentProps","VaButton","VaDropdownProps","VaDropdown","_sfc_main","defineComponent","name","components","VaButtonGroup","VaDropdownContent","emits","props","useComponentPresetProp","useStatefulProps","usePlacementAliasesProps","modelValue","type","Boolean","default","stateful","icon","String","openedIcon","hideIcon","leftIcon","iconColor","disabled","disableButton","disableDropdown","offset","Number","Array","keepAnchorWidth","closeOnContentClick","split","splitTo","splitHref","loading","label","ariaLabel","setup","slots","valueComputed","useStateful","computedIcon","computed","value","computedClass","useBem","computedButtonIcons","propName","buttonPropsFiltered","ignoredProps","presetProps","preset","filteredProps","Object","keys","buttonPropsComputed","entries","filter","key","_","includes","reduce","acc","assign","computedMainButtonProps","to","href","hideDropdown","useTranslation","vaDropdownProps","filterComponentProps","listeners","mainButtonListeners"],"sources":["../../../../../src/components/va-button-dropdown/VaButtonDropdown.vue"],"sourcesContent":["<template>\n  <div class=\"va-button-dropdown\" :class=\"computedClass\">\n    <va-dropdown\n      v-if=\"!$props.split\"\n      v-bind=\"vaDropdownProps\"\n      v-model=\"valueComputed\"\n      :disabled=\"$props.disabled || $props.disableDropdown\"\n    >\n      <template #anchor>\n        <va-button\n          :aria-label=\"tp($props.ariaLabel)\"\n          v-bind=\"{ ...computedButtonIcons, ...buttonPropsComputed }\"\n          v-on=\"listeners\"\n          @keydown.esc.prevent=\"hideDropdown\"\n        >\n          <slot name=\"label\">\n            {{ label }}\n          </slot>\n        </va-button>\n      </template>\n\n      <slot name=\"content\">\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </slot>\n    </va-dropdown>\n\n    <va-button-group\n      v-else\n      v-bind=\"buttonPropsComputed\"\n    >\n      <va-button\n        v-if=\"!$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n\n      <va-dropdown\n        v-model=\"valueComputed\"\n        v-bind=\"vaDropdownProps\"\n        :disabled=\"$props.disabled || $props.disableDropdown\"\n        :teleport=\"$el\"\n      >\n        <template #anchor>\n          <va-button\n            :aria-label=\"$props.ariaLabel || t('toggleDropdown')\"\n            :disabled=\"$props.disabled || $props.disableDropdown\"\n            :icon=\"computedIcon\"\n            :icon-color=\"$props.iconColor\"\n            v-on=\"listeners\"\n            @keydown.esc.prevent=\"hideDropdown\"\n          />\n        </template>\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </va-dropdown>\n\n      <va-button\n        v-if=\"$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n    </va-button-group>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, ref } from 'vue'\nimport omit from 'lodash/omit.js'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nimport {\n  useBem,\n  useComponentPresetProp,\n  useStateful, useStatefulProps,\n  useEmitProxy,\n  usePlacementAliasesProps,\n  useTranslation,\n} from '../../composables'\n\nimport { VaButton } from '../va-button'\nimport { VaButtonGroup } from '../va-button-group'\nimport { VaDropdown, VaDropdownContent } from '../va-dropdown'\n\nconst { createEmits, createVOnListeners: createListeners } = useEmitProxy(['click'])\nconst { createEmits: createMainButtonEmits, createVOnListeners: createMainButtonListeners } = useEmitProxy(\n  [{ listen: 'click', emit: 'main-button-click' }],\n)\n\nconst VaButtonProps = omit(extractComponentProps(VaButton), ['iconRight', 'block'])\nconst VaDropdownProps = extractComponentProps(VaDropdown)\n\nexport default defineComponent({\n  name: 'VaButtonDropdown',\n  components: {\n    VaButton,\n    VaDropdown,\n    VaButtonGroup,\n    VaDropdownContent,\n  },\n  emits: ['update:modelValue', ...createEmits(), ...createMainButtonEmits()],\n  props: {\n    ...useComponentPresetProp,\n    ...VaButtonProps,\n    ...VaDropdownProps,\n    ...useStatefulProps,\n    ...usePlacementAliasesProps,\n    modelValue: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: true },\n\n    icon: { type: String, default: 'va-arrow-down' },\n    openedIcon: { type: String, default: 'va-arrow-up' },\n    hideIcon: { type: Boolean, default: false },\n    leftIcon: { type: Boolean, default: false },\n    iconColor: { type: String, default: '' },\n\n    disabled: { type: Boolean, default: false },\n    disableButton: { type: Boolean, default: false },\n    disableDropdown: { type: Boolean, default: false },\n\n    offset: { type: [Number, Array] as PropType<number | [number, number]>, default: 2 },\n    keepAnchorWidth: { type: Boolean, default: false },\n    closeOnContentClick: { type: Boolean, default: true },\n\n    split: { type: Boolean },\n    splitTo: { type: String, default: '' },\n    splitHref: { type: String, default: '' },\n\n    loading: { type: Boolean, default: false },\n    label: { type: String },\n\n    ariaLabel: { type: String, default: '$t:toggleDropdown' },\n  },\n\n  setup (props, { emit, slots }) {\n    const { valueComputed } = useStateful(props, emit)\n\n    const computedIcon = computed(() => valueComputed.value ? props.openedIcon : props.icon)\n\n    const computedClass = useBem('va-button-dropdown', () => ({\n      split: props.split,\n    }))\n\n    const computedButtonIcons = computed(() => {\n      if (props.hideIcon) { return {} }\n\n      const propName = (props.label || slots.label) && !props.leftIcon ? 'icon-right' : 'icon'\n      return { [propName]: computedIcon.value }\n    })\n\n    const buttonPropsFiltered = computed(() => {\n      let ignoredProps = ['to', 'href', 'loading', 'icon']\n      const presetProps = [\n        'plain',\n        'textOpacity', 'backgroundOpacity',\n        'hoverOpacity', 'hoverBehavior', 'hoverOpacity',\n        'pressedOpacity', 'pressedBehavior', 'pressedOpacity',\n      ]\n\n      if (props.preset) {\n        ignoredProps = [...ignoredProps, ...presetProps]\n      }\n\n      const filteredProps = omit(VaButtonProps, ignoredProps)\n      return Object.keys(filteredProps)\n    })\n    const buttonPropsComputed = computed(\n      () => Object.entries(props)\n        .filter(([key, _]) => buttonPropsFiltered.value.includes(key))\n        .reduce((acc, [key, value]) => {\n          Object.assign(acc, { [key]: value })\n          return acc\n        }, {}),\n    )\n\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading,\n    }))\n\n    const hideDropdown = () => { valueComputed.value = false }\n\n    return {\n      ...useTranslation(),\n      vaDropdownProps: filterComponentProps(VaDropdownProps),\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      computedButtonIcons,\n      buttonPropsComputed,\n      computedMainButtonProps,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n@import '../../styles/resources';\n\n.va-button-dropdown {\n  display: inline-block;\n  font-family: var(--va-font-family);\n  vertical-align: middle;\n\n  .va-button {\n    margin: var(--va-button-dropdown-button-margin);\n  }\n\n  &--split {\n    .va-button {\n      @include keyboard-focus-outline($offset: -2px);\n    }\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}