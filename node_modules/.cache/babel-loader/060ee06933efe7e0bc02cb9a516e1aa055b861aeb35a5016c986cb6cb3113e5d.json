{"ast":null,"code":"import { _ as _sfc_main } from \"./VaViewer.vue_vue_type_script_lang-f7cbaea5.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, Fragment, createElementVNode, mergeProps, renderSlot, normalizeProps, guardReactiveProps, createCommentVNode, createBlock, Teleport, createVNode } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaViewer_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = {\n  class: \"va-viewer-content\"\n};\nconst _hoisted_2 = {\n  ref: \"content\",\n  class: \"va-viewer-content__main-area\"\n};\nconst _hoisted_3 = {\n  ref: \"controls\",\n  class: \"va-viewer-content__controls-panel\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_icon = resolveComponent(\"va-icon\");\n  return openBlock(), createElementBlock(Fragment, null, [createElementVNode(\"div\", mergeProps({\n    class: \"va-viewer\"\n  }, _ctx.$attrs, {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleAnchorClick && _ctx.handleAnchorClick(...args))\n  }), [renderSlot(_ctx.$slots, \"anchor\", normalizeProps(guardReactiveProps({\n    openViewer: _ctx.openViewer\n  }))), !_ctx.$slots.anchor ? renderSlot(_ctx.$slots, \"default\", {\n    key: 0\n  }) : createCommentVNode(\"\", true)], 16), _ctx.isOpened ? (openBlock(), createBlock(Teleport, {\n    key: 0,\n    to: _ctx.teleportTarget\n  }, [createElementVNode(\"div\", _hoisted_1, [createElementVNode(\"div\", _hoisted_2, [!_ctx.$slots.image ? renderSlot(_ctx.$slots, \"default\", {\n    key: 0\n  }) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"image\")], 512), createElementVNode(\"div\", _hoisted_3, [renderSlot(_ctx.$slots, \"controls\"), renderSlot(_ctx.$slots, \"close\", normalizeProps(guardReactiveProps({\n    close: _ctx.closeViewer\n  })), () => [createElementVNode(\"button\", {\n    class: \"va-viewer-content__close-button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.closeViewer && _ctx.closeViewer(...args))\n  }, [createVNode(_component_va_icon, {\n    name: \"close\",\n    color: \"backgroundPrimary\"\n  })])])], 512)])], 8, [\"to\"])) : createCommentVNode(\"\", true)], 64);\n}\nconst _VaViewer = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaViewer as _ };","map":{"version":3,"names":["_hoisted_1","class","_hoisted_2","ref","_hoisted_3","openBlock","createElementBlock","Fragment","createElementVNode","mergeProps","_ctx","$attrs","onClick","_cache","args","handleAnchorClick","renderSlot","$slots","normalizeProps","guardReactiveProps","openViewer","anchor","key","createCommentVNode","isOpened","createBlock","Teleport","to","teleportTarget","image","close","closeViewer","createVNode","_component_va_icon","name","color"],"sources":["../../../../../src/components/va-viewer/VaViewer.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-viewer\"\n    v-bind=\"$attrs\"\n    @click=\"handleAnchorClick\"\n  >\n    <slot\n      name=\"anchor\"\n      v-bind=\"{ openViewer }\"\n    />\n\n    <slot v-if=\"!$slots.anchor\" />\n  </div>\n\n  <teleport\n    v-if=\"isOpened\"\n    :to=\"teleportTarget\"\n  >\n    <div class=\"va-viewer-content\">\n      <div\n        ref=\"content\"\n        class=\"va-viewer-content__main-area\"\n      >\n        <slot v-if=\"!$slots.image\" />\n        <slot name=\"image\" />\n      </div>\n\n      <div\n        ref=\"controls\"\n        class=\"va-viewer-content__controls-panel\"\n      >\n        <slot name=\"controls\" />\n\n        <slot\n          name=\"close\"\n          v-bind=\"{ close: closeViewer }\"\n        >\n          <button\n            class=\"va-viewer-content__close-button\"\n            @click=\"closeViewer\"\n          >\n            <va-icon\n              name=\"close\"\n              color=\"backgroundPrimary\"\n            />\n          </button>\n        </slot>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from 'vue'\n\nimport { VaIcon } from '../va-icon'\n\nimport { useIsMounted, useDocument, useClickOutside } from '../../composables'\n\nexport default defineComponent({\n  name: 'VaViewer',\n\n  inheritAttrs: false,\n\n  components: { VaIcon },\n\n  setup (_, { slots }) {\n    const content = ref<HTMLElement>()\n    const controls = ref<HTMLElement>()\n\n    const isMounted = useIsMounted()\n    const isClosed = ref(true)\n    const isOpened = computed(() => isMounted.value && !isClosed.value)\n\n    const openViewer = () => (isClosed.value = false)\n    const closeViewer = () => (isClosed.value = true)\n    const handleAnchorClick = () => {\n      if (!slots.anchor) {\n        openViewer()\n      }\n    }\n\n    useClickOutside([content, controls], closeViewer)\n\n    const document = useDocument()\n    const teleportTarget = computed(() => document.value?.body)\n\n    return {\n      content,\n      controls,\n\n      teleportTarget,\n      isOpened,\n\n      openViewer,\n      closeViewer,\n      handleAnchorClick,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-viewer {\n  --va-image-position: relative;\n}\n\n.va-viewer-content {\n  position: fixed;\n  inset: 0;\n  z-index: var(--va-viewer-content-overlay-z-index);\n  display: flex;\n  justify-content: center;\n  background-color: var(--va-viewer-content-overlay-background-color);\n\n  &__main-area {\n    --va-image-content-position: relative;\n\n    display: flex;\n\n    & > * {\n      width: auto;\n      max-width: unset;\n    }\n  }\n\n  &__controls-panel {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: var(--va-viewer-content-controls-panel-z-index);\n    display: flex;\n    justify-content: var(--va-viewer-content-controls-panel-justify-content);\n    padding: var(--va-viewer-content-controls-panel-padding);\n    background-color: var(--va-viewer-content-controls-panel-background-color);\n  }\n}\n</style>\n"],"mappings":";;;;MAoBWA,UAAA,GAAU;EAAAC,KAAA;AAAA;MACbC,UAAA,GAAM;EAAAC,GAAA;EAAAF,KAAA;;MAQNG,UAAA,GAAM;EAAAD,GAAA;EAAAF,KAAA;;;;EAzBT,OAAAI,SAAA,CAAO,GAAAC,kBAAA,CAAAC,QAAA,SAAAC,kBAAA,QAAAC,UAAA;IAAAR,KAAA;EAAA,GAAAS,IAAA,CAAAC,MAAA;IAERC,OAAA,EAAAC,MAAA,CAGE,OAAAA,MAAA,UAAAC,IAAA,KAAAJ,IAAA,CAAAK,iBAAA,IAAAL,IAAA,CAAAK,iBAAA,CADU,GAAUD,IAAA;EAAA,CAGT,IAAAE,UAAA,CAAbN,IAAA,CAA8BO,MAAA,YAAAC,cAAA,CAAAC,kBAAA;IAAAC,UAAA,EAAAV,IAAA,CAAAU;EAAA,OAAAV,IAAA,CAAAO,MAAA,CAAAI,MAAA,GAAAL,UAAA,CAAAN,IAAA,CAAAO,MAAA;IAAAK,GAAA;EAAA,KAIxBC,kBAAA,CAAQ,iBAAAb,IAAA,CAAAc,QAAA,IAAAnB,SAAA,IACKoB,WAAA,CAAAC,QAAA;IAAAJ,GAAA;IAEnBK,EAAA,EAAAjB,IAAA,CAAAkB;EAAA,IAAApB,kBAAA,CAKwB,OAAKR,UAAA,GAAIQ,kBAAA,QAAAN,UAAA,IAAAQ,IAAA,CAAAO,MAAA,CAAAY,KAAA,GAC7Bb,UAAA,CAAqBN,IAAA,CAAAO,MAAA;IAAAK,GAAA;EAAA,KAAAC,kBAAA,YAGvBP,UAAA,CAAAN,IAAA,CAAAO,MAAA,WAIE,QAeOT,kBAAA,QAAAJ,UAAA,GAAAY,UAAA,CATLN,IAAA,CAQSO,MAAA,eAAAD,UAAA,CAPDN,IAAA,CAAiCO,MAAA,WAAAC,cAAA,CAAAC,kBAAA;IAAAW,KAAA,EAAApB,IAAA,CAAAqB;EAAA,YACjCvB,kBAAA;IAAAP,KAAA;IAENW,OAAA,EAGEC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAAJ,IAAA,CAAAqB,WAAA,IAAArB,IAAA,CAAAqB,WAAA,IAAAjB,IAAA;EAAA,IAAAkB,WAAA,CADMC,kBAAA,EAAmB;IAAAC,IAAA;IAAAC,KAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}