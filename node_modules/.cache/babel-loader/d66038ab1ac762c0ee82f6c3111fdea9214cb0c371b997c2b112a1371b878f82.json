{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport config from '@/router/config.json';\nexport default {\n  created() {\n    var image = this.$cookies.get('profile') + '.png';\n    this.selectedImageIndex = this.images.indexOf(image);\n    this.image_url = 'http://103.171.188.108/' + this.$cookies.get('user_id') + '.png';\n    this.getUser();\n  },\n  data() {\n    return {\n      role: this.$cookies.get('role'),\n      username: this.$cookies.get('username'),\n      mobile: this.$cookies.get('mobile'),\n      password: '',\n      email: this.$cookies.get('username') + '@email.com',\n      mobileError: false,\n      mobileErrorMessage: '',\n      checkUsername: false,\n      checkEmail: false,\n      checkMobile: false,\n      checkPassword: false,\n      showPassword: false,\n      image_value: '@/assets/avatar7.png',\n      images: ['image1.png', 'image2.png', 'image3.png', 'image4.png', 'image5.png', 'image6.png'],\n      selectedImageIndex: null\n    };\n  },\n  methods: {\n    selectImage(index) {\n      this.selectedImageIndex = index;\n    },\n    errorCheck() {\n      if (!this.checkUsername && !this.checkMobile && !this.checkPassword && !this.mobileError) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    submit() {\n      this.checkUsername = !this.username ? true : false;\n      this.checkMobile = !this.mobile ? true : false;\n      // this.checkPassword = (!this.password) ? true : false;\n\n      if (this.mobile && this.mobile.length != 10) {\n        this.checkMobile = true;\n        this.mobileErrorMessage = 'Mobile should be atleast 10 digits';\n      }\n      if (!this.errorCheck() || this.checkMobile || this.checkEmail) {\n        return;\n      }\n      var payload = {\n        username: this.username,\n        phone_number: this.mobile,\n        profile: this.selectedImageIndex !== null ? this.images[this.selectedImageIndex].slice(0, -4) : null\n      };\n      if (this.password) {\n        payload['password'] = this.password;\n      }\n      const loader = this.$loading.show({\n        width: 40,\n        height: 40\n      });\n      this.axios.put(config.host + 'user/' + this.$cookies.get('user_id'), payload).then(response => {\n        console.log(\"response\", response);\n        loader.hide();\n        this.getUser();\n        this.password = '';\n        this.$toast.success(response.data);\n      }, err => {\n        loader.hide();\n        this.$toast.error(response.data);\n      });\n    },\n    getUser() {\n      const loader = this.$loading.show({\n        width: 40,\n        height: 40\n      });\n      this.axios.get(config.host + 'user/' + this.$cookies.get('user_id')).then(response => {\n        console.log(\"response.data-----------\", response.data);\n        loader.hide();\n        this.$cookies.set('profile', 'image1');\n        this.$cookies.set('username', response.data.username);\n        this.$cookies.set('phone_number', response.data.phone_number);\n        this.$cookies.set('email', response.data.email);\n      });\n    },\n    redirect(type, url) {\n      this.isAccount = false;\n      this.isCustomise = false;\n      this.isIntegation = false;\n      this.isReport = false;\n      this.isManage = false;\n      this.iconaccount = 'fa fa-angle-down iconSet';\n      this.iconCust = 'fa fa-angle-down iconSet';\n      this.iconIntegration = 'fa fa-angle-down iconSet';\n      this.iconManage = 'fa fa-angle-down iconSet';\n      this.$router.push({\n        name: type\n      });\n      this.activePage = url;\n    }\n  }\n};","map":{"version":3,"names":["config","created","image","$cookies","get","selectedImageIndex","images","indexOf","image_url","getUser","data","role","username","mobile","password","email","mobileError","mobileErrorMessage","checkUsername","checkEmail","checkMobile","checkPassword","showPassword","image_value","methods","selectImage","index","errorCheck","submit","length","payload","phone_number","profile","slice","loader","$loading","show","width","height","axios","put","host","then","response","console","log","hide","$toast","success","err","error","set","redirect","type","url","isAccount","isCustomise","isIntegation","isReport","isManage","iconaccount","iconCust","iconIntegration","iconManage","$router","push","name","activePage"],"sources":["/etc/ec/code/gn_ui/src/components/account/updateProfile.vue"],"sourcesContent":["<template>\n  <div class=\"mt-3\">\n    <br>\n    <div class=\"pageHeader mb-3\">Profile</div>\n    <div class=\"container\">\n      <div class=\"pageDesc\" style=\"font-size: 18px;\">Let's change the profile</div>\n      \n\n       <va-button color=\"#999999\" type=\"submit\" hide-icon @click.prevent=\"redirect('Logout', null)\">\n        Logout\n      </va-button>\n    </div>\n    <div class=\"mt-5\">\n      <va-card class=\"cardView\">\n         <div class=\"flex md6 pa-5 mt-5\">\n          <center>\n            <!-- <img src=\"@/assets/avatar7.png\" height=\"330\" alt=\"image\" /> -->\n             <img :src=image_url height=\"330\" width=\"330\"  alt=\"image\" />\n          </center>\n        </div>\n        <div class=\"mt-4 flex md6\">\n         <!--  <va-card class=\"roleCard\" color=\"#000000\">\n            <div class=\"roleView\">\n              <span><b>Role</b></span><br>\n              <span>{{ role }}</span>\n            </div>\n          </va-card> -->\n          <form class=\"form pa-4\">\n            <span class=\"va-form-label va-form-required-label\">Username</span><br>\n                <va-input v-model.trim=\"username\"\n                  oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9_- ]/g, '')\" maxlength=\"50\"\n                  :error=\"checkUsername\" placeholder=\"Enter Username\" disabled /><br><br>\n\n                <span class=\"va-form-label va-form-required-label\">Mobile</span><br>\n                <va-input v-model.trim=\"mobile\" maxlength=\"10\" placeholder=\"Enter Mobile\"\n                  oninput=\"event.target.value = event.target.value.replace(/[^0-9]*/g,'');\" :error=\"checkMobile\"\n                  :error-messages=\"mobileErrorMessage\"/><br><br>\n                    \n           <!--  <div class=\"row\">\n              <div class=\"flex md6 pr-3\">\n                \n              </div>\n              <div class=\"flex md6\">\n                \n              </div>\n            </div><br> -->\n            <span class=\"va-form-label va-form-required-label\">Email</span><br>\n            <va-input v-model.trim=\"email\" :error=\"checkEmail\" :error-messages=\"emailErrorMessage\"\n              oninput=\"event.target.value = event.target.value.replace(/[^a-zA-Z0-9-_@.]*/g, '');\" disabled /><br><br>\n            <span class=\"va-form-label\">Password</span><br>\n            <va-input v-model.trim=\"password\" placeholder=\"Enter password\" :type=\"showPassword ? 'text' : 'password'\"\n              :error=\"checkPassword\">\n              <template #appendInner>\n                <va-icon :name=\"showPassword ? 'visibility_off' : 'visibility'\" size=\"small\"\n                  @click=\"showPassword = !showPassword\" />\n              </template>\n            </va-input><br><br>\n\n            <va-button color=\"#999999\" type=\"submit\" hide-icon @click.prevent=\"submit()\">\n              Update Profile\n            </va-button>\n           <!--  <span class=\"va-form-label\">Select your Profile</span><br>\n            <div class=\"mt-3\">\n              <img v-for=\"(image, index) in images\" :key=\"index\" :src=\"require(`@/assets/profile/${image}`)\"\n                :alt=\"'Profile Image ' + (index + 1)\"\n                :class=\"{ 'profile-image': true, 'select': selectedImageIndex === index }\" @click=\"selectImage(index)\" />\n            </div> -->\n          </form>\n        </div>\n       \n      </va-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from '@/router/config.json';\nexport default {\n  created() {\n    var image = this.$cookies.get('profile') + '.png';\n    this.selectedImageIndex = this.images.indexOf(image);\n    this.image_url = 'http://103.171.188.108/'+this.$cookies.get('user_id')+'.png';\n    this.getUser();\n  },\n  data() {\n    return {\n      role: this.$cookies.get('role'),\n      username: this.$cookies.get('username'),\n      mobile: this.$cookies.get('mobile'),\n      password:'',\n      email: this.$cookies.get('username')+'@email.com',\n      mobileError: false,\n      mobileErrorMessage: '',\n      checkUsername: false,\n      checkEmail: false,\n      checkMobile: false,\n      checkPassword: false,\n      showPassword: false,\n      image_value: '@/assets/avatar7.png',\n      images: [\n        'image1.png',\n        'image2.png',\n        'image3.png',\n        'image4.png',\n        'image5.png',\n        'image6.png',\n      ],\n      selectedImageIndex: null,\n    }\n  },\n  methods: {\n    selectImage(index) {\n      this.selectedImageIndex = index;\n    },\n    errorCheck() {\n      if (\n        !this.checkUsername &&\n        !this.checkMobile &&\n        !this.checkPassword &&\n        !this.mobileError\n      ) { return true } else { return false }\n    },\n    submit() {\n      this.checkUsername = (!this.username) ? true : false;\n      this.checkMobile = (!this.mobile) ? true : false;\n       // this.checkPassword = (!this.password) ? true : false;\n\n      if (this.mobile && this.mobile.length != 10) {\n        this.checkMobile = true;\n        this.mobileErrorMessage = 'Mobile should be atleast 10 digits';\n      }\n      if (!this.errorCheck() || this.checkMobile || this.checkEmail) {\n        return;\n      }\n      var payload = {\n        username: this.username,\n        phone_number: this.mobile,\n        profile: this.selectedImageIndex !== null ? this.images[this.selectedImageIndex].slice(0, -4) : null,\n      };\n      if (this.password){\n        payload['password'] = this.password\n      }\n      const loader = this.$loading.show({ width: 40, height: 40 });\n      this.axios.put(config.host + 'user/' + this.$cookies.get('user_id'), payload).then(response => {\n        console.log(\"response\",response)\n        loader.hide();\n        this.getUser();\n        this.password='';\n        this.$toast.success(response.data);\n      }, err => {\n        loader.hide();\n        this.$toast.error(response.data);\n      })\n    },\n    getUser() {\n      const loader = this.$loading.show({ width: 40, height: 40 });\n      this.axios.get(config.host + 'user/' + this.$cookies.get('user_id')).then(response => {\n        console.log(\"response.data-----------\",response.data)\n        loader.hide();\n        this.$cookies.set('profile', 'image1');\n        this.$cookies.set('username', response.data.username);\n        this.$cookies.set('phone_number', response.data.phone_number);\n        this.$cookies.set('email',response.data.email)\n      })\n    },\n    redirect(type, url) {\n      this.isAccount = false;\n      this.isCustomise = false;\n      this.isIntegation = false;\n      this.isReport = false;\n      this.isManage = false;\n      this.iconaccount = 'fa fa-angle-down iconSet';\n      this.iconCust = 'fa fa-angle-down iconSet';\n      this.iconIntegration = 'fa fa-angle-down iconSet';\n      this.iconManage = 'fa fa-angle-down iconSet';\n      this.$router.push({ name: type });\n      this.activePage = url;\n    },\n  }\n}\n</script>\n\n<style>\n.roleCard {\n  width: 11rem;\n  height: 3rem;\n  border-top-right-radius: 2rem;\n  border-bottom-right-radius: 2rem;\n}\n\n.roleView {\n  margin: 0.5rem 0 0 1.8rem;\n  position: absolute;\n  font-size: 0.9rem;\n}\n\n.profile-image {\n  height: 50px;\n  width: 50px;\n  margin-left: 20px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.select {\n  border: 3px solid blue;\n}\n\n.form .va-input {\n  width: 100%;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}