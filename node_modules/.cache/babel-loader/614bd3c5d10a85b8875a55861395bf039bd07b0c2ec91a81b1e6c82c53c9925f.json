{"ast":null,"code":"import { d as defineVuesticPlugin } from \"../utils/define-vuestic-plugin-8c565dfe.mjs\";\nimport { s as setCurrentApp } from \"../../current-app-1538613c.mjs\";\nimport { G as GlobalConfigPlugin } from \"../../global-config/plugin/index-2acc7f3c.mjs\";\nimport { C as CachePlugin } from \"../../cache/plugin/index-d7f76192.mjs\";\nimport { C as ColorConfigPlugin } from \"../../color/plugin/index-23cf61c5.mjs\";\nimport { u as usePlugin } from \"../utils/use-plugin-11255fbd.mjs\";\nconst ESSENTIAL_PLUGIN_NAMES = [\"GlobalConfigPlugin\", \"ColorConfigPlugin\"];\nconst createVuesticEssential = defineVuesticPlugin((options = {}) => ({\n  install(app) {\n    const {\n      config,\n      components,\n      plugins\n    } = options;\n    setCurrentApp(app);\n    usePlugin(app, (plugins == null ? void 0 : plugins.GlobalConfigPlugin) || GlobalConfigPlugin, config);\n    usePlugin(app, (plugins == null ? void 0 : plugins.CachePlugin) || CachePlugin);\n    usePlugin(app, (plugins == null ? void 0 : plugins.ColorConfigPlugin) || ColorConfigPlugin, config);\n    if (plugins) {\n      Object.entries(plugins).forEach(([name, plugin]) => {\n        if (ESSENTIAL_PLUGIN_NAMES.includes(name)) {\n          return;\n        }\n        usePlugin(app, plugin);\n      });\n    }\n    if (components) {\n      Object.entries(components).forEach(([name, component]) => {\n        app.component(name, component);\n      });\n    }\n    setCurrentApp(null);\n  }\n}));\nexport { createVuesticEssential as c };","map":{"version":3,"names":["ESSENTIAL_PLUGIN_NAMES","createVuesticEssential","defineVuesticPlugin","options","install","app","config","components","plugins","setCurrentApp","usePlugin","GlobalConfigPlugin","CachePlugin","ColorConfigPlugin","Object","entries","forEach","name","plugin","includes","component"],"sources":["../../../../../../src/services/vue-plugin/create-vuestic/create-vuestic-essential.ts"],"sourcesContent":["import type { VuesticComponent, VuesticPlugin, VuesticPluginFabric } from '../types'\nimport { defineVuesticPlugin } from '../utils/define-vuestic-plugin'\nimport type { PartialGlobalConfig } from '../../global-config/global-config'\nimport { usePlugin } from '../utils'\nimport { setCurrentApp } from '../../current-app'\n\nimport { GlobalConfigPlugin, ColorConfigPlugin, CachePlugin } from '../plugins'\n\nconst ESSENTIAL_PLUGIN_NAMES = ['GlobalConfigPlugin', 'ColorConfigPlugin']\n\n/**\n * Register only essential Vuestic Plugins.\n *\n * This plugin will register globally only provided component and plugins in options.\n * @notice this plugin will not bundle all vuestic conponents and plugins\n *\n * @example\n * ```ts\n * createVuesticEssential({\n *   plugins: [VaToastPlugin],  // or [VaToastPlugin({ makeLifeEasier: true })],\n *   components: { VaButton, VaInput },\n *   config: { VaButton: { color: '#f0f' } }\n * })\n * ```\n */\nexport const createVuesticEssential = defineVuesticPlugin((options: {\n  config?: PartialGlobalConfig,\n  components?: Record<string, VuesticComponent>,\n  plugins?: Record<string, VuesticPlugin | VuesticPluginFabric>\n } = {}) => ({\n  install (app) {\n    const { config, components, plugins } = options\n\n    setCurrentApp(app)\n\n    // These plugins have dependant plugins, so have to be registered first.\n    usePlugin(app, plugins?.GlobalConfigPlugin || GlobalConfigPlugin, config)\n    usePlugin(app, plugins?.CachePlugin || CachePlugin)\n    usePlugin(app, plugins?.ColorConfigPlugin || ColorConfigPlugin, config)\n\n    if (plugins) {\n      Object.entries(plugins).forEach(([name, plugin]) => {\n        if (ESSENTIAL_PLUGIN_NAMES.includes(name)) { return }\n        usePlugin(app, plugin)\n      })\n    }\n\n    if (components) {\n      Object.entries(components).forEach(([name, component]) => {\n        app.component(name, component)\n      })\n    }\n\n    setCurrentApp(null)\n  },\n}))\n"],"mappings":";;;;;;AAQA,MAAMA,sBAAA,GAAyB,CAAC,sBAAsB,mBAAmB;AAiBlE,MAAMC,sBAAA,GAAyBC,mBAAA,CAAoB,CAACC,OAAA,GAItD,QAAQ;EACXC,QAASC,GAAA,EAAK;IACZ,MAAM;MAAEC,MAAA;MAAQC,UAAA;MAAYC;IAAA,IAAYL,OAAA;IAExCM,aAAA,CAAcJ,GAAG;IAGjBK,SAAA,CAAUL,GAAA,GAAKG,OAAA,oBAAAA,OAAA,CAASG,kBAAA,KAAsBA,kBAAA,EAAoBL,MAAM;IAC9DI,SAAA,CAAAL,GAAA,GAAKG,OAAA,oBAAAA,OAAA,CAASI,WAAA,KAAeA,WAAW;IAClDF,SAAA,CAAUL,GAAA,GAAKG,OAAA,oBAAAA,OAAA,CAASK,iBAAA,KAAqBA,iBAAA,EAAmBP,MAAM;IAEtE,IAAIE,OAAA,EAAS;MACJM,MAAA,CAAAC,OAAA,CAAQP,OAAO,EAAEQ,OAAA,CAAQ,CAAC,CAACC,IAAA,EAAMC,MAAM,MAAM;QAC9C,IAAAlB,sBAAA,CAAuBmB,QAAA,CAASF,IAAI,GAAG;UAAE;QAAO;QACpDP,SAAA,CAAUL,GAAA,EAAKa,MAAM;MAAA,CACtB;IACH;IAEA,IAAIX,UAAA,EAAY;MACPO,MAAA,CAAAC,OAAA,CAAQR,UAAU,EAAES,OAAA,CAAQ,CAAC,CAACC,IAAA,EAAMG,SAAS,MAAM;QACpDf,GAAA,CAAAe,SAAA,CAAUH,IAAA,EAAMG,SAAS;MAAA,CAC9B;IACH;IAEAX,aAAA,CAAc,IAAI;EACpB;AACF,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}