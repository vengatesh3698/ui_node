{"ast":null,"code":"import { defineComponent, computed, shallowRef } from \"vue\";\nimport { u as useCarousel } from \"./hooks/useCarousel-bcf63e8e.mjs\";\nimport { u as useCarouselAnimation } from \"./hooks/useCarouselAnimation-94ae9ffc.mjs\";\nimport { u as useCarouselColor } from \"./hooks/useCarouselColors-b38fa0f7.mjs\";\nimport { V as VaImage } from \"../va-image/index-24a70681.mjs\";\nimport { V as VaButton } from \"../va-button/index-b0a9ef70.mjs\";\nimport { V as VaHover } from \"../va-hover/index-907d51f4.mjs\";\nimport { u as useSwipeProps, a as useSwipe } from \"../../composables/useSwipe-da9327e2.mjs\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options-6b96d215.mjs\";\nimport { a as useStatefulProps, u as useStatefulEmits, b as useStateful } from \"../../composables/useStateful-50e4a6b9.mjs\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props-9727421a.mjs\";\nimport { u as useTranslation } from \"../../composables/useTranslation-acf7d88d.mjs\";\nconst VaImageProps = extractComponentProps(VaImage, [\"src\", \"alt\"]);\nconst _sfc_main = defineComponent({\n  name: \"VaCarousel\",\n  components: {\n    VaImage,\n    VaButton,\n    VaHover\n  },\n  props: {\n    ...useSwipeProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    ...VaImageProps,\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    items: {\n      type: Array,\n      required: true\n    },\n    // Animations\n    autoscroll: {\n      type: Boolean,\n      default: false\n    },\n    autoscrollInterval: {\n      type: Number,\n      default: 1e3\n    },\n    autoscrollPauseDuration: {\n      type: Number,\n      default: 2e3\n    },\n    infinite: {\n      type: Boolean,\n      default: false\n    },\n    fadeKeyframe: {\n      type: String,\n      default: \"va-carousel-fade-appear 1s\"\n    },\n    // Visual\n    arrows: {\n      type: Boolean,\n      default: true\n    },\n    indicators: {\n      type: Boolean,\n      default: true\n    },\n    indicatorTrigger: {\n      type: String,\n      default: \"click\",\n      validator: value => [\"click\", \"hover\"].includes(value)\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"300px\"\n    },\n    effect: {\n      type: String,\n      default: \"transition\",\n      validator: value => [\"fade\", \"transition\"].includes(value)\n    },\n    color: {\n      type: String,\n      default: \"primary\"\n    },\n    ratio: {\n      type: Number\n    },\n    ariaLabel: {\n      type: String,\n      default: \"$t:carousel\"\n    },\n    ariaPreviousLabel: {\n      type: String,\n      default: \"$t:goPreviousSlide\"\n    },\n    ariaNextLabel: {\n      type: String,\n      default: \"$t:goNextSlide\"\n    },\n    ariaGoToSlideLabel: {\n      type: String,\n      default: \"$t:goSlide\"\n    },\n    ariaSlideOfLabel: {\n      type: String,\n      default: \"$t:slideOf\"\n    }\n  },\n  emits: [...useStatefulEmits],\n  setup(props, {\n    emit\n  }) {\n    const {\n      valueComputed: currentSlide\n    } = useStateful(props, emit, \"modelValue\", {\n      defaultValue: 0\n    });\n    const {\n      goTo,\n      next,\n      prev,\n      doShowNextButton,\n      doShowPrevButton\n    } = useCarousel(props, currentSlide);\n    const {\n      withPause,\n      computedSlidesStyle,\n      slides\n    } = useCarouselAnimation(props, currentSlide);\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every(el => !!el && typeof el === \"object\" && !!(el == null ? void 0 : el.src));\n    });\n    const isCurrentSlide = index => index === currentSlide.value;\n    const slideStyleComputed = computed(() => ({\n      animation: props.effect === \"fade\" ? \"fadeKeyframe\" : void 0\n    }));\n    const slidesContainer = shallowRef();\n    const onSwipe = state => {\n      switch (state.direction) {\n        case \"right\":\n        case \"up\":\n          doShowPrevButton.value && prev();\n          break;\n        case \"left\":\n        case \"down\":\n          doShowNextButton.value && next();\n      }\n    };\n    useSwipe(props, slidesContainer, onSwipe);\n    return {\n      vaImageProps: filterComponentProps(VaImageProps),\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      slideStyleComputed,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n      ...useTranslation(),\n      slidesContainer\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaCarousel.css';","map":{"version":3,"names":["VaImageProps","extractComponentProps","VaImage","_sfc_main","defineComponent","name","components","VaButton","VaHover","props","useSwipeProps","useStatefulProps","useComponentPresetProp","modelValue","type","Number","default","items","Array","required","autoscroll","Boolean","autoscrollInterval","autoscrollPauseDuration","infinite","fadeKeyframe","String","arrows","indicators","indicatorTrigger","validator","value","includes","vertical","height","effect","color","ratio","ariaLabel","ariaPreviousLabel","ariaNextLabel","ariaGoToSlideLabel","ariaSlideOfLabel","emits","useStatefulEmits","setup","emit","valueComputed","currentSlide","useStateful","defaultValue","goTo","next","prev","doShowNextButton","doShowPrevButton","useCarousel","withPause","computedSlidesStyle","slides","useCarouselAnimation","isObjectSlides","computed","length","every","el","src","isCurrentSlide","index","slideStyleComputed","animation","slidesContainer","shallowRef","onSwipe","state","direction","useSwipe","vaImageProps","filterComponentProps","useCarouselColor","useTranslation"],"sources":["../../../../../src/components/va-carousel/VaCarousel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-carousel\"\n    :class=\"{\n      'va-carousel--vertical': $props.vertical,\n      [`va-carousel--${$props.effect}`]: true\n    }\"\n    :style=\"{ height: ratio ? 'auto' : height }\"\n    role=\"region\"\n    :aria-label=\"tp($props.ariaLabel)\"\n  >\n    <template v-if=\"$props.arrows\">\n      <div\n        v-if=\"doShowPrevButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--left\"\n        @click=\"prev\"\n        @keydown.enter.stop=\"prev\"\n      >\n        <slot name=\"prev-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'va-arrow-up' : 'va-arrow-left'\"\n              :aria-label=\"tp($props.ariaPreviousLabel)\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n      <div\n        v-if=\"doShowNextButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--right\"\n        @click=\"next\"\n        @keydown.enter.stop=\"next\"\n      >\n        <slot name=\"next-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'va-arrow-down' : 'va-arrow-right'\"\n              :aria-label=\"tp($props.ariaNextLabel)\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n    </template>\n\n    <div class=\"va-carousel__indicators\" v-if=\"$props.indicators\">\n      <div\n        class=\"va-carousel__indicator\"\n        v-for=\"(item, index) in $props.items\" :key=\"index\"\n        :class=\"{ 'va-carousel__indicator--active': index === modelValue }\"\n        v-bind=\"indicatorTrigger === 'hover' ? { onmouseover: () => goTo(index) } : { onclick: () => goTo(index) }\"\n      >\n        <slot name=\"indicator\" v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :aria-label=\"tp($props.ariaGoToSlideLabel, { index: index + 1 })\"\n              round\n              :color=\"isCurrentSlide(index) ? computedActiveColor : (hover ? computedHoverColor : computedColor)\"\n            >\n              {{ index + 1 }}\n            </va-button>\n          </va-hover>\n        </slot>\n      </div>\n    </div>\n\n    <div class=\"va-carousel__content\">\n      <div\n        ref=\"slidesContainer\"\n        class=\"va-carousel__slides\"\n        :style=\"computedSlidesStyle\"\n        role=\"list\"\n      >\n        <div\n          v-for=\"(item, index) in slides\" :key=\"item\"\n          role=\"listitem\"\n          class=\"va-carousel__slide\"\n          :style=\"slideStyleComputed\"\n          :aria-hidden=\"!isCurrentSlide(index)\"\n          :aria-current=\"isCurrentSlide(index)\"\n          :aria-label=\"tp($props.ariaSlideOfLabel, { index: index + 1, length: slides.length })\"\n        >\n          <slot v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n            <va-image\n              v-bind=\"vaImageProps\"\n              :src=\"isObjectSlides ? item.src : item\"\n              :alt=\"isObjectSlides ? item.alt : ''\"\n              :draggable=\"false\"\n            />\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, shallowRef, PropType, computed } from 'vue'\nimport { useCarousel } from './hooks/useCarousel'\nimport { useCarouselAnimation } from './hooks/useCarouselAnimation'\nimport { useCarouselColor } from './hooks/useCarouselColors'\nimport {\n  useStateful, useStatefulProps, useStatefulEmits,\n  useSwipe, useSwipeProps, useComponentPresetProp,\n  useTranslation,\n} from '../../composables'\n\nimport { VaImage } from '../va-image'\nimport { VaButton } from '../va-button'\nimport { VaHover } from '../va-hover'\n\nimport type { SwipeState } from '../../composables'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nconst VaImageProps = extractComponentProps(VaImage, ['src', 'alt'])\n\nexport default defineComponent({\n  name: 'VaCarousel',\n\n  components: { VaImage, VaButton, VaHover },\n\n  props: {\n    ...useSwipeProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    ...VaImageProps,\n\n    modelValue: { type: Number, default: 0 },\n    items: { type: Array as PropType<any[]>, required: true },\n\n    // Animations\n    autoscroll: { type: Boolean, default: false },\n    autoscrollInterval: { type: Number, default: 1000 },\n    autoscrollPauseDuration: { type: Number, default: 2000 },\n    infinite: { type: Boolean, default: false },\n    fadeKeyframe: { type: String, default: 'va-carousel-fade-appear 1s' },\n\n    // Visual\n    arrows: { type: Boolean, default: true },\n    indicators: { type: Boolean, default: true },\n    indicatorTrigger: {\n      type: String as PropType<'click' | 'hover'>,\n      default: 'click',\n      validator: (value: string) => ['click', 'hover'].includes(value),\n    },\n    vertical: { type: Boolean, default: false },\n    height: { type: String, default: '300px' },\n    effect: {\n      type: String as PropType<'fade' | 'transition'>,\n      default: 'transition',\n      validator: (value: string) => ['fade', 'transition'].includes(value),\n    },\n    color: { type: String, default: 'primary' },\n    ratio: { type: Number },\n\n    ariaLabel: { type: String, default: '$t:carousel' },\n    ariaPreviousLabel: { type: String, default: '$t:goPreviousSlide' },\n    ariaNextLabel: { type: String, default: '$t:goNextSlide' },\n    ariaGoToSlideLabel: { type: String, default: '$t:goSlide' },\n    ariaSlideOfLabel: { type: String, default: '$t:slideOf' },\n  },\n\n  emits: [...useStatefulEmits],\n\n  setup (props, { emit }) {\n    const { valueComputed: currentSlide } = useStateful(props, emit, 'modelValue', { defaultValue: 0 })\n\n    const {\n      goTo, next, prev,\n      doShowNextButton, doShowPrevButton,\n    } = useCarousel(props, currentSlide)\n\n    const { withPause, computedSlidesStyle, slides } = useCarouselAnimation(props, currentSlide)\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every((el) => !!el && typeof el === 'object' && !!el?.src)\n    })\n    const isCurrentSlide = (index: number) => index === currentSlide.value\n\n    const slideStyleComputed = computed(() => ({\n      animation: props.effect === 'fade' ? 'fadeKeyframe' : undefined,\n    }))\n\n    // swiping\n    const slidesContainer = shallowRef<HTMLElement>()\n    const onSwipe = (state: SwipeState) => {\n      switch (state.direction) {\n        case 'right':\n        case 'up':\n          doShowPrevButton.value && prev()\n          break\n        case 'left':\n        case 'down':\n          doShowNextButton.value && next()\n      }\n    }\n    useSwipe(props, slidesContainer, onSwipe)\n\n    return {\n      vaImageProps: filterComponentProps(VaImageProps),\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      slideStyleComputed,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n      ...useTranslation(),\n      slidesContainer,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"./_variables.scss\";\n\n@keyframes va-carousel-fade-appear {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.va-carousel {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  min-height: var(--va-carousel-min-height);\n  background: var(--va-carousel-background);\n  box-shadow: var(--va-carousel-box-shadow);\n  border-radius: var(--va-carousel-border-radius);\n  position: relative;\n  overflow: hidden;\n\n  &__content {\n    flex: 1;\n    width: 100%;\n    white-space: nowrap;\n  }\n\n  &__slides {\n    width: 100%;\n    height: 100%;\n    transition: var(--va-carousel-slides-transition);\n  }\n\n  &__slide {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  &__indicators {\n    width: 100%;\n    position: absolute;\n    bottom: var(--va-carousel-padding);\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    overflow-x: auto;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include va-scroll();\n\n    & > * {\n      margin: 0 var(--va-carousel-indicators-gap);\n    }\n  }\n\n  &__arrow {\n    z-index: 1;\n    width: max-content;\n    height: max-content;\n\n    &--right {\n      right: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    &--left {\n      left: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  &--vertical {\n    .va-carousel {\n      &__slide {\n        display: flex;\n      }\n\n      &__arrow {\n        z-index: 1;\n\n        &--right {\n          bottom: var(--va-carousel-padding);\n          top: auto;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n\n        &--left {\n          top: var(--va-carousel-padding);\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n\n      &__indicators {\n        left: var(--va-carousel-padding);\n        flex-direction: column;\n        width: auto;\n        height: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        overflow-x: hidden;\n        overflow-y: auto;\n\n        & > * {\n          margin: var(--va-carousel-indicators-gap) 0;\n        }\n      }\n    }\n  }\n\n  .va-image {\n    height: 100%;\n    width: 100%;\n  }\n\n  .va-button {\n    @include keyboard-focus-outline($offset: -2px);\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}