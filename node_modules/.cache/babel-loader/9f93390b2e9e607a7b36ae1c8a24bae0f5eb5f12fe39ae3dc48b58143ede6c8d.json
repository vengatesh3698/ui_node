{"ast":null,"code":"import { _ as _sfc_main } from \"./VaTimePicker.vue_vue_type_script_lang-992cf112.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, Fragment, renderList, createBlock, withKeys, withModifiers } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaTimePicker_vue_vue_type_style_index_0_lang = \"\";\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VaTimePickerColumn = resolveComponent(\"VaTimePickerColumn\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-time-picker\", _ctx.computedClasses]),\n    style: normalizeStyle(_ctx.computedStyles)\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.columns, (column, idx) => {\n    return openBlock(), createBlock(_component_VaTimePickerColumn, {\n      key: idx,\n      ref_for: true,\n      ref: _ctx.setItemRef,\n      items: column.items,\n      tabindex: _ctx.disabled ? -1 : 0,\n      \"cell-height\": _ctx.$props.cellHeight,\n      activeItemIndex: column.activeItem.value,\n      \"onUpdate:activeItemIndex\": $event => column.activeItem.value = $event,\n      onKeydown: [_cache[0] || (_cache[0] = withKeys(withModifiers($event => _ctx.focusNext(), [\"stop\", \"prevent\"]), [\"right\"])), _cache[1] || (_cache[1] = withKeys(withModifiers($event => _ctx.focusNext(), [\"exact\", \"stop\", \"prevent\"]), [\"tab\"])), _cache[2] || (_cache[2] = withKeys(withModifiers($event => _ctx.focusPrev(), [\"stop\", \"prevent\"]), [\"left\"])), _cache[3] || (_cache[3] = withKeys(withModifiers($event => _ctx.focusPrev(), [\"shift\", \"stop\", \"prevent\"]), [\"tab\"]))],\n      onFocus: $event => _ctx.activeColumnIndex = idx\n    }, null, 8, [\"items\", \"tabindex\", \"cell-height\", \"activeItemIndex\", \"onUpdate:activeItemIndex\", \"onFocus\"]);\n  }), 128))], 6);\n}\nconst _VaTimePicker = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaTimePicker as _ };","map":{"version":3,"names":["resolveComponent","openBlock","createElementBlock","class","normalizeClass","_ctx","computedClasses","style","normalizeStyle","computedStyles","Fragment","renderList","columns","column","idx","key","ref_for","ref","setItemRef","items","tabindex","disabled","$props","cellHeight","activeItemIndex","activeItem","value","$event","onKeydown","_cache","withKeys","withModifiers","focusNext","focusPrev","onFocus","activeColumnIndex"],"sources":["../../../../../src/components/va-time-picker/VaTimePicker.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-time-picker\"\n    :class=\"computedClasses\"\n    :style=\"computedStyles\"\n  >\n    <VaTimePickerColumn\n      v-for=\"(column, idx) in columns\" :key=\"idx\"\n      :ref=\"setItemRef\"\n      :items=\"column.items\"\n      :tabindex=\"disabled ? -1 : 0\"\n      :cell-height=\"$props.cellHeight\"\n      v-model:activeItemIndex=\"column.activeItem.value\"\n      @keydown.right.stop.prevent=\"focusNext()\"\n      @keydown.tab.exact.stop.prevent=\"focusNext()\"\n      @keydown.left.stop.prevent=\"focusPrev()\"\n      @keydown.shift.tab.stop.prevent=\"focusPrev()\"\n      @focus=\"activeColumnIndex = idx\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, PropType } from 'vue'\nimport { useTimePicker } from './hooks/useTimePicker'\n\nimport { VaTimePickerColumn } from './components/VaTimePickerColumn'\n\nimport {\n  useComponentPresetProp,\n  useStatefulProps,\n  useStatefulEmits,\n  useStateful,\n  useFormFieldProps,\n  useFormField,\n  useArrayRefs,\n  useCSSVariables,\n} from '../../composables'\n\nexport default defineComponent({\n  name: 'VaTimePicker',\n\n  components: { VaTimePickerColumn },\n\n  props: {\n    ...useStatefulProps,\n    ...useFormFieldProps,\n    ...useComponentPresetProp,\n    modelValue: { type: Date, required: false },\n    ampm: { type: Boolean, default: false },\n    hidePeriodSwitch: { type: Boolean, default: false },\n    periodUpdatesModelValue: { type: Boolean, default: true }, // Update model value when switching period automatically\n    view: { type: String as PropType<'hours' | 'minutes' | 'seconds'>, default: 'minutes' },\n    hoursFilter: { type: Function as PropType<(h: number) => boolean> },\n    minutesFilter: { type: Function as PropType<(h: number) => boolean> },\n    secondsFilter: { type: Function as PropType<(h: number) => boolean> },\n    framed: { type: Boolean, default: false },\n    cellHeight: { type: Number, default: 30 },\n    visibleCellsCount: { type: Number, default: 7 },\n  },\n\n  emits: [...useStatefulEmits],\n\n  setup (props, { emit }) {\n    const { valueComputed } = useStateful(props, emit)\n    const { columns, isPM } = useTimePicker(props, valueComputed)\n\n    const { setItemRef, itemRefs: pickers } = useArrayRefs()\n\n    const activeColumnIndex = ref<number>()\n\n    const focus = (idx = 0): void => {\n      pickers.value[idx]?.focus()\n    }\n\n    const blur = (idx?: number): void => {\n      idx ? pickers.value[idx]?.blur() : pickers.value.forEach((el) => el?.blur())\n    }\n\n    const { computedClasses: computedFormClasses } = useFormField('va-time-picker', props)\n\n    const focusNext = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) + 1\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const focusPrev = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) - 1 + columns.value.length\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const computedClasses = computed(() => ({\n      ...computedFormClasses,\n      'va-time-picker--framed': props.framed,\n    }))\n\n    const computedStyles = useCSSVariables('va-time-picker', () => {\n      const gapHeight = (props.visibleCellsCount - 1) / 2 * props.cellHeight\n\n      return {\n        height: `${props.cellHeight * props.visibleCellsCount}px`,\n        'cell-height': `${props.cellHeight}px`,\n        'column-gap-height': `${gapHeight}px`,\n      }\n    })\n\n    return {\n      columns,\n      computedStyles,\n      computedClasses,\n      isPM,\n      pickers,\n      setItemRef,\n\n      focusNext,\n      focusPrev,\n      activeColumnIndex,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import './_variables.scss';\n\n@mixin after-overlay {\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 1;\n  }\n}\n\n.va-time-picker {\n  display: var(--va-time-picker-display);\n  justify-content: center;\n  overflow: hidden;\n  height: var(--va-time-picker-height);\n  font-family: var(--va-font-family);\n\n  &--readonly {\n    @include after-overlay();\n  }\n\n  &--disabled {\n    @include after-overlay();\n\n    opacity: var(--va-time-picker-disabled-opacity);\n  }\n\n  &--framed {\n    position: relative;\n\n    &::before {\n      content: \"\";\n      height: var(--va-time-picker-cell-height);\n      width: 100%;\n      position: absolute;\n      top: 50%;\n      left: 0;\n      transform: translateY(-50%);\n      border-top: 1px solid var(--va-divider);\n      border-bottom: 1px solid var(--va-divider);\n      z-index: 0;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;wCACEA,gBAAA,CAkBM;EAfE,OAAAC,SAAA,IAAAC,kBAAA,CAAE,OAAc;IAAAC,KAAA,EAAAC,cAAA,oBAAAC,IAAA,CAAAC,eAAA;IAAAC,KAAA,EAAAC,cAAA,CAEtBH,IAAA,CAYEI,cAAA;EAAA,KAX0CR,SAAA,QAAAC,kBAAA,CAAAQ,QAAA,QAAAC,UAAA,CAAAN,IAAA,CAAAO,OAAA,GAAAC,MAAA,EAAAC,GAAA;;MACzCC,GAAA,EAAKD,GAAA;MACLE,OAAA,EAAO;MACPC,GAAA,EAAUZ,IAAA,CAAAa,UAAA;MACVC,KAAA,EAAWN,MAAA,CAAAM,KAAA;MACJC,QAAA,EAAAf,IAAA,CAAegB,QAAA,GAAS;MAAA,eAAAhB,IAAA,CAAAiB,MAAA,CAAAC,UAAA;MAC/BC,eAAA,EAAOX,MAAA,CAAAY,UAAA,CAAAC,KAAA;MAAqB,4BAAAC,MAAA,IAAAd,MAAA,CAAAY,UAAA,CAAAC,KAAA,GAAAC,MAAA;MAAAC,SAAA,GAAAC,MAAA,QAAAA,MAAA,MAAAC,QAAA,CAAAC,aAAA,CAAAJ,MAAA,IAEDtB,IAAA,CAAS2B,SAAA,uCAAAH,MAAA,QAAAA,MAAA,MAAAC,QAAA,CAAAC,aAAA,CAAAJ,MAAA,IACJtB,IAAA,CAAS2B,SAAA,8CAAAH,MAAA,QAAAA,MAAA,MAAAC,QAAA,CAAAC,aAAA,CAAAJ,MAAA,IAAAtB,IAAA,CAAA4B,SAAA,sCACzCJ,MAAA,CAAK,OAAAA,MAAA,CAAE,CAAuB,IAAAC,QAAA,CAAAC,aAAA,CAAAJ,MAAA,IAAAtB,IAAA,CAAA4B,SAAA;MAAAC,OAAA,EAAAP,MAAA,IAAAtB,IAAA,CAAA8B,iBAAA,GAAArB"},"metadata":{},"sourceType":"module","externalDependencies":[]}