{"ast":null,"code":"import { defineComponent, ref, computed, onMounted } from \"vue\";\nimport { V as VaFileUploadKey } from \"../types-8c5c5611.mjs\";\nimport { V as VaButton } from \"../../va-button/index-b0a9ef70.mjs\";\nimport { V as VaProgressBar } from \"../../va-progress-bar/index-225a3499.mjs\";\nimport { u as useStrictInject } from \"../../../composables/useStrictInject-08ce5ce6.mjs\";\nimport { u as useBem } from \"../../../composables/useBem-10a5bc6e.mjs\";\nconst INJECTION_ERROR_MESSAGE = \"The VaFileUploadUndo component should be used in the context of VaFileUpload component\";\nconst _sfc_main = defineComponent({\n  name: \"VaFileUploadUndo\",\n  components: {\n    VaProgressBar,\n    VaButton\n  },\n  props: {\n    vertical: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"recover\"],\n  setup: props => {\n    const progress = ref(100);\n    const {\n      undoDuration,\n      undoButtonText,\n      deletedFileMessage\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE);\n    const computedClasses = useBem(\"va-file-upload-undo\", () => ({\n      vertical: props.vertical\n    }));\n    const undoDurationStyle = computed(() => `${undoDuration.value ?? 0}ms`);\n    onMounted(() => {\n      const timer = setTimeout(() => {\n        progress.value = 0;\n        clearTimeout(timer);\n      }, 0);\n    });\n    return {\n      progress,\n      undoDuration,\n      undoButtonText,\n      computedClasses,\n      undoDurationStyle,\n      deletedFileMessage\n    };\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../../VaFileUploadUndo.css';","map":{"version":3,"names":["INJECTION_ERROR_MESSAGE","_sfc_main","defineComponent","name","components","VaProgressBar","VaButton","props","vertical","type","Boolean","default","emits","setup","progress","ref","undoDuration","undoButtonText","deletedFileMessage","useStrictInject","VaFileUploadKey","computedClasses","useBem","undoDurationStyle","computed","value","onMounted","timer","setTimeout","clearTimeout"],"sources":["../../../../../../src/components/va-file-upload/VaFileUploadUndo/VaFileUploadUndo.vue"],"sourcesContent":["<template>\n  <va-progress-bar\n    :model-value=\"progress\"\n    :rounded=\"false\"\n    class=\"va-file-upload-undo-progress-bar\"\n   :style=\"`--va-0-undo-duration-style: ${String(undoDurationStyle)}`\"/>\n  <div\n    class=\"va-file-upload-undo\"\n    :class=\"computedClasses\"\n   :style=\"`--va-0-undo-duration-style: ${String(undoDurationStyle)}`\">\n    <span class=\"va-file-upload-undo__text\">{{ deletedFileMessage }}</span>\n    <va-button\n      class=\"va-file-upload-undo__button\"\n      :aria-label=\"undoButtonText\"\n      size=\"small\"\n      outline\n      @click=\"$emit('recover')\"\n    >\n      {{ undoButtonText }}\n    </va-button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, onMounted } from 'vue'\n\nimport { useBem, useStrictInject } from '../../../composables'\nimport { VaFileUploadKey } from '../types'\n\nimport { VaButton } from '../../va-button'\nimport { VaProgressBar } from '../../va-progress-bar'\n\nconst INJECTION_ERROR_MESSAGE = 'The VaFileUploadUndo component should be used in the context of VaFileUpload component'\n\nexport default defineComponent({\n  name: 'VaFileUploadUndo',\n\n  components: {\n    VaProgressBar,\n    VaButton,\n  },\n\n  props: {\n    vertical: { type: Boolean, default: false },\n  },\n\n  emits: ['recover'],\n\n  setup: (props) => {\n    const progress = ref(100)\n    const {\n      undoDuration,\n      undoButtonText,\n      deletedFileMessage,\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE)\n\n    const computedClasses = useBem('va-file-upload-undo', () => ({\n      vertical: props.vertical,\n    }))\n\n    const undoDurationStyle = computed(() => `${undoDuration.value ?? 0}ms`)\n\n    onMounted(() => {\n      const timer = setTimeout(() => {\n        progress.value = 0\n        clearTimeout(timer)\n      }, 0)\n    })\n\n    return {\n      progress,\n      undoDuration,\n      undoButtonText,\n      computedClasses,\n      undoDurationStyle,\n      deletedFileMessage,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-file-upload-undo-progress-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  --va-progress-bar-transition: width var(--va-0-undo-duration-style) linear;\n}\n\n.va-file-upload-undo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  &__button {\n    line-height: var(--va-file-upload-undo-button-line-height);\n    margin-left: var(--va-file-upload-undo-margin-left);\n    margin-top: var(--va-file-upload-undo-button-margin-top);\n    margin-bottom: var(--va-file-upload-undo-button-margin-bottom);\n  }\n\n  &--vertical {\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    padding: var(--va-file-upload-undo-padding);\n\n    .va-file-upload-undo__text {\n      margin: 1rem 0 0;\n      text-align: center;\n    }\n\n    .va-file-upload-undo__button {\n      margin: 1rem 0 0;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;;AAgCA,MAAMA,uBAAA,GAA0B;AAEhC,MAAAC,SAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EAENC,UAAA,EAAY;IACVC,aAAA;IACAC;EACF;EAEAC,KAAA,EAAO;IACLC,QAAA,EAAU;MAAEC,IAAA,EAAMC,OAAA;MAASC,OAAA,EAAS;IAAM;EAC5C;EAEAC,KAAA,EAAO,CAAC,SAAS;EAEjBC,KAAA,EAAQN,KAAA,IAAU;IACV,MAAAO,QAAA,GAAWC,GAAA,CAAI,GAAG;IAClB;MACJC,YAAA;MACAC,cAAA;MACAC;IAAA,IACEC,eAAA,CAAgBC,eAAA,EAAiBpB,uBAAuB;IAEtD,MAAAqB,eAAA,GAAkBC,MAAA,CAAO,uBAAuB,OAAO;MAC3Dd,QAAA,EAAUD,KAAA,CAAMC;IAChB;IAEF,MAAMe,iBAAA,GAAoBC,QAAA,CAAS,MAAM,GAAGR,YAAA,CAAaS,KAAA,IAAS,KAAK;IAEvEC,SAAA,CAAU,MAAM;MACR,MAAAC,KAAA,GAAQC,UAAA,CAAW,MAAM;QAC7Bd,QAAA,CAASW,KAAA,GAAQ;QACjBI,YAAA,CAAaF,KAAK;MAAA,GACjB,CAAC;IAAA,CACL;IAEM;MACLb,QAAA;MACAE,YAAA;MACAC,cAAA;MACAI,eAAA;MACAE,iBAAA;MACAL;IAAA;EAEJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}