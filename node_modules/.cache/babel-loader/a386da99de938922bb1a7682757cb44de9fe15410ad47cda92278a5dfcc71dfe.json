{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, computed, ref, h, Fragment } from \"vue\";\nimport { h as hasOwnProperty } from \"../../utils/has-own-property-06b9a995.mjs\";\nimport { r as resolveSlot } from \"../../utils/resolveSlot-2af767a1.mjs\";\nimport { u as useAlignProps, a as useAlign } from \"../../composables/useAlign-c67f8aff.mjs\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { u as useColors } from \"../../composables/useColors-f23d24ff.mjs\";\nimport { u as useTranslation } from \"../../composables/useTranslation-acf7d88d.mjs\";\nconst _sfc_main = defineComponent({\n  name: \"VaBreadcrumbs\",\n  props: {\n    ...useAlignProps,\n    ...useComponentPresetProp,\n    separator: {\n      type: String,\n      default: \"/\"\n    },\n    color: {\n      type: String,\n      default: \"secondary\"\n    },\n    activeColor: {\n      type: String,\n      default: null\n    },\n    separatorColor: {\n      type: String,\n      default: null\n    },\n    ariaLabel: {\n      type: String,\n      default: \"$t:breadcrumbs\"\n    }\n  },\n  setup(props, {\n    slots\n  }) {\n    const {\n      alignComputed\n    } = useAlign(props);\n    const {\n      getColor\n    } = useColors();\n    const computedThemesSeparatorColor = computed(() => {\n      return props.separatorColor ? getColor(props.separatorColor) : getColor(props.color);\n    });\n    const computedThemesActiveColor = computed(() => {\n      return props.activeColor ? getColor(props.activeColor) : getColor(props.color);\n    });\n    const childNodeFilter = (result, node) => {\n      const nodes = node && node.type === Fragment && node.children ? node.children : [node];\n      return [...result, ...nodes.filter(node2 => {\n        var _a, _b;\n        return !!((_b = (_a = node2 == null ? void 0 : node2.type) == null ? void 0 : _a.name) == null ? void 0 : _b.match(/VaBreadcrumbsItem$/));\n      })];\n    };\n    const createSeparatorComponent = () => {\n      const separatorNode = resolveSlot(slots.separator) || [props.separator];\n      return h(\"span\", {\n        \"aria-hidden\": true,\n        class: [\"va-breadcrumbs__separator\"],\n        style: [{\n          color: computedThemesSeparatorColor.value\n        }]\n      }, separatorNode);\n    };\n    const isDisabledChild = child => {\n      const childPropData = child == null ? void 0 : child.props;\n      if (!childPropData || !hasOwnProperty(childPropData, \"disabled\")) {\n        return false;\n      }\n      if (childPropData.disabled === \"\") {\n        return true;\n      }\n      return Boolean(childPropData.disabled);\n    };\n    const isAllChildLinks = ref(true);\n    const getChildren = () => {\n      const defaultSlotContent = resolveSlot(slots.default);\n      if (!defaultSlotContent) {\n        return;\n      }\n      const childNodes = defaultSlotContent.reduce(childNodeFilter, []) || [];\n      const childNodesLength = childNodes.length;\n      const isLastIndexChildNodes = index => index === childNodesLength - 1;\n      const isChildLink = child => {\n        const childPropData = child == null ? void 0 : child.props;\n        if (!childPropData || !hasOwnProperty(childPropData, \"to\")) {\n          return false;\n        }\n        return !!(childPropData.to && !childPropData.disabled);\n      };\n      const createChildComponent = (child, index) => h(\"span\", {\n        class: \"va-breadcrumbs__item\",\n        \"aria-current\": isLastIndexChildNodes(index) && isChildLink(child) ? \"location\" : false,\n        style: {\n          color: !isLastIndexChildNodes(index) && !isDisabledChild(child) ? computedThemesActiveColor.value : null\n        }\n      }, [child]);\n      const children = [];\n      if (childNodesLength) {\n        childNodes.forEach((child, index) => {\n          if (isAllChildLinks.value && !isChildLink(child)) {\n            isAllChildLinks.value = false;\n          }\n          children.push(createChildComponent(child, index));\n          if (!isLastIndexChildNodes(index)) {\n            children.push(createSeparatorComponent());\n          }\n        });\n      }\n      return children;\n    };\n    const {\n      tp\n    } = useTranslation();\n    return () => h(\"div\", {\n      class: \"va-breadcrumbs\",\n      style: alignComputed.value,\n      role: isAllChildLinks.value ? \"navigation\" : void 0,\n      \"aria-label\": isAllChildLinks.value ? tp(props.ariaLabel) : void 0\n    }, getChildren());\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaBreadcrumbs.css';","map":{"version":3,"names":["_sfc_main","defineComponent","name","props","useAlignProps","useComponentPresetProp","separator","type","String","default","color","activeColor","separatorColor","ariaLabel","setup","slots","alignComputed","useAlign","getColor","useColors","computedThemesSeparatorColor","computed","computedThemesActiveColor","childNodeFilter","result","node","nodes","Fragment","children","filter","node2","_b","_a","match","createSeparatorComponent","separatorNode","resolveSlot","h","class","style","value","isDisabledChild","child","childPropData","hasOwnProperty","disabled","Boolean","isAllChildLinks","ref","getChildren","defaultSlotContent","childNodes","reduce","childNodesLength","length","isLastIndexChildNodes","index","isChildLink","to","createChildComponent","forEach","push","tp","useTranslation","role"],"sources":["../../../../../src/components/va-breadcrumbs/VaBreadcrumbs.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { computed, defineComponent, Fragment, h, ref, VNode } from 'vue'\n\nimport { useComponentPresetProp, useAlign, useAlignProps, useColors, useTranslation } from '../../composables'\n\nimport { hasOwnProperty } from '../../utils/has-own-property'\nimport { resolveSlot } from '../../utils/resolveSlot'\n\nexport default defineComponent({\n  name: 'VaBreadcrumbs',\n  props: {\n    ...useAlignProps,\n    ...useComponentPresetProp,\n    separator: { type: String, default: '/' },\n    color: { type: String, default: 'secondary' },\n    activeColor: { type: String, default: null },\n    separatorColor: { type: String, default: null },\n    ariaLabel: { type: String, default: '$t:breadcrumbs' },\n  },\n  setup (props, { slots }) {\n    const { alignComputed } = useAlign(props)\n\n    const { getColor } = useColors()\n    const computedThemesSeparatorColor = computed(() => {\n      return props.separatorColor ? getColor(props.separatorColor) : getColor(props.color)\n    })\n    const computedThemesActiveColor = computed(() => {\n      return props.activeColor ? getColor(props.activeColor) : getColor(props.color)\n    })\n\n    const childNodeFilter = (result: VNode[], node: VNode) => {\n      const nodes = node && node.type === Fragment && node.children ? node.children as VNode[] : [node]\n\n      return [\n        ...result,\n        ...nodes.filter((node?: VNode) => !!(node?.type as any)?.name?.match(/VaBreadcrumbsItem$/)),\n      ]\n    }\n\n    const createSeparatorComponent = () => {\n      // Temp fix for https://github.com/intlify/vue-i18n-next/issues/412\n      // `separatorNode` can be moved outside this method after update vuestic's minimal vue version to 3.1.0\n      // testing: have to monitor errors after leaving breadcrumbs page in doc\n      const separatorNode = resolveSlot(slots.separator) || [props.separator]\n\n      return h('span', {\n        'aria-hidden': true,\n        class: ['va-breadcrumbs__separator'],\n        style: [{ color: computedThemesSeparatorColor.value }],\n      }, separatorNode)\n    }\n\n    const isDisabledChild = (child: VNode) => {\n      const childPropData = child?.props\n      if (!childPropData || !hasOwnProperty(childPropData, 'disabled')) {\n        return false\n      }\n\n      if (childPropData.disabled === '') { // NOTE: by default empty attribute is ''\n        return true\n      }\n\n      return Boolean(childPropData.disabled)\n    }\n\n    const isAllChildLinks = ref(true)\n    const getChildren = () => {\n      const defaultSlotContent = resolveSlot(slots.default)\n      if (!defaultSlotContent) { return }\n      const childNodes = defaultSlotContent.reduce(childNodeFilter, []) || []\n      const childNodesLength = childNodes.length\n      const isLastIndexChildNodes = (index: number) => index === childNodesLength - 1\n      const isChildLink = (child: VNode) => {\n        const childPropData = child?.props\n        if (!childPropData || !hasOwnProperty(childPropData, 'to')) {\n          return false\n        }\n\n        return !!(childPropData.to && !childPropData.disabled)\n      }\n\n      const createChildComponent = (child: VNode, index: number) => h(\n        'span', {\n          class: 'va-breadcrumbs__item',\n          'aria-current': (isLastIndexChildNodes(index) && isChildLink(child)) ? 'location' : false,\n          style: {\n            color: (!isLastIndexChildNodes(index) && !isDisabledChild(child)) ? computedThemesActiveColor.value : null,\n          },\n        },\n        [child],\n      )\n\n      const children = [] as VNode[]\n\n      if (childNodesLength) {\n        childNodes.forEach((child: VNode, index: number) => {\n          if (isAllChildLinks.value && !isChildLink(child)) {\n            isAllChildLinks.value = false\n          }\n\n          children.push(createChildComponent(child, index))\n\n          if (!isLastIndexChildNodes(index)) {\n            children.push(createSeparatorComponent())\n          }\n        })\n      }\n\n      return children\n    }\n\n    const { tp } = useTranslation()\n\n    return () => h('div', {\n      class: 'va-breadcrumbs',\n      style: alignComputed.value,\n      role: isAllChildLinks.value ? 'navigation' : undefined,\n      'aria-label': (isAllChildLinks.value ? tp(props.ariaLabel) : undefined),\n    }, getChildren())\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-breadcrumbs {\n  display: var(--va-breadcrumbs-display);\n  width: var(--va-breadcrumbs-width);\n  justify-content: var(--va-breadcrumbs-justify-content);\n  font-family: var(--va-font-family);\n\n  &__item {\n    display: var(--va-breadcrumbs-item-display);\n  }\n\n  &__separator {\n    padding: var(--va-breadcrumbs-separator-padding);\n    display: var(--va-breadcrumbs-separator-display);\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}