{"ast":null,"code":"import { defineComponent, shallowRef, computed, toRef, h, Fragment, Teleport, nextTick } from \"vue\";\nimport { p as pick, k as kebabCase } from \"../../../vendor-fff696df.mjs\";\nimport { u as useAnchorSelector } from \"./hooks/useAnchorSelector-28e948a7.mjs\";\nimport { u as useCursorAnchor } from \"./hooks/useCursorAnchor-23b1a013.mjs\";\nimport { u as useKeyboardNavigation, a as useMouseNavigation } from \"./hooks/useDropdownNavigation-a243bd0d.mjs\";\nimport { a as renderSlotNode } from \"../../utils/headless-cf5c266f.mjs\";\nimport { w as warn } from \"../../utils/console-42c8e8cc.mjs\";\nimport { c as createStatefulProps, u as useStatefulEmits, b as useStateful } from \"../../composables/useStateful-50e4a6b9.mjs\";\nimport { a as usePlacementAliasesProps } from \"../../composables/usePlacementAliases-c092b4d3.mjs\";\nimport { u as useDebounceFn } from \"../../composables/useDebounce-62aad1c4.mjs\";\nimport { u as useHTMLElementSelector } from \"../../composables/useHTMLElementSelector-7d16cccf.mjs\";\nimport { u as useDropdown } from \"../../composables/useDropdown-6aa8c138.mjs\";\nimport { u as useIsMounted } from \"../../composables/useIsMounted-a63f9559.mjs\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset-0dfbd395.mjs\";\nimport { u as useBem } from \"../../composables/useBem-10a5bc6e.mjs\";\nimport { u as useHTMLElement } from \"../../composables/useHTMLElement-beee793a.mjs\";\nimport { u as useClickOutside } from \"../../composables/useClickOutside-df7e5a91.mjs\";\nimport { u as useDocument } from \"../../composables/useDocument-5c9446c6.mjs\";\nimport { u as useTranslation } from \"../../composables/useTranslation-acf7d88d.mjs\";\nconst _sfc_main = defineComponent({\n  name: \"VaDropdown\",\n  inheritAttrs: false,\n  props: {\n    ...createStatefulProps(Boolean, true),\n    ...useComponentPresetProp,\n    ...usePlacementAliasesProps,\n    disabled: {\n      type: Boolean\n    },\n    readonly: {\n      type: Boolean\n    },\n    anchorSelector: {\n      type: String,\n      default: \"\"\n    },\n    innerAnchorSelector: {\n      type: String,\n      default: \"\"\n    },\n    /** Viewport where dropdown will be rendered if preventOverflow is true. Autoplacement will be calculated relative to `target` */\n    target: {\n      type: [String, Object],\n      default: void 0\n    },\n    /** Element where dropdown content will be rendered. */\n    teleport: {\n      type: [String, Object],\n      default: void 0\n    },\n    preventOverflow: {\n      type: Boolean,\n      default: false\n    },\n    keepAnchorWidth: {\n      type: Boolean,\n      default: false\n    },\n    isContentHoverable: {\n      type: Boolean,\n      default: true\n    },\n    closeOnContentClick: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOutside: {\n      type: Boolean,\n      default: true\n    },\n    closeOnAnchorClick: {\n      type: Boolean,\n      default: true\n    },\n    hoverOverTimeout: {\n      type: Number,\n      default: 30\n    },\n    hoverOutTimeout: {\n      type: Number,\n      default: 200\n    },\n    offset: {\n      type: [Array, Number],\n      default: 0\n    },\n    stickToEdges: {\n      type: Boolean,\n      default: false\n    },\n    autoPlacement: {\n      type: Boolean,\n      default: true\n    },\n    cursor: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {\n      type: String,\n      default: \"click\",\n      validator: value => [\"click\", \"right-click\", \"hover\", \"dblclick\", \"none\"].includes(value)\n    },\n    /** Not reactive */\n    keyboardNavigation: {\n      type: Boolean,\n      default: false\n    },\n    ariaLabel: {\n      type: String,\n      default: \"$t:toggleDropdown\"\n    }\n  },\n  emits: [...useStatefulEmits, \"anchor-click\", \"anchor-right-click\", \"content-click\", \"click-outside\", \"close\", \"open\", \"anchor-dblclick\"],\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const contentRef = shallowRef();\n    const {\n      valueComputed: statefulVal\n    } = useStateful(props, emit);\n    const valueComputed = computed({\n      get: () => statefulVal.value && !props.disabled && !props.readonly,\n      set(val) {\n        statefulVal.value = val;\n        if (val) {\n          emit(\"open\");\n        } else {\n          emit(\"close\");\n        }\n      }\n    });\n    const computedClass = useBem(\"va-dropdown\", () => pick(props, [\"disabled\"]));\n    const {\n      debounced: debounceHover,\n      cancel: cancelHoverDebounce\n    } = useDebounceFn(toRef(props, \"hoverOverTimeout\"));\n    const {\n      debounced: debounceUnHover,\n      cancel: cancelUnHoverDebounce\n    } = useDebounceFn(toRef(props, \"hoverOutTimeout\"));\n    const onMouseEnter = () => {\n      if (props.trigger !== \"hover\" || props.disabled) {\n        return;\n      }\n      debounceHover(() => {\n        valueComputed.value = true;\n      });\n      cancelUnHoverDebounce();\n    };\n    const onMouseLeave = () => {\n      if (props.trigger !== \"hover\" || props.disabled) {\n        return;\n      }\n      if (props.isContentHoverable) {\n        debounceUnHover(() => {\n          valueComputed.value = false;\n        });\n      } else {\n        valueComputed.value = false;\n      }\n      cancelHoverDebounce();\n    };\n    const emitAndClose = (eventName, close, e) => {\n      emit(eventName, e);\n      if (close && props.trigger !== \"none\") {\n        valueComputed.value = false;\n      }\n    };\n    const elRef = useHTMLElement(\"computedAnchorRef\");\n    if (props.keyboardNavigation) {\n      useKeyboardNavigation(elRef, valueComputed);\n    }\n    useMouseNavigation(elRef, {\n      click(e) {\n        if (props.trigger !== \"click\" && kebabCase(props.trigger) !== \"right-click\" || props.disabled) {\n          return;\n        }\n        if (valueComputed.value) {\n          emitAndClose(\"anchor-click\", props.closeOnAnchorClick, e);\n        } else {\n          if (props.trigger !== \"click\") {\n            return;\n          }\n          valueComputed.value = true;\n          emit(\"anchor-click\", e);\n        }\n      },\n      contextmenu(e) {\n        if (kebabCase(props.trigger) !== \"right-click\" || props.disabled) {\n          return;\n        }\n        e.preventDefault();\n        if (valueComputed.value) {\n          emitAndClose(\"anchor-right-click\", props.closeOnAnchorClick, e);\n          if (props.cursor) {\n            nextTick(() => {\n              valueComputed.value = true;\n            });\n          }\n        } else {\n          valueComputed.value = true;\n          emit(\"anchor-right-click\", e);\n        }\n      },\n      dblclick(e) {\n        if (props.trigger !== \"dblclick\" || props.disabled) {\n          return;\n        }\n        if (valueComputed.value) {\n          emitAndClose(\"anchor-dblclick\", props.closeOnAnchorClick, e);\n          if (props.cursor) {\n            nextTick(() => {\n              valueComputed.value = true;\n            });\n          }\n        } else {\n          valueComputed.value = true;\n          emit(\"anchor-dblclick\", e);\n        }\n      },\n      mouseenter: onMouseEnter,\n      mouseleave: onMouseLeave\n    });\n    const {\n      anchorRef: computedAnchorRef\n    } = useAnchorSelector(props);\n    useClickOutside([computedAnchorRef, contentRef], () => {\n      if (props.closeOnClickOutside && valueComputed.value) {\n        emitAndClose(\"click-outside\", props.closeOnClickOutside);\n      }\n    });\n    const cursorAnchor = useCursorAnchor(computedAnchorRef, valueComputed);\n    const document = useDocument();\n    const isPopoverFloating = computed(() => props.preventOverflow);\n    const target = useHTMLElementSelector(computed(() => props.target || \"body\"));\n    const teleport = useHTMLElementSelector(computed(() => props.teleport));\n    const targetComputed = computed(() => {\n      var _a, _b, _c;\n      if (computedAnchorRef.value && !((_b = (_a = target.value) == null ? void 0 : _a.contains) == null ? void 0 : _b.call(_a, computedAnchorRef.value))) {\n        return (_c = document.value) == null ? void 0 : _c.body;\n      }\n      return target.value;\n    });\n    const teleportTargetComputed = computed(() => {\n      var _a;\n      if (teleport.value) {\n        return teleport.value;\n      }\n      if (!isPopoverFloating.value) {\n        return ((_a = elRef.value) == null ? void 0 : _a.parentElement) || void 0;\n      }\n      return targetComputed.value;\n    });\n    const teleportDisabled = computed(() => {\n      if (teleport.value) {\n        return false;\n      }\n      return props.disabled || !isPopoverFloating.value;\n    });\n    useDropdown(computed(() => props.cursor ? cursorAnchor.value : computedAnchorRef.value), contentRef, computed(() => ({\n      keepAnchorWidth: props.keepAnchorWidth,\n      offset: props.offset,\n      stickToEdges: props.stickToEdges,\n      autoPlacement: props.autoPlacement,\n      root: teleportTargetComputed.value,\n      viewport: targetComputed.value\n    })), props);\n    const isMounted = useIsMounted();\n    return {\n      ...useTranslation(),\n      isMounted,\n      valueComputed,\n      computedAnchorRef,\n      computedClass,\n      onMouseEnter,\n      teleportTargetComputed,\n      teleportDisabled,\n      onMouseLeave,\n      emitAndClose,\n      contentRef\n    };\n  },\n  render() {\n    const slotBinds = {\n      value: this.valueComputed.value,\n      hide: () => {\n        this.valueComputed.value = false;\n      },\n      show: () => {\n        this.valueComputed.value = true;\n      }\n    };\n    const defaultSlotVNode = renderSlotNode(this.$slots.default, slotBinds, {\n      ref: \"contentRef\",\n      class: \"va-dropdown__content-wrapper\",\n      onMouseOver: () => this.$props.isContentHoverable && this.onMouseEnter(),\n      onMouseOut: () => this.onMouseLeave(),\n      onClick: () => this.emitAndClose(\"content-click\", this.$props.closeOnContentClick)\n    });\n    const anchorSlotVNode = renderSlotNode(this.$slots.anchor, slotBinds, {\n      ref: \"computedAnchorRef\",\n      role: \"button\",\n      class: [\"va-dropdown\", ...this.computedClass.asArray.value],\n      style: {\n        position: \"relative\"\n      },\n      \"aria-label\": this.tp(this.$props.ariaLabel),\n      \"aria-disabled\": this.$props.disabled,\n      \"aria-expanded\": !!this.valueComputed.value,\n      ...this.$attrs\n    });\n    if (!anchorSlotVNode) {\n      warn(\"VaDropdown: You must provide an anchor slot\");\n      return;\n    }\n    if (!defaultSlotVNode) {\n      warn(\"VaDropdown: default slot is missing\");\n      return h(anchorSlotVNode);\n    }\n    return h(Fragment, {}, [anchorSlotVNode, this.isMounted && this.valueComputed && h(Teleport, {\n      to: this.teleportTargetComputed,\n      disabled: this.teleportDisabled\n    }, [defaultSlotVNode])]);\n  }\n});\nexport { _sfc_main as _ };\nimport '../../../VaDropdown.css';","map":{"version":3,"names":["_sfc_main","defineComponent","name","inheritAttrs","props","createStatefulProps","Boolean","useComponentPresetProp","usePlacementAliasesProps","disabled","type","readonly","anchorSelector","String","default","innerAnchorSelector","target","Object","teleport","preventOverflow","keepAnchorWidth","isContentHoverable","closeOnContentClick","closeOnClickOutside","closeOnAnchorClick","hoverOverTimeout","Number","hoverOutTimeout","offset","Array","stickToEdges","autoPlacement","cursor","trigger","validator","value","includes","keyboardNavigation","ariaLabel","emits","useStatefulEmits","setup","emit","slots","attrs","contentRef","shallowRef","valueComputed","statefulVal","useStateful","computed","get","set","val","computedClass","useBem","pick","debounced","debounceHover","cancel","cancelHoverDebounce","useDebounceFn","toRef","debounceUnHover","cancelUnHoverDebounce","onMouseEnter","onMouseLeave","emitAndClose","eventName","close","e","elRef","useHTMLElement","useKeyboardNavigation","useMouseNavigation","click","kebabCase","contextmenu","preventDefault","nextTick","dblclick","mouseenter","mouseleave","anchorRef","computedAnchorRef","useAnchorSelector","useClickOutside","cursorAnchor","useCursorAnchor","document","useDocument","isPopoverFloating","useHTMLElementSelector","targetComputed","_b","_a","contains","call","_c","body","teleportTargetComputed","parentElement","teleportDisabled","useDropdown","root","viewport","isMounted","useIsMounted","useTranslation","render","slotBinds","hide","show","defaultSlotVNode","renderSlotNode","$slots","ref","class","onMouseOver","$props","onMouseOut","onClick","anchorSlotVNode","anchor","role","asArray","style","position","tp","$attrs","warn","h","Fragment","Teleport","to"],"sources":["../../../../../src/components/va-dropdown/VaDropdown.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  computed,\n  defineComponent,\n  h,\n  nextTick,\n  type PropType,\n  shallowRef,\n  toRef,\n  Fragment,\n  Teleport,\n} from 'vue'\n\nimport pick from 'lodash/pick.js'\nimport kebabCase from 'lodash/kebabCase.js'\n\nimport {\n  useComponentPresetProp,\n  useStateful, useStatefulEmits, createStatefulProps,\n  useDebounceFn,\n  useDropdown,\n  usePlacementAliasesProps,\n  useClickOutside,\n  useBem,\n  useHTMLElementSelector,\n  useIsMounted,\n  useDocument,\n  useHTMLElement,\n  MaybeHTMLElementOrSelector,\n  useTranslation,\n} from '../../composables'\nimport { useAnchorSelector } from './hooks/useAnchorSelector'\nimport { useCursorAnchor } from './hooks/useCursorAnchor'\nimport { useKeyboardNavigation, useMouseNavigation } from './hooks/useDropdownNavigation'\n\nimport { renderSlotNode } from '../../utils/headless'\nimport { warn } from '../../utils/console'\n\nimport type { DropdownOffsetProp } from './types'\n\nexport default defineComponent({\n  name: 'VaDropdown',\n\n  inheritAttrs: false,\n\n  props: {\n    ...createStatefulProps(Boolean, true),\n    ...useComponentPresetProp,\n    ...usePlacementAliasesProps,\n    disabled: { type: Boolean },\n    readonly: { type: Boolean },\n    anchorSelector: { type: String, default: '' },\n    innerAnchorSelector: { type: String, default: '' },\n    /** Viewport where dropdown will be rendered if preventOverflow is true. Autoplacement will be calculated relative to `target` */\n    target: { type: [String, Object] as PropType<MaybeHTMLElementOrSelector>, default: undefined },\n    /** Element where dropdown content will be rendered. */\n    teleport: { type: [String, Object] as PropType<MaybeHTMLElementOrSelector>, default: undefined },\n    preventOverflow: { type: Boolean, default: false },\n    keepAnchorWidth: { type: Boolean, default: false },\n    isContentHoverable: { type: Boolean, default: true },\n    closeOnContentClick: { type: Boolean, default: true },\n    closeOnClickOutside: { type: Boolean, default: true },\n    closeOnAnchorClick: { type: Boolean, default: true },\n    hoverOverTimeout: { type: Number, default: 30 },\n    hoverOutTimeout: { type: Number, default: 200 },\n    offset: { type: [Array, Number] as PropType<DropdownOffsetProp>, default: 0 },\n    stickToEdges: { type: Boolean, default: false },\n    autoPlacement: { type: Boolean, default: true },\n    cursor: { type: Boolean, default: false },\n    trigger: {\n      type: String as PropType<'click' | 'right-click' | 'hover' | 'dblclick' | 'none'>,\n      default: 'click',\n      validator: (value: string) => ['click', 'right-click', 'hover', 'dblclick', 'none'].includes(value),\n    },\n    /** Not reactive */\n    keyboardNavigation: { type: Boolean, default: false },\n\n    ariaLabel: { type: String, default: '$t:toggleDropdown' },\n  },\n\n  emits: [...useStatefulEmits, 'anchor-click', 'anchor-right-click', 'content-click', 'click-outside', 'close', 'open', 'anchor-dblclick'],\n\n  setup (props, { emit, slots, attrs }) {\n    const contentRef = shallowRef<HTMLElement>()\n\n    const { valueComputed: statefulVal } = useStateful(props, emit)\n    const valueComputed = computed({\n      get: () => statefulVal.value && !props.disabled && !props.readonly,\n      set (val) {\n        statefulVal.value = val\n        if (val) {\n          emit('open')\n        } else {\n          emit('close')\n        }\n      },\n    })\n\n    const computedClass = useBem('va-dropdown', () => pick(props, ['disabled']))\n\n    const { debounced: debounceHover, cancel: cancelHoverDebounce } = useDebounceFn(toRef(props, 'hoverOverTimeout'))\n    const { debounced: debounceUnHover, cancel: cancelUnHoverDebounce } = useDebounceFn(toRef(props, 'hoverOutTimeout'))\n\n    const onMouseEnter = () => {\n      if (props.trigger !== 'hover' || props.disabled) { return }\n\n      debounceHover(() => { valueComputed.value = true })\n      cancelUnHoverDebounce()\n    }\n\n    const onMouseLeave = () => {\n      if (props.trigger !== 'hover' || props.disabled) { return }\n\n      if (props.isContentHoverable) {\n        debounceUnHover(() => { valueComputed.value = false })\n      } else {\n        valueComputed.value = false\n      }\n      cancelHoverDebounce()\n    }\n\n    const emitAndClose = (eventName: Parameters<typeof emit>[0], close?: boolean, e?: Event) => {\n      emit(eventName, e)\n      if (close && props.trigger !== 'none') { valueComputed.value = false }\n    }\n\n    const elRef = useHTMLElement('computedAnchorRef')\n\n    if (props.keyboardNavigation) {\n      useKeyboardNavigation(elRef, valueComputed)\n    }\n\n    useMouseNavigation(elRef, {\n      click (e) {\n        if ((props.trigger !== 'click' && kebabCase(props.trigger) !== 'right-click') || props.disabled) { return }\n\n        if (valueComputed.value) {\n          emitAndClose('anchor-click', props.closeOnAnchorClick, e)\n        } else {\n          if (props.trigger !== 'click') { return }\n          valueComputed.value = true\n          emit('anchor-click', e)\n        }\n      },\n      contextmenu (e) {\n        if (kebabCase(props.trigger) !== 'right-click' || props.disabled) { return }\n        e.preventDefault()\n\n        if (valueComputed.value) {\n          emitAndClose('anchor-right-click', props.closeOnAnchorClick, e)\n\n          if (props.cursor) {\n            nextTick(() => { valueComputed.value = true })\n          }\n        } else {\n          valueComputed.value = true\n          emit('anchor-right-click', e)\n        }\n      },\n      dblclick (e) {\n        if (props.trigger !== 'dblclick' || props.disabled) { return }\n        if (valueComputed.value) {\n          emitAndClose('anchor-dblclick', props.closeOnAnchorClick, e)\n\n          if (props.cursor) {\n            nextTick(() => { valueComputed.value = true })\n          }\n        } else {\n          valueComputed.value = true\n          emit('anchor-dblclick', e)\n        }\n      },\n      mouseenter: onMouseEnter,\n      mouseleave: onMouseLeave,\n    })\n\n    const { anchorRef: computedAnchorRef } = useAnchorSelector(props)\n    useClickOutside([computedAnchorRef, contentRef], () => {\n      if (props.closeOnClickOutside && valueComputed.value) {\n        emitAndClose('click-outside', props.closeOnClickOutside)\n      }\n    })\n\n    const cursorAnchor = useCursorAnchor(computedAnchorRef, valueComputed)\n    const document = useDocument()\n    const isPopoverFloating = computed(() => props.preventOverflow)\n\n    const target = useHTMLElementSelector(computed(() => props.target || 'body'))\n    const teleport = useHTMLElementSelector(computed(() => props.teleport))\n\n    const targetComputed = computed(() => {\n      if (computedAnchorRef.value && !target.value?.contains?.(computedAnchorRef.value)) { return document.value?.body }\n\n      return target.value\n    })\n\n    const teleportTargetComputed = computed<HTMLElement | undefined>(() => {\n      if (teleport.value) {\n        return teleport.value\n      }\n\n      if (!isPopoverFloating.value) {\n        // If not floating just render inside the parent element\n        return elRef.value?.parentElement || undefined\n      }\n\n      return targetComputed.value\n    })\n\n    const teleportDisabled = computed(() => {\n      if (teleport.value) { return false }\n      return props.disabled || !isPopoverFloating.value\n    })\n\n    useDropdown(\n      computed(() => props.cursor ? cursorAnchor.value : computedAnchorRef.value),\n      contentRef,\n      computed(() => ({\n        keepAnchorWidth: props.keepAnchorWidth,\n        offset: props.offset,\n        stickToEdges: props.stickToEdges,\n        autoPlacement: props.autoPlacement,\n        root: teleportTargetComputed.value,\n        viewport: targetComputed.value,\n      })),\n      props,\n    )\n\n    const isMounted = useIsMounted()\n\n    return {\n      ...useTranslation(),\n      isMounted,\n      valueComputed,\n      computedAnchorRef,\n      computedClass,\n      onMouseEnter,\n      teleportTargetComputed,\n      teleportDisabled,\n      onMouseLeave,\n      emitAndClose,\n      contentRef,\n    }\n  },\n\n  render () {\n    const slotBinds = {\n      value: this.valueComputed.value,\n      hide: () => { this.valueComputed.value = false },\n      show: () => { this.valueComputed.value = true },\n    }\n\n    const defaultSlotVNode = renderSlotNode(this.$slots.default, slotBinds, {\n      ref: 'contentRef',\n      class: 'va-dropdown__content-wrapper',\n      onMouseOver: () => this.$props.isContentHoverable && this.onMouseEnter(),\n      onMouseOut: () => this.onMouseLeave(),\n      onClick: () => this.emitAndClose('content-click', this.$props.closeOnContentClick),\n    })\n\n    const anchorSlotVNode = renderSlotNode(this.$slots.anchor, slotBinds, {\n      ref: 'computedAnchorRef',\n      role: 'button',\n      class: ['va-dropdown', ...this.computedClass.asArray.value],\n      style: { position: 'relative' },\n      'aria-label': this.tp(this.$props.ariaLabel),\n      'aria-disabled': this.$props.disabled,\n      'aria-expanded': !!this.valueComputed.value,\n      ...this.$attrs,\n    })\n\n    if (!anchorSlotVNode) {\n      warn('VaDropdown: You must provide an anchor slot')\n      return\n    }\n\n    if (!defaultSlotVNode) {\n      warn('VaDropdown: default slot is missing')\n      return h(anchorSlotVNode)\n    }\n\n    return h(Fragment, {}, [\n      anchorSlotVNode,\n\n      (this.isMounted && this.valueComputed) && h(\n        Teleport,\n        {\n          to: this.teleportTargetComputed,\n          disabled: this.teleportDisabled,\n        },\n        [defaultSlotVNode],\n      ),\n    ])\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/resources';\n@import 'variables';\n\n.va-dropdown {\n  /* Solved the alignment problem (if we try to align inline and block elements) */\n  line-height: var(--va-dropdown-line-height);\n  font-family: var(--va-font-family);\n  display: var(--va-dropdown-display);\n  position: relative;\n  max-width: 100%;\n  vertical-align: middle;\n\n  &--disabled {\n    @include va-disabled;\n  }\n\n  &__content-wrapper {\n    z-index: var(--va-dropdown-content-wrapper-z-index);\n    font-family: var(--va-font-family);\n    top: 0;\n    left: 0;\n    position: absolute;\n  }\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}